webpackJsonp([66],{"1DQk":function(t,e,n){var i=n("mzLA");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("3a95dafb",i,!0,{})},AamB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),o=n.n(i),r=n("Pexp"),a=n("Tg7E"),d={components:{cTitle:r.a},data:function(){return{language:{},para:{},goods_price:0,price:0,order_data:{},deduction:{},checkDeductionList:[],goodsInfo:{}}},methods:{initData:function(){this.para={},this.goods_price=0,this.price=0,this.order_data={},this.deduction={},this.checkDeductionList=[],this.goodsInf={}},getData:function(){var t=this;$http.get("plugin.live.Frontend.Modules.Order.Controllers.goods-buy",t.para,"生成中...").then(function(e){1==e.result?(t.goodsInfo=e.data,t.setDataView(e.data)):a.MessageBox.alert(e.msg)},function(t){console.log(t)})},setDataView:function(t){this.order_data=t.order_data,this.deduction=t.order_data[0].discount.deduction,this.goods_price=t.total_goods_price,this.price=t.total_price},discountHandle:function(t,e){this.screenDiscount(t,e),this.para.orders=o()(this.assembleDeduction()),this.getData()},screenDiscount:function(t,e){var n=new Object;if(e.checked)if(this.checkDeductionList.length>0){for(var i=0;i<this.checkDeductionList.length;i++)this.checkDeductionList[i].pre_id==t.order.pre_id&&this.checkDeductionList.splice(i,1);n.deduction_ids=e.id,n.pre_id=t.order.pre_id,this.checkDeductionList.push(n)}else n.deduction_ids=e.id,n.pre_id=t.order.pre_id,this.checkDeductionList.push(n);else if(this.checkDeductionList.length>0)for(var o=0;o<this.checkDeductionList.length;o++)this.checkDeductionList[o].pre_id==t.order.pre_id&&this.checkDeductionList.splice(o,1)},assembleDeduction:function(){for(var t=[],e=0;e<this.checkDeductionList.length;e++)t.push(this.checkDeductionList[e]);return t},submit:function(){var t=this,e=this.assembleJson();$http.get("plugin.live.Frontend.Modules.Order.Controllers.create",e,"提交中...").then(function(e){console.log(e.data),1==e.result?t.$router.push(t.fun.getUrl("orderpay",{status:"2",order_ids:e.data.order_ids})):a.MessageBox.alert(e.msg)},function(t){console.log(t)})},assembleJson:function(){return this.para.address="",this.para.goods=o()(this.assembleGoods()),this.para.member_coupon_ids=o()(this.assembleCoupons()),this.para.orders=o()(this.assembleDeduction()),this.para},assembleCoupons:function(){return[]},assembleGoods:function(){for(var t=[],e=0;e<this.goodsInfo.order_data.length;e++)for(var n=0;n<this.goodsInfo.order_data[e].order.order_goods.length;n++){var i=new Object;i.goods_id=this.goodsInfo.order_data[e].order.order_goods[n].goods_id,i.total=this.goodsInfo.order_data[e].order.order_goods[n].total,i.option_id=this.goodsInfo.order_data[e].order.order_goods[n].goods_option_id,t.push(i)}return t}},computed:{getLangState:function(){return this.$store.state.service.languageService}},watch:{getLangState:function(t){this.language=t?JSON.parse(sessionStorage.languageService).waterFee:this.$store.state.service.languageService.waterFee}},mounted:function(){sessionStorage.languageService?this.language=JSON.parse(sessionStorage.languageService).waterFee:this.language=this.$store.state.service.languageService.waterFee},activated:function(){this.initData(),this.$store.commit("onload"),this.para=JSON.parse(this.$route.params.para),console.log(this.para),this.getData()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"electricity"+t.$store.state.service.lang,attrs:{id:"electricity"}},[n("c-title",{attrs:{hide:!1,text:t.language.title}}),t._v(" "),n("div",{staticStyle:{height:"40px"}}),t._v(" "),t._l(t.order_data,function(e,i){return n("div",{key:i,attrs:{id:"isSubtotal"}},[t._l(e.order.order_goods,function(e,i){return n("div",{key:i},[n("p",{staticClass:"subtotal"},[n("span",[t._v(t._s(t.language.subtotal))]),t._v(" "),n("span",[t._v("¥"+t._s(e.goods_price))])])])}),t._v(" "),n("div",{staticClass:"clear"}),t._v(" "),t._l(t.deduction,function(i,o){return t.deduction?n("div",{key:o,staticClass:"integral"},[n("div",[t._v("\n                    "+t._s(i.value)+t._s(i.name)+"\n                    "),n("span",[t._v(t._s(i.price)+t._s(t.language.yuan))])]),t._v(" "),n("mt-switch",{class:{rt:"ch"==t.$store.state.service.lang,lf:"wei"==!t.$store.state.service.lang},on:{change:function(n){return t.discountHandle(e,i)}},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"d.checked"}})],1):t._e()}),t._v(" "),n("div",{staticClass:"clear"})],2)}),t._v(" "),n("div",{staticClass:"m-footer"},[n("div",{staticClass:"amount"},[n("span",[t._v(t._s(t.language.total)+"\n                "),n("b",[t._v(t._s(t.price))])]),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.language.btn))])])])],2)},staticRenderFns:[]};var l=n("VU/8")(d,c,!1,function(t){n("1DQk"),n("e1tn")},"data-v-9853db6a",null);e.default=l.exports},"I9J/":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,'\n@charset "UTF-8";\n/*　input[placeholder], [placeholder], *[placeholder] { \ncolor:red !important; \n} 　*/\n*[data-v-9853db6a] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.electricitych .poundage[data-v-9853db6a] {\n  color: red;\n  font-size: 12px;\n}\n.electricitych .maleall span[data-v-9853db6a] {\n  font-size: 14px;\n  vertical-align: middle;\n  width: auto;\n  margin-left: -0.9375rem;\n  -webkit-box-flex: 0;\n  -ms-flex: none;\n  flex: none;\n  line-height: 3.125rem;\n}\n.electricitych .telep[data-v-9853db6a] {\n  height: 2.8125rem;\n  padding: 0 0.8125rem;\n  background: #fff;\n}\n.electricitych .telep p[data-v-9853db6a] {\n    height: 2.8125rem;\n}\n.electricitych .telep p input[data-v-9853db6a] {\n      width: 100%;\n      height: 100%;\n      border: 0;\n      outline: 0;\n      color: #1bba9e;\n      font-size: 18px;\n}\n.electricitych .content[data-v-9853db6a] {\n  background: #fff;\n}\n.electricitych .content .form .form-group[data-v-9853db6a] {\n    padding: 0 0.9375rem;\n    height: 2.8125rem;\n    border-top: 0.0625rem solid #ccc;\n    /* Safari */\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row;\n            flex-flow: row;\n}\n.electricitych .content .form .form-group .form-help[data-v-9853db6a] {\n      width: 5rem;\n      height: 2.8125rem;\n      line-height: 2.8125rem;\n      text-align: left;\n}\n.electricitych .content .form .form-group .form-controler[data-v-9853db6a] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      height: auto;\n      line-height: 2.8125rem;\n      float: left;\n      border: 0;\n      outline: 0;\n      text-align: left;\n}\n.electricitych .content .form .form-group .form-controler i[data-v-9853db6a] {\n        font-size: 23px;\n        float: right;\n}\n.electricitych .popUp[data-v-9853db6a] {\n  width: 100%;\n  background: #fff;\n}\n.electricitych .popUp .title[data-v-9853db6a] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    border-bottom: 0.0625rem solid #f3f5f7;\n    padding: 0 0.9375rem;\n}\n.electricitych .popUp .title .left[data-v-9853db6a] {\n      float: left;\n}\n.electricitych .popUp .title .right[data-v-9853db6a] {\n      float: right;\n      color: #1bba9e;\n}\n.electricitych .integral[data-v-9853db6a] {\n  height: 2.8125rem;\n  line-height: 2.8125rem;\n  padding: 0 0.8125rem;\n}\n.electricitych .integral div[data-v-9853db6a] {\n    float: left;\n}\n.electricitych .integral div b[data-v-9853db6a] {\n      color: #333;\n      font-size: 16px;\n      font-weight: noraml;\n}\n.electricitych .integral div span[data-v-9853db6a] {\n      color: #333;\n      font-size: 12px;\n}\n.electricitych .subtotal[data-v-9853db6a] {\n  height: 2.5rem;\n  line-height: 2.5rem;\n  padding: 0 0.8125rem;\n  border-bottom: 0.0625rem solid #ccc;\n  margin: 0;\n}\n.electricitych .subtotal span[data-v-9853db6a]:first-child {\n    color: #333;\n    font-size: 16px;\n    float: left;\n}\n.electricitych .subtotal span[data-v-9853db6a]:last-child {\n    color: 12px;\n    color: #333;\n    float: right;\n}\n.electricitych #isSubtotal[data-v-9853db6a] {\n  background: #FFF;\n}\n.electricitych .m-footer[data-v-9853db6a] {\n  width: 100%;\n  background: #fff;\n  position: fixed;\n  bottom: 0;\n}\n.electricitych .m-footer .amount.disableds button[data-v-9853db6a] {\n    background: #ccc;\n}\n.electricitych .m-footer .amount[data-v-9853db6a] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    padding: 0 0 0 0.875rem;\n    margin-bottom: 0;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    border-top: solid 0.0625rem #ebebeb;\n}\n.electricitych .m-footer .amount span[data-v-9853db6a] {\n      color: #333;\n      font-size: 16px;\n      float: left;\n}\n.electricitych .m-footer .amount button[data-v-9853db6a] {\n      width: 6.875rem;\n      height: 2.8125rem;\n      color: #fff;\n      font-size: 16px;\n      background: #f15353;\n      border: 0;\n      float: right;\n}\n.electricitywei .telep[data-v-9853db6a] {\n  height: 2.8125rem;\n  padding: 0 0.8125rem;\n  background: #fff;\n}\n.electricitywei .telep p[data-v-9853db6a] {\n    height: 2.8125rem;\n}\n.electricitywei .telep p input[data-v-9853db6a] {\n      width: 100%;\n      height: 100%;\n      border: 0;\n      outline: 0;\n      color: #1bba9e;\n      font-size: 18px;\n}\n.electricitywei .content[data-v-9853db6a] {\n  background: #fff;\n}\n.electricitywei .content .form .form-group[data-v-9853db6a] {\n    padding: 0 0.9375rem;\n    height: 2.8125rem;\n    border-top: 0.0625rem solid #ccc;\n    /* Safari */\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row;\n            flex-flow: row;\n}\n.electricitywei .content .form .form-group .form-help[data-v-9853db6a] {\n      -webkit-box-ordinal-group: 3;\n          -ms-flex-order: 2;\n              order: 2;\n      width: 5rem;\n      height: 2.8125rem;\n      line-height: 2.8125rem;\n      text-align: right;\n}\n.electricitywei .content .form .form-group .form-controler[data-v-9853db6a] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      height: 2.8125rem;\n      line-height: 2.8125rem;\n      float: left;\n      border: 0;\n      outline: 0;\n      text-align: right;\n}\n.electricitywei .content .form .form-group .form-controler i[data-v-9853db6a] {\n        font-size: 23px;\n        float: left;\n}\n.electricitywei .popUp[data-v-9853db6a] {\n  width: 100%;\n  background: #fff;\n}\n.electricitywei .popUp .title[data-v-9853db6a] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    border-bottom: 0.0625rem solid #f3f5f7;\n    padding: 0 0.9375rem;\n}\n.electricitywei .popUp .title .left[data-v-9853db6a] {\n      float: right;\n}\n.electricitywei .popUp .title .right[data-v-9853db6a] {\n      float: left;\n      color: #1bba9e;\n}\n.electricitywei .m-footer[data-v-9853db6a] {\n  width: 100%;\n  background: #fff;\n  position: fixed;\n  bottom: 0;\n}\n.electricitywei .m-footer .subtotal[data-v-9853db6a] {\n    height: 2.5rem;\n    line-height: 2.5rem;\n    padding: 0 0.8125rem;\n    border-bottom: 0.0625rem solid #ccc;\n    margin: 0;\n}\n.electricitywei .m-footer .subtotal span[data-v-9853db6a]:first-child {\n      color: #333;\n      font-size: 16px;\n      float: right;\n}\n.electricitywei .m-footer .subtotal span[data-v-9853db6a]:last-child {\n      color: 12px;\n      color: #333;\n      float: left;\n}\n.electricitywei .m-footer .integral[data-v-9853db6a] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    padding: 0 0.8125rem;\n}\n.electricitywei .m-footer .integral div[data-v-9853db6a] {\n      float: right;\n}\n.electricitywei .m-footer .integral div b[data-v-9853db6a] {\n        color: #333;\n        font-size: 16px;\n        font-weight: noraml;\n        float: right;\n}\n.electricitywei .m-footer .integral div span[data-v-9853db6a] {\n        color: #333;\n        font-size: 12px;\n}\n.electricitywei .m-footer .amount[data-v-9853db6a] {\n    height: 3.125rem;\n    line-height: 3.125rem;\n    padding: 0 0 0 0.8125rem;\n    margin-bottom: 0;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.electricitywei .m-footer .amount span[data-v-9853db6a] {\n      color: #333;\n      font-size: 16px;\n      float: left;\n}\n.electricitywei .m-footer .amount button[data-v-9853db6a] {\n      width: 6.5625rem;\n      height: 2.5rem;\n      color: #fff;\n      font-size: 16px;\n      background: #ff951b;\n      border: 0;\n      border-radius: 0.1875rem;\n      margin-top: 0.5625rem;\n      float: right;\n}\n',""])},e1tn:function(t,e,n){var i=n("I9J/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("078d6164",i,!0,{})},mzLA:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n::-webkit-input-placeholder {\n    /* WebKit browsers */\n    color: #1bba9e;\n}\n:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: #1bba9e;\n}\n::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: #1bba9e;\n}\n:-ms-input-placeholder {\n    /* Internet Explorer 10+ */\n    color: #1bba9e;\n}\n",""])}});