webpackJsonp([489],{"6k5g":function(t,e,n){var i=n("XmDP");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("fcd63b50",i,!0,{})},XmDP:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n#courier .posit[data-v-306919f6] {\n  top: 285px !important;\n}\n#courier .banner[data-v-306919f6] {\n  height: 170px;\n}\n#courier .banner img[data-v-306919f6] {\n    width: 100%;\n    height: 100%;\n}\n#courier .uploader[data-v-306919f6] {\n  height: 270px;\n  background: #fff;\n}\n#courier .uploader input[type='text'][data-v-306919f6] {\n    border: solid 1px #e2e2e2;\n    width: 80%;\n    height: 36px;\n    border-radius: 4px;\n    margin: auto;\n    padding: 0 6px;\n}\n#courier .uploader .iconfont[data-v-306919f6] {\n    position: absolute;\n    right: 12%;\n    top: 42%;\n}\n#courier .uploader .el-upload-list--picture[data-v-306919f6] {\n    display: none;\n}\n#courier .uploader .select[data-v-306919f6] {\n    border: dashed 1px #e2e2e2;\n    height: 30vw;\n    border-radius: 4px;\n    margin: 0 20px;\n}\n#courier .uploader .select span[data-v-306919f6] {\n      line-height: 30vw;\n      color: #ccc;\n      font-size: 14px;\n}\n#courier .uploader .el-button--success[data-v-306919f6] {\n    width: 70%;\n    height: 35px;\n    margin-top: 23px;\n}\n#courier .record[data-v-306919f6] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  height: 44px;\n  background: #fff;\n  text-align: left;\n  color: #999;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin: 10px 0;\n  line-height: 44px;\n  padding: 0 14px;\n  font-size: 14px;\n}\n#courier .record i[data-v-306919f6] {\n    font-size: 24px;\n    color: #c9c9c9;\n    line-height: 44px;\n}\n#courier .record .icon[data-v-306919f6] {\n    display: inline-block;\n    width: 0.55rem;\n    height: 0.55rem;\n    border: solid 1px #000;\n    border-left: transparent;\n    border-bottom: transparent;\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n    float: right;\n    margin-top: 0.3rem;\n}\n#courier .rulescontainerr header[data-v-306919f6] {\n  width: 100%;\n  height: 40px;\n  background: #fff;\n  line-height: 40px;\n  font-size: 15px;\n  font-weight: bold;\n  margin-bottom: 2px;\n}\n#courier .rulescontainerr .rules[data-v-306919f6] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 10px 14px;\n  background: #fff;\n  line-height: 24px;\n  font-size: 13px;\n  text-align: left;\n}\n",""])},Y2jN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Pexp"),a=n("Tg7E"),o={data:function(){return{banner:"",imgdata:"",rules:"",cupcode:"",show:!1,title:"",couriername:""}},methods:{initWeixin:function(){var t=this;$http.post("member.member.wxJsSdkConfig",{}).then(function(e){1==e.result&&t.weixinConfig(e.data)}).catch(function(t){console.log(t)})},weixinConfig:function(t){wx.config(t.config)},getcode:function(){var t=this;wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(e){var n;n=e.resultStr.split(","),t.cupcode=n[1]},fail:function(t){console.log(t),alert("扫码失败")}})},selectfile:function(){document.querySelector("#input").click()},submitUpload:function(){if(""!=this.imgdata&&""!=this.cupcode){var t={imgdata:this.imgdata,cupcode:this.cupcode};$http.post("plugin.courier.api.frontend.upload.getImg",t).then(function(t){a.MessageBox.alert(t.msg)})}else""==this.imgdata&&""!=this.cupcode?this.$notify("请上传图片！"):""!=this.imgdata&&""==this.cupcode?this.$notify("请填写快递单号！"):""==this.imgdata&&""==this.cupcode&&this.$notify("请填写快递单号并上传图片！")},getrent:function(){var t=this;$http.get("member.member.getUserInfo").then(function(e){e.data.is_agent||a.MessageBox.alert("您还不是推广员,暂无法使用此功能").then(function(e){t.$router.push(t.fun.getUrl("extension"))})})},getimgurl:function(){var t=this,e=document.querySelector("#input"),n=new FileReader;n.readAsDataURL(e.files[0]),n.onload=function(){t.imgdata=this.result,t.show=!0,e.setAttribute("type","text")}},changeimg:function(){this.show=!1,this.imgdata="",document.querySelector("#input").setAttribute("type","file")},getdata:function(){var t=this;$http.get("plugin.courier.api.frontend.upload.ajaxIndex").then(function(e){t.banner=e.data[1].imgdata,t.rules=e.data[1].textarea,t.title=e.data[1].title})}},activated:function(){this.getrent()},created:function(){this.getdata(),this.initWeixin(),this.couriername=window.localStorage.couriername},components:{cTitle:i.a}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"courier"}},[n("c-title",{attrs:{hide:!1,text:t.couriername+"上传"}}),t._v(" "),n("div",{staticStyle:{height:"40px"}}),t._v(" "),t.banner?n("div",{staticClass:"banner"},[n("img",{attrs:{src:t.banner}})]):t._e(),t._v(" "),n("div",{staticClass:"uploader"},[n("div",{staticClass:"scan-box",staticStyle:{position:"relative","padding-top":"20px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.cupcode,expression:"cupcode"}],attrs:{type:"text",placeholder:"请输入"+t.couriername+"号或扫码录入"},domProps:{value:t.cupcode},on:{input:function(e){e.target.composing||(t.cupcode=e.target.value)}}}),t._v(" "),n("div",[n("yd-icon",{staticClass:"iconfont icon-saoyisao",attrs:{slot:"icon",custom:"",size:"24px",color:"#666"},nativeOn:{click:function(e){return t.getcode(e)}},slot:"icon"})],1)]),t._v(" "),n("div",[n("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",id:"input"},on:{change:t.getimgurl}}),t._v(" "),t.show?n("div",{class:{posit:t.banner},staticStyle:{positive:"relative",width:"88.5%",height:"113px","margin-left":"5.5%",position:"absolute",top:"115px"}},[n("span",{staticStyle:{width:"30px",height:"30px","margin-top":"3px","line-height":"30px","border-radius":"50%",display:"inline-block",position:"absolute",right:"5px",top:"0","z-index":"100","font-size":"23px",background:"rgba(45,45,45,0.8)"},on:{click:t.changeimg}},[n("i",{staticClass:"el-icon-delete",staticStyle:{color:"white"}})]),t._v(" "),n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.imgdata}})]):t._e()]),t._v(" "),n("div",{staticStyle:{"margin-top":"20px","margin-bottom":"0.4rem"}},[n("div",{staticClass:"select",on:{click:t.selectfile}},[n("span",[t._v("点击这里选择"+t._s(t.couriername)+"图片")])])]),t._v(" "),n("van-button",{staticStyle:{width:"60%"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitUpload(e)}}},[t._v("上传")])],1),t._v(" "),n("router-link",{attrs:{to:t.fun.getUrl("courierrecord")}},[n("div",{staticClass:"record"},[n("span",[t._v("查看上传记录")]),t._v(" "),n("i",{staticClass:"fa fa-angle-right"})])]),t._v(" "),t.title?n("div",{staticClass:"rulescontainerr"},[n("header",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"rules"},[t._v("\n             "+t._s(t.rules)+"\n          ")])]):t._e()],1)},staticRenderFns:[]};var s=n("VU/8")(o,r,!1,function(t){n("6k5g")},"data-v-306919f6",null);e.default=s.exports}});