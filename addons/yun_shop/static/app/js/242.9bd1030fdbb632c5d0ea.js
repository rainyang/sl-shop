webpackJsonp([242],{DTxz:function(t,n,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n#transaction_details[data-v-992c8b52] {\n  padding-top: 40px;\n}\n#transaction_details #content .detail_box[data-v-992c8b52] {\n    background: #fff;\n    padding-left: 0.875rem;\n}\n#transaction_details #content .detail_box .info_a[data-v-992c8b52] {\n      padding: 0.625rem 0;\n}\n#transaction_details #content .detail_box .info_a li[data-v-992c8b52]:first-child {\n        font-size: 16px;\n        line-height: 1.875rem;\n}\n#transaction_details #content .detail_box .info_a li[data-v-992c8b52]:nth-child(2) {\n        font-size: 24px;\n        line-height: 2.5rem;\n        font-weight: bold;\n}\n#transaction_details #content .detail_box .info_a .ing[data-v-992c8b52] {\n        color: #f15353;\n        font-size: 16px;\n}\n#transaction_details #content .detail_box .info_b[data-v-992c8b52] {\n      padding: 0.625rem 0.875rem 0.625rem 0;\n}\n#transaction_details #content .detail_box .info_b li[data-v-992c8b52] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        font-size: 14px;\n        line-height: 1.875rem;\n}\n#transaction_details #content .detail_box .info_b li span[data-v-992c8b52]:first-child {\n          color: #8c8c8c;\n}\n#transaction_details #content .detail_box .info_c[data-v-992c8b52] {\n      padding: 0.625rem 0.875rem 0.625rem 0;\n      border-top: solid 0.0625rem #ebebeb;\n}\n#transaction_details #content .detail_box .info_c li[data-v-992c8b52] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        font-size: 14px;\n        line-height: 1.875rem;\n}\n#transaction_details #content .detail_box .info_c li span[data-v-992c8b52]:first-child {\n          color: #8c8c8c;\n}\n#transaction_details #content .trc_btn[data-v-992c8b52] {\n    margin: 1.25rem auto;\n}\n#transaction_details #content .trc_btn button[data-v-992c8b52] {\n      padding: 0;\n      width: 18.75rem;\n      height: 2.625rem;\n      border: none;\n      border-radius: 0.25rem;\n      background: #f7a145;\n      color: #fff;\n      font-size: 16px;\n}\n#transaction_details #content .red button[data-v-992c8b52] {\n    background: #f15353;\n}\n#transaction_details #content .popup_box_b[data-v-992c8b52] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    width: 18.75rem;\n    background: #fff;\n    border-radius: 0.375rem;\n}\n#transaction_details #content .popup_box_b h1[data-v-992c8b52] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      font-size: 16px;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#transaction_details #content .popup_box_b h1 i[data-v-992c8b52] {\n        position: absolute;\n        left: 0.875rem;\n        line-height: 2.5rem;\n        font-size: 1rem;\n        color: #999;\n}\n#transaction_details #content .popup_box_b .sale_info[data-v-992c8b52] {\n      text-align: left;\n      padding: 0.625rem 1.25rem;\n}\n#transaction_details #content .popup_box_b .sale_info li[data-v-992c8b52] {\n        line-height: 1.875rem;\n        font-size: 16px;\n}\n#transaction_details #content .popup_box_b .set_password[data-v-992c8b52] {\n      margin-top: 2.25rem;\n      border-top: solid 0.0625rem #ebebeb;\n      height: 2.5rem;\n      line-height: 2.5rem;\n      color: #469de2;\n      font-size: 16px;\n}\n#transaction_details #content .popup_box[data-v-992c8b52] {\n    /*width: 18.75rem;*/\n    background: #fff;\n    border-radius: 0.375rem;\n    padding-bottom: 1.25rem;\n}\n#transaction_details #content .popup_box h1[data-v-992c8b52] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      font-size: 16px;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#transaction_details #content .popup_box h1 i[data-v-992c8b52] {\n        position: absolute;\n        left: 0.875rem;\n        line-height: 2.5rem;\n        font-size: 1rem;\n        color: #999;\n}\n#transaction_details #content .m-dialog[data-v-992c8b52] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n    background: rgba(0, 0, 0, 0.5);\n}\n#transaction_details #content .pay-psw-info[data-v-992c8b52] {\n    /*overflow-y: scroll;*/\n    position: absolute;\n    bottom: 0;\n    width: 100vw;\n    height: auto;\n    background: #fff;\n    max-height: 100%;\n    padding-top: 0.625rem;\n}\n#transaction_details #content footer[data-v-992c8b52] {\n    /*position: absolute;*/\n    /*bottom: 0;*/\n    width: 100vw;\n    font-weight: 600;\n}\n#transaction_details #content .pay_btn[data-v-992c8b52] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n    border-top: 0.0625rem solid #ddd;\n    width: 100vw;\n    height: auto;\n}\n#transaction_details #content .pay_btn li[data-v-992c8b52] {\n    /*flex: 0 0 33.33%;*/\n    width: 33.333333%;\n    height: 3rem;\n    line-height: 3rem;\n    text-align: center;\n    background: #fff;\n    font-size: 14px;\n    border-right: 0.0625rem solid #ddd;\n    border-bottom: 0.0625rem solid #ddd;\n}\n#transaction_details #content .pay_btn li[data-v-992c8b52]:active {\n    background: #C2C2C2;\n}\n#transaction_details #content .b9[data-v-992c8b52]:active {\n    background: #fff !important;\n}\n#transaction_details #content .b9[data-v-992c8b52] {\n    background: #C2C2C2 !important;\n}\n#transaction_details #content .pay_content[data-v-992c8b52] {\n    width: 100vw;\n    height: 3.125rem;\n    margin-bottom: 0.625rem;\n}\n#transaction_details #content .pay_content_title[data-v-992c8b52] {\n    width: 100vw;\n    height: 1.875rem;\n    line-height: 1.875rem;\n    margin-bottom: 0.625rem;\n    font-size: 18px;\n}\n#transaction_details #content .pay_content_view[data-v-992c8b52] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100vw;\n    height: 3.125rem;\n    border-bottom: 0.0625rem solid #ddd;\n    border-top: 0.0625rem solid #ddd;\n    border-right: 0.0625rem solid #ddd;\n}\n#transaction_details #content .ipt_pay_p[data-v-992c8b52] {\n    line-height: 3.125rem;\n    height: 3.125rem;\n    font-size: 20px;\n}\n#transaction_details #content .ipt_pay[data-v-992c8b52] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    height: 3.125rem;\n    text-align: center;\n    border-left: 0.0625rem solid #ddd;\n}\n",""])},q8DP:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a("Pexp"),e=a("Tg7E"),s={},o={data:function(){return{type:"",detail_id:"",detailData:{},dataApi:"",show2:!1,lang:{},popupSpecs:!1,pwds:[],pwd:"",pw1:"",pw2:"",pw3:"",pw4:"",pw5:"",pw6:"",income_name_text:""}},activated:function(){switch(this.detail_id=this.$route.params.id,this.type=this.$route.query.name,this.type){case"buy":this.dataApi="plugin.asset.Frontend.Modules.Digitization.Controllers.subscription-detail.index";break;case"sell":this.dataApi="plugin.asset.Frontend.Modules.Digitization.Controllers.sell-detail.index",this.isSetPassword();break;case"deal":this.dataApi="plugin.asset.Frontend.Modules.Digitization.Controllers.buy-detail.index";break;default:this.dataApi=""}this.getLang(),this.getDetail(),this.customizeIncome()},deactivated:function(){this.initData()},methods:{getLang:function(){var t=this;$http.get("plugin.asset.Frontend.Controllers.Lang.index",{},"加载中...").then(function(n){1===n.result?t.lang=n.data:Object(e.Toast)(n.msg)}).catch(function(t){console.log(t)})},initPop:function(){this.pwds=[],this.pwd="",this.pw1="",this.pw2="",this.pw3="",this.pw4="",this.pw5="",this.pw6=""},onPassword:function(t){this.pwd.length<6&&(this.pwd=this.pwd+t,this.setPwdView()),6===this.pwd.length&&(this.popupSpecs=!1,this.getVerifyPassword(this.pwd),this.initPop())},setPwdView:function(){var t=this.pwd.length;if(!(t<=0))switch(t){case 1:this.pw1=this.pwd.substring(0,1);break;case 2:this.pw2=this.pwd.substring(1,2);break;case 3:this.pw3=this.pwd.substring(2,3);break;case 4:this.pw4=this.pwd.substring(3,4);break;case 5:this.pw5=this.pwd.substring(4,5);break;case 6:this.pw6=this.pwd.substring(5,6)}},pwdDelete:function(){var t=this.pwd.length;if(!(t<=0)){switch(t){case 1:this.pwd=this.pwd.substring(0,0),this.pw1="";break;case 2:this.pwd=this.pwd.substring(0,1),this.pw2="";break;case 3:this.pwd=this.pwd.substring(0,2),this.pw3="";break;case 4:this.pwd=this.pwd.substring(0,3),this.pw4="";break;case 5:this.pwd=this.pwd.substring(0,4),this.pw5="";break;case 6:this.pwd=this.pwd.substring(0,5),this.pw6=""}}},getVerifyPassword:function(t){var n=this,a=this;$http.get("plugin.asset.Frontend.Modules.Password.Controllers.validate.index",{password:t},"").then(function(t){1===t.result?n.sureCancel():Object(e.MessageBox)({title:"提示",message:t.msg,showCancelButton:!0}).then(function(n){"confirm"==n?2001==t.data.code||(2002==t.data.code?a.$router.push(a.fun.getUrl("SetPassword",{})):t.data.code):"cancel"==n&&(2001==t.data.code||2002==t.data.code||t.data.code)})},function(t){e.MessageBox.alert(t.msg,"提示")})},balancePay:function(t){var n=this,a={order_pay_id:n.order_pay_id,i:n.fun.getKeyByI(),type:n.fun.getTyep(),pid:this.uid};this.fun.isTextEmpty(t)||(a={order_pay_id:n.order_pay_id,i:n.fun.getKeyByI(),type:n.fun.getTyep(),payment_password:t,pid:this.uid}),$http.get("order.credit-merge-pay.credit2",a," ").then(function(t){1===t.result?n.fun.isTextEmpty(t.data.redirect)?(n.$router.push(n.fun.getUrl("home")),e.MessageBox.alert(t.msg,"提示")):(window.location.href=t.data.redirect,e.MessageBox.alert(t.msg,"提示")):(e.MessageBox.alert(t.msg,"提示"),n.$router.push(n.fun.getUrl("orderdetail",{order_id:n.order_pay_id})))},function(t){})},cancel:function(){this.has_mobile?this.has_password?this.popupSpecs=!0:this.show2=!0:(Object(e.Toast)("请先绑定手机"),this.$router.push(this.fun.getUrl("editmobile")))},sureCancel:function(){var t=this,n={sell_id:this.detail_id};$http.post("plugin.asset.Frontend.Modules.Digitization.Controllers.sell-recall.index",n,"加载中").then(function(n){1===n.result?(t.getDetail(),e.MessageBox.alert(n.msg,"提示")):Object(e.Toast)(n.msg)}).catch(function(t){console.log(t)})},initData:function(){this.detailData={},this.dataApi="",this.pwds=[],this.pwd="",this.popupSpecs=!1,this.show2=!1},setJSON:function(){switch(this.type){case"buy":s={record_id:this.detail_id};break;case"sell":s={sell_id:this.detail_id};break;case"deal":s={record_id:this.detail_id};break;default:this.dataApi=""}},getDetail:function(){var t=this;this.setJSON(),$http.get(this.dataApi,s,"加载中").then(function(n){1===n.result?t.detailData=n.data.detail:Object(e.Toast)(n.msg)}).catch(function(t){console.log(t)})},isSetPassword:function(){var t=this;$http.get("plugin.asset.Frontend.Modules.Password.Controllers.has.index",{},"加载中...").then(function(n){1===n.result?(t.has_mobile=n.data.has_mobile,t.has_password=n.data.has_password):Object(e.Toast)(n.msg)}).catch(function(t){console.log(t)})},customizeIncome:function(){var t=this.fun.initMailLanguage();this.income_name_text=t.income.income_name}},components:{cTitle:i.a}},d={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"transaction_details"}},[a("c-title",{attrs:{hide:!1,text:"交易详情"}}),t._v(" "),a("div",{attrs:{id:"content"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailData.digitization_name,expression:"detailData.digitization_name"}],staticClass:"detail_box"},[a("ul",{staticClass:"info_a"},[a("li",[t._v(t._s(t.detailData.digitization_name))]),t._v(" "),a("li",[t._v(t._s(t.detailData.total))]),t._v(" "),t.detailData.status_name?a("li",{staticClass:"ing"},[t._v(t._s(t.detailData.status_name))]):t._e()]),t._v(" "),"buy"===t.type?a("ul",{staticClass:"info_b"},[a("li",[a("span",[t._v(t._s(t.lang.buy_name)+t._s(t.lang.capital_name))]),t._v(" "),a("span",[t._v(t._s(t.detailData.digitization_name))])]),t._v(" "),a("li",[a("span",[t._v(t._s(t.lang.buy_name)+"数量")]),t._v(" "),a("span",[t._v(t._s(t.detailData.total))])]),t._v(" "),a("li",[a("span",[t._v("单价")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.price))])]),t._v(" "),a("li",[a("span",[t._v("总金额")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.pay_amount))])]),t._v(" "),a("li",[a("span",[t._v("爱心值抵扣")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.love_deduction))])]),t._v(" "),a("li",[a("span",[t._v("积分抵扣")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.point_deduction))])])]):t._e(),t._v(" "),"sell"===t.type?a("ul",{staticClass:"info_b"},[a("li",[a("span",[t._v(t._s(t.lang.sell_name)+t._s(t.lang.capital_name))]),t._v(" "),a("span",[t._v(t._s(t.detailData.digitization_name))])]),t._v(" "),a("li",[a("span",[t._v(t._s(t.lang.sell_name)+"数量")]),t._v(" "),a("span",[t._v(t._s(t.detailData.total))])]),t._v(" "),a("li",[a("span",[t._v("单价")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.price))])]),t._v(" "),a("li",[a("span",[t._v("预计总金额")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.amount))])]),t._v(" "),a("li",[a("span",[t._v("手续费")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.poundage))])]),t._v(" "),a("li",[a("span",[t._v("预计"+t._s(t.income_name_text))]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.income))])])]):t._e(),t._v(" "),"deal"===t.type?a("ul",{staticClass:"info_b"},[a("li",[a("span",[t._v(t._s(t.lang.buy_name)+t._s(t.lang.capital_name))]),t._v(" "),a("span",[t._v(t._s(t.detailData.digitization_name))])]),t._v(" "),a("li",[a("span",[t._v(t._s(t.lang.buy_name)+"数量")]),t._v(" "),a("span",[t._v(t._s(t.detailData.total))])]),t._v(" "),a("li",[a("span",[t._v("单价")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.price))])]),t._v(" "),a("li",[a("span",[t._v("总金额")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.amount))])]),t._v(" "),a("li",[a("span",[t._v("爱心值抵扣")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.love_deduction))])]),t._v(" "),a("li",[a("span",[t._v("积分抵扣")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.point_deduction))])])]):t._e(),t._v(" "),a("ul",{staticClass:"info_c"},[a("li",[a("span",[t._v("订单号")]),t._v(" "),a("span",[t._v(t._s(t.detailData.order_sn))])]),t._v(" "),a("li",[a("span",[t._v("创建时间")]),t._v(" "),a("span",[t._v(t._s(t.detailData.created_at))])]),t._v(" "),t.detailData.pay_amount?a("li",[a("span",[t._v("实际支付金额")]),t._v(" "),a("span",[t._v("¥"+t._s(t.detailData.pay_amount))])]):t._e()])]),t._v(" "),0===t.detailData.status&&"sell"===t.type?a("div",{staticClass:"trc_btn"},[a("button",{on:{click:t.cancel}},[t._v("撤销"+t._s(t.lang.sell_name))])]):t._e(),t._v(" "),-2===t.detailData.status&&"sell"===t.type?a("div",{staticClass:"trc_btn red"},[a("button",{attrs:{disabled:""}},[t._v("交易已撤销")])]):t._e(),t._v(" "),a("transition",{attrs:{name:"scale"}},[t.show2?a("div",{staticClass:"m-dialog",on:{touchmove:function(t){t.preventDefault()}}},[t.show2?a("div",{staticClass:"popup_box_b"},[a("h1",[a("i",{staticClass:"iconfont icon-guanbi",on:{click:function(n){t.show2=!1}}}),t._v("提示")]),t._v(" "),a("ul",{staticClass:"sale_info"},[a("li",[t._v("请先设置支付密码，再继续交易")])]),t._v(" "),a("div",{staticClass:"set_password",on:{click:t.toSetPassword}},[t._v("\n            设置密码\n          ")])]):t._e()]):t._e()]),t._v(" "),a("transition",{attrs:{name:"scale"}},[t.popupSpecs?a("div",{staticClass:"m-dialog",on:{touchmove:function(t){t.preventDefault()}}},[a("div",{staticClass:"pay-psw-info"},[a("div",{staticClass:"popup_box"},[a("h1",[a("i",{staticClass:"iconfont icon-guanbi",on:{click:function(n){t.popupSpecs=!1}}}),t._v("请输入支付密码")])]),t._v(" "),a("div",{staticClass:"pay_content"},[a("div",{staticClass:"pay_content_view"},[a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw1)))])]),t._v(" "),a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw2)))])]),t._v(" "),a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw3)))])]),t._v(" "),a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw4)))])]),t._v(" "),a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw5)))])]),t._v(" "),a("div",{staticClass:"ipt_pay"},[a("div",{staticClass:"ipt_pay_p"},[t._v(t._s(t._f("pwd_filter")(t.pw6)))])])])]),t._v(" "),a("footer",[a("ul",{staticClass:"pay_btn"},[a("li",{on:{click:function(n){return t.onPassword("1")}}},[t._v("1")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("2")}}},[t._v("2")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("3")}}},[t._v("3")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("4")}}},[t._v("4")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("5")}}},[t._v("5")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("6")}}},[t._v("6")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("7")}}},[t._v("7")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("8")}}},[t._v("8")]),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("9")}}},[t._v("9")]),t._v(" "),a("li",{staticClass:"b9"}),t._v(" "),a("li",{on:{click:function(n){return t.onPassword("0")}}},[t._v("0")]),t._v(" "),a("li",{staticClass:"b9",on:{click:t.pwdDelete}},[t._v("删除")])])])])]):t._e()])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,d,!1,function(t){a("yMRW")},"data-v-992c8b52",null);n.default=l.exports},yMRW:function(t,n,a){var i=a("DTxz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("22840f2c",i,!0,{})}});