webpackJsonp([49],{"2KvJ":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,'\n@charset "UTF-8";\n#voice_detail[data-v-52cf320d] {\n  padding-top: 40px;\n}\n#voice_detail #content .content_a[data-v-52cf320d] {\n    background: #fff;\n    padding-bottom: 0.625rem;\n}\n#voice_detail #content .content_a .banner[data-v-52cf320d] {\n      width: 100%;\n      height: 10.375rem;\n      overflow: hidden;\n      background: #f5f5f5;\n}\n#voice_detail #content .content_a .banner img[data-v-52cf320d] {\n        width: 100%;\n        height: 10.375rem;\n}\n#voice_detail #content .content_a h1[data-v-52cf320d] {\n      font-size: 16px;\n      height: 2.5rem;\n      line-height: 2.5rem;\n      text-align: left;\n      padding: 0 0.875rem;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n}\n#voice_detail #content .content_a .audio-wrapper[data-v-52cf320d] {\n      background-color: #fcfcfc;\n      margin: 10px auto;\n      width: 100%;\n      height: 70px;\n      border: 1px solid #e0e0e0;\n      color: #3e3e3e;\n}\n#voice_detail #content .content_a .audio-left[data-v-52cf320d] {\n      float: left;\n      text-align: center;\n      width: 18%;\n      height: 100%;\n}\n#voice_detail #content .content_a .audio-left img[data-v-52cf320d] {\n      width: 40px;\n      position: relative;\n      top: 15px;\n      margin: 0;\n      display: initial;\n      /* 解除与app的样式冲突 */\n      cursor: pointer;\n}\n#voice_detail #content .content_a .slider[data-v-52cf320d] {\n      width: 80%;\n      position: relative;\n      height: 30px;\n      margin-top: 20px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      cursor: default;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n      outline: none;\n}\n#voice_detail #content .content_a .slider-track[data-v-52cf320d] {\n      position: absolute;\n      height: 2px;\n      left: 0;\n      right: 0;\n      top: 50%;\n      margin-top: -1px;\n      background-color: #bec2c1;\n}\n#voice_detail #content .content_a .slider-fill[data-v-52cf320d] {\n      position: absolute;\n      height: 2px;\n      width: 100%;\n      background-color: #28a4e9;\n      left: 0;\n      top: 50%;\n      margin-top: -1px;\n}\n#voice_detail #content .content_a .slider-thumb[data-v-52cf320d] {\n      position: absolute;\n      top: 50%;\n      width: 12px;\n      height: 12px;\n      background-color: #28a4e9;\n      color: #28a4e9;\n      border-radius: 50%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n      cursor: pointer;\n}\n#voice_detail #content .content_a .time[data-v-52cf320d] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n#voice_detail #content .content_a .time_left[data-v-52cf320d] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      text-align: left;\n}\n#voice_detail #content .content_a .time_right[data-v-52cf320d] {\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 3rem;\n              flex: 0 0 3rem;\n      padding-right: 1rem;\n}\n#voice_detail #content .content_b[data-v-52cf320d] {\n    background: #fff;\n    margin-top: 0.625rem;\n}\n#voice_detail #content .content_b h2[data-v-52cf320d] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      font-size: 16px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      padding: 0 0.875rem;\n}\n#voice_detail #content .content_b h2 span[data-v-52cf320d] {\n        font-size: 14px;\n        color: #8c8c8c;\n        font-weight: normal;\n}\n#voice_detail #content .content_b .text[data-v-52cf320d] {\n      padding: 0.625rem 1.25rem;\n      text-align: left;\n      font-size: 14px;\n      color: #666;\n}\n#voice_detail #content .content_c[data-v-52cf320d] {\n    background: #fff;\n    margin-top: 0.625rem;\n    padding-bottom: 1.25rem;\n}\n#voice_detail #content .content_c h3[data-v-52cf320d] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      font-size: 16px;\n      text-align: left;\n      padding: 0 0.875rem;\n}\n#voice_detail #content .content_c .code span[data-v-52cf320d] {\n      color: #8c8c8c;\n}\n#voice_detail #content .content_c .code .img[data-v-52cf320d] {\n      width: 7.5rem;\n      height: 7.5rem;\n      overflow: hidden;\n      background: #f5f5f5;\n      margin: 0.625rem auto;\n}\n#voice_detail #content .content_c .code .img img[data-v-52cf320d] {\n        width: 100%;\n}\n',""])},EoZJ:function(t,e,n){t.exports=n.p+"static/app/img/pause.fc8c442.png"},F7NO:function(t,e,n){t.exports=n.p+"static/app/img/loading.667696a.gif"},VZWR:function(t,e,n){t.exports=n.p+"static/app/img/play.9a07b62.png"},WZzq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("pFYg"),a=n.n(i),o=n("Pexp"),s=n("Tg7E");function c(t){var e=void 0===t?"undefined":a()(t);if("number"===e||"string"===e){t=parseInt(t);var n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60);return t-=60*i,n+":"+("0"+i).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}var d={data:function(){return{dataInfo:{audio_link:""},isShow:1,isPlay:!0,readyState:1,article_id:0,codeUrl:"",sliderTime:0,audio:{playing:!1,currentTime:0,maxTime:0,minTime:0,step:.1}}},mounted:function(){this.$nextTick(function(){})},activated:function(){this,this.init(),this.getData(),this.getQrCode()},methods:{init:function(){this.isPlay=!0,this.readyState=1,this.codeUrl="",this.isShow=1,this.article_id=this.$route.params.article_id},getQrCode:function(){var t=this;$http.get("member.member.getArticleQr",{},"").then(function(e){1===e.result?t.codeUrl=e.data:console.log(e.msg)},function(t){console.log(t)})},getData:function(){var t=this,e=this,n=this.fun.getKey("share_uid");n=this.fun.isTextEmpty(n)?"":n,console.log("share_uid",n);var i={article_id:this.article_id,share_uid:n};$http.get("plugin.article.api.article.get-article",i,"").then(function(n){1===n.result?(e.dataInfo=n.data,e.fun.setWXTitle(e.dataInfo.title),e.initShare()):(t.isShow=0,e.$router.go(-1),s.MessageBox.alert(n.msg))},function(t){console.log(t)})},initShare:function(){var t=this,e={url:document.location.href,mid:this.fun.getKeyByMid()};$http.post("member.member.wxJsSdkConfig",e).then(function(e){1===e.result?t.share(e.data):s.MessageBox.alert(e.msg)},function(t){console.log(t)})},share:function(t){var e=this;wx.config(t.config),wx.ready(function(){var n=e.fun.isTextEmpty(e.dataInfo.title)?"文章":e.dataInfo.title,i=document.location.href;i=e.fun.isMid(i,t.info.uid);var a=e.fun.isTextEmpty(e.dataInfo.thumb)?"":e.dataInfo.thumb,o=e.fun.isTextEmpty(e.dataInfo.desc)?"简介":e.dataInfo.desc;wx.showOptionMenu(),wx.onMenuShareTimeline({title:n,link:i,imgUrl:a,success:function(){Object(s.Toast)("分享成功")},cancel:function(){Object(s.Toast)("取消分享")}}),wx.onMenuShareAppMessage({title:n,desc:o,link:i,imgUrl:a,type:"link",dataUrl:"",success:function(){Object(s.Toast)("分享成功")},cancel:function(){Object(s.Toast)("取消分享")}})})},startPlayOrPause:function(){return this.readyState=this.$refs.audio.readyState,this.audio.playing?this.isPlay=!0:this.isPlay=!1,this.audio.playing?this.pause():this.play()},play:function(){this.$refs.audio.play()},pause:function(){this.$refs.audio.pause()},onPlay:function(){this.audio.playing=!0},onPause:function(){this.audio.playing=!1},handleFocus:function(){console.log("focues")},error:function(t){s.MessageBox.alert("音频出错了"+t)},onLoadedmetadata:function(t){this.readyState=this.$refs.audio.readyState,this.audio.maxTime=parseInt(t.target.duration)},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100)},formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"进度条: "+c(t=parseInt(this.audio.maxTime/100*t))},handleTouchStart:function(t){this.setValue(t.touches[0]),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchup",this.handleTouchEnd),document.addEventListener("touchend",this.handleTouchEnd),document.addEventListener("touchcancel",this.handleTouchEnd)},handleTouchMove:function(t){this.setValue(t.changedTouches[0])},handleTouchEnd:function(t){this.setValue(t.changedTouches[0]),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchup",this.handleTouchEnd),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("touchcancel",this.handleTouchEnd)},setValue:function(t){var e=this.audio,n=e.maxTime,i=e.minTime,a=e.step,o=(t.clientX-this.$refs.slider.offsetLeft)/this.$refs.slider.offsetWidth*(n-i);o=Math.round(o/a)*a+i,(o=parseFloat(o.toFixed(5)))>n?o=n:o<i&&(o=i),this.$refs.audio.currentTime=o},changeCurrentTime:function(t){console.log("拖动进度条"),this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)}},filters:{formatSecond:function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}},components:{cTitle:o.a}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"voice_detail"}},[i("c-title",{attrs:{hide:!1,text:"音频详情"}}),t._v(" "),1===t.isShow?i("div",{attrs:{id:"content"}},[i("div",{staticClass:"content_a"},[i("div",{staticClass:"banner"},[t.dataInfo.thumb?i("div",{staticClass:"image"},[i("img",{attrs:{src:t.dataInfo.thumb}})]):t._e(),t._v(" "),t.dataInfo.thumb?t._e():i("div",{staticClass:"image"},[i("img",{attrs:{src:n("8SOS")}})])]),t._v(" "),i("h1",[t._v(t._s(t.dataInfo.title))]),t._v(" "),i("div",{staticClass:"audio-wrapper"},[i("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{id:"audio",controls:"controls",src:t.dataInfo.audio_link},on:{pause:t.onPause,play:t.onPlay,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}},[t._v("\n                    您的浏览器不支持 audio 标签！\n                ")]),t._v(" "),i("div",{staticClass:"audio-left"},[t.isPlay&&t.readyState>0?i("img",{attrs:{src:n("VZWR")},on:{click:t.startPlayOrPause}}):t._e(),t._v(" "),!t.isPlay&&t.readyState>0?i("img",{attrs:{src:n("EoZJ")},on:{click:t.startPlayOrPause}}):t._e(),t._v(" "),t.readyState<1?i("img",{attrs:{src:n("F7NO")}}):t._e()]),t._v(" "),i("div",{ref:"slider",staticClass:"slider",on:{touchstart:t.handleTouchStart}},[i("div",{staticClass:"slider-track"}),t._v(" "),i("div",{staticClass:"slider-fill",style:"width:"+t.sliderTime+"%"}),t._v(" "),i("div",{staticClass:"slider-thumb",style:"left:"+t.sliderTime+"%"})]),t._v(" "),i("div",{staticClass:"time"},[i("div",{staticClass:"time_left"},[t._v(t._s(t._f("formatSecond")(t.audio.currentTime)))]),t._v(" "),i("div",{staticClass:"time_right"},[t._v(t._s(t._f("formatSecond")(t.audio.maxTime)))])])])]),t._v(" "),i("div",{staticClass:"content_b"},[i("h2",[t._v("【音频简介】"),i("span",[t._v(t._s(t.dataInfo.created_at))])]),t._v(" "),i("div",{staticClass:"text",domProps:{innerHTML:t._s(t.dataInfo.content)}})]),t._v(" "),t.codeUrl?i("div",{staticClass:"content_c"},[i("h3",[t._v("【二维码】")]),t._v(" "),i("div",{staticClass:"code"},[i("span",[t._v("长按识别二维码")]),t._v(" "),i("div",{staticClass:"img"},[i("img",{attrs:{src:t.codeUrl}})])])]):t._e()]):t._e()],1)},staticRenderFns:[]};var l=n("VU/8")(d,r,!1,function(t){n("pMvs")},"data-v-52cf320d",null);e.default=l.exports},pMvs:function(t,e,n){var i=n("2KvJ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("398d8950",i,!0,{})}});