webpackJsonp([363],{"8A1Z":function(t,n,e){var s=e("vAVa");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("702e8c15",s,!0,{})},uV9F:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("Pexp"),o=e("Tg7E"),a={data:function(){return{form:{mobile:"",captcha:"",code:"",password:"",confirm_password:""},passData:{},has_password:!1,start1:!1,imgcode:""}},activated:function(){this.init(),this.isSetPassword()},methods:{init:function(){this.start1=!1,this.has_password=!1,this.passData={},this.imgcode="",this.form={mobile:"",captcha:"",code:"",password:"",confirm_password:""}},isSetPassword:function(){var t=this;$http.get("plugin.asset.Frontend.Modules.Password.Controllers.has.index",{},"加载中...").then(function(n){1===n.result?(t.has_mobile=n.data.has_mobile,t.has_password=n.data.has_password,t.has_mobile?t.passwordData():t.$router.push(t.fun.getUrl("editmobile"))):Object(o.Toast)(n.msg)}).catch(function(t){console.log(t)})},passwordData:function(){var t=this;$http.get("plugin.asset.Frontend.Modules.Password.Controllers.update.page",{},"加载中...").then(function(n){1===n.result?(t.passData=n.data,t.imgcode=t.passData.captcha_image.img,t.form.mobile=t.passData.mobile):Object(o.Toast)(n.msg)}).catch(function(t){console.log(t)})},setPassword:function(){var t=this;this.form.confirm_password===this.form.password?$http.get("plugin.asset.Frontend.Modules.Password.Controllers.Update.store",this.form,"加载中...").then(function(n){1===n.result?t.$router.go(-1):Object(o.Toast)(n.msg)}).catch(function(t){console.log(t)}):Object(o.Toast)("确认密码与支付密码不一致")},forgetPassword:function(){this.has_password=!1},verificationCode:function(){var t=this;this.fun.isTextEmpty(this.form.mobile)?Object(o.Toast)("请填写手机号"):this.fun.isTextEmpty(this.form.captcha)&&this.imgcode?Object(o.Toast)("请填图形验证码"):(this.$yddialog.loading.open("发送中"),$http.get("plugin.asset.Frontend.Modules.Password.Controllers.code.index",{mobile:this.form.mobile,captcha:this.form.captcha}).then(function(n){t.$yddialog.loading.close(),1===n.result?t.sendCodeAnimation():(Object(o.Toast)(n.msg),t.form.captcha="",t.passData.captcha_status&&t.getimgdata())},function(t){console.log(t.msg)}))},getimgdata:function(){var t=this;$http.get("plugin.asset.Frontend.Modules.Password.Controllers.update.captcha").then(function(n){t.imgcode=n.data.captcha_image.img}).catch(function(t){console.log(t)})},sendCodeAnimation:function(){var t=this;setTimeout(function(){t.start1=!0,t.$yddialog.loading.close(),Object(o.Toast)("已发送")},1e3)}},components:{cTitle:s.a}},r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"set_password"}},[e("c-title",{attrs:{hide:!1,text:"交易密码"}}),t._v(" "),t.has_password?t._e():e("div",{attrs:{id:"password_one"}},[e("div",{staticClass:"user"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.passData.avatar_image}})]),t._v(" "),e("span",[t._v(t._s(t.passData.nickname))])]),t._v(" "),e("div",{staticClass:"info"},[e("ul",{staticClass:"info_a"},[e("li",[e("span",[t._v("手机号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.mobile,expression:"form.mobile",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入手机号",disabled:""},domProps:{value:t.form.mobile},on:{input:function(n){n.target.composing||t.$set(t.form,"mobile",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}})]),t._v(" "),t.passData.captcha_status?e("li",[e("span",[t._v("图形验证码：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.captcha,expression:"form.captcha",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.form.captcha},on:{input:function(n){n.target.composing||t.$set(t.form,"captcha",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}}),t._v(" "),t.imgcode?e("img",{staticStyle:{width:"20%",height:"40px",position:"absolute",display:"block",left:"74%","z-index":"999"},attrs:{src:t.imgcode},on:{click:t.getimgdata}}):t._e()]):t._e(),t._v(" "),e("li",[e("span",[t._v("验证码：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.code,expression:"form.code",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.form.code},on:{input:function(n){n.target.composing||t.$set(t.form,"code",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}}),t._v(" "),e("yd-sendcode",{staticStyle:{"margin-left":"-4rem"},attrs:{slot:"right",type:"warning"},nativeOn:{click:function(n){return t.verificationCode(n)}},slot:"right",model:{value:t.start1,callback:function(n){t.start1=n},expression:"start1"}})],1)]),t._v(" "),e("ul",{staticClass:"info_b"},[e("li",[e("span",[t._v("支付密码：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"请输入6位支付密码",MAXLENGTH:"6"},domProps:{value:t.form.password},on:{input:function(n){n.target.composing||t.$set(t.form,"password",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}})]),t._v(" "),e("li",[e("span",[t._v("确认密码：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.confirm_password,expression:"form.confirm_password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"请确认密码",MAXLENGTH:"6"},domProps:{value:t.form.confirm_password},on:{input:function(n){n.target.composing||t.$set(t.form,"confirm_password",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}})])])]),t._v(" "),e("div",{staticClass:"btn",on:{click:t.setPassword}},[e("yd-button",{attrs:{type:"large"}},[t._v("确定")])],1)]),t._v(" "),t.has_password?e("div",{attrs:{id:"password_two"}},[e("div",{staticClass:"user"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.passData.avatar_image}})]),t._v(" "),e("span",[t._v(t._s(t.passData.nickname))])]),t._v(" "),e("div",{staticClass:"info"},[e("ul",{staticClass:"info_a"},[e("li",[e("span",[t._v("手机号：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.mobile,expression:"form.mobile",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入手机号",disabled:""},domProps:{value:t.form.mobile},on:{input:function(n){n.target.composing||t.$set(t.form,"mobile",n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}})])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"btn",on:{click:t.forgetPassword}},[e("yd-button",{attrs:{type:"large"}},[t._v("忘记密码")])],1)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"explain"},[n("p",[this._v("您已设置过支付密码，如忘记，请点击忘记密码\n        "),n("br"),this._v("重置支付密码！")])])}]};var i=e("VU/8")(a,r,!1,function(t){e("8A1Z")},"data-v-63d2c3b0",null);n.default=i.exports},vAVa:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n#set_password[data-v-63d2c3b0] {\n  padding-top: 40px;\n}\n#set_password #password_one .user[data-v-63d2c3b0] {\n    margin: 1.25rem auto;\n}\n#set_password #password_one .user .img[data-v-63d2c3b0] {\n      margin: 0 auto;\n      width: 3.75rem;\n      height: 3.75rem;\n      border-radius: 2.25rem;\n      overflow: hidden;\n      background: #ccc;\n}\n#set_password #password_one .user .img img[data-v-63d2c3b0] {\n        width: 100%;\n}\n#set_password #password_one .user span[data-v-63d2c3b0] {\n      display: block;\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 1.875rem;\n}\n#set_password #password_one .info .info_a[data-v-63d2c3b0] {\n    background: #fff;\n    border-top: solid 0.0625rem #ebebeb;\n    border-bottom: solid 0.0625rem #ebebeb;\n    padding-left: 0.875rem;\n}\n#set_password #password_one .info .info_a li[data-v-63d2c3b0] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      line-height: 2.8125rem;\n      padding-right: 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      font-size: 16px;\n      position: relative;\n}\n#set_password #password_one .info .info_a li span[data-v-63d2c3b0] {\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n}\n#set_password #password_one .info .info_a li span[data-v-63d2c3b0]:first-child {\n        width: 7.5rem;\n        text-align: left;\n}\n#set_password #password_one .info .info_a li span[data-v-63d2c3b0]:last-child {\n        position: absolute;\n        right: 0.625rem;\n        font-size: 12px;\n        padding: 0.125rem 0.625rem;\n        color: #f15353;\n        background: #f5f5f5;\n        border-radius: 1rem;\n        height: 1.625rem;\n        line-height: 1.625rem;\n}\n#set_password #password_one .info .info_a li input[data-v-63d2c3b0] {\n        border: none;\n}\n#set_password #password_one .info .info_a li[data-v-63d2c3b0]:last-child {\n      border: none;\n}\n#set_password #password_one .info .info_b[data-v-63d2c3b0] {\n    margin-top: 0.625rem;\n    background: #fff;\n    border-top: solid 0.0625rem #ebebeb;\n    border-bottom: solid 0.0625rem #ebebeb;\n    padding-left: 0.875rem;\n}\n#set_password #password_one .info .info_b li[data-v-63d2c3b0] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      line-height: 2.8125rem;\n      padding-right: 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      font-size: 16px;\n      position: relative;\n}\n#set_password #password_one .info .info_b li span[data-v-63d2c3b0]:first-child {\n        width: 7.5rem;\n        text-align: left;\n}\n#set_password #password_one .info .info_b li span[data-v-63d2c3b0]:last-child {\n        position: absolute;\n        right: 0.625rem;\n        font-size: 12px;\n        padding: 0.125rem 0.625rem;\n        color: #f15353;\n        background: #f5f5f5;\n        border-radius: 1rem;\n        height: 1.625rem;\n        line-height: 1.625rem;\n}\n#set_password #password_one .info .info_b li input[data-v-63d2c3b0] {\n        border: none;\n}\n#set_password #password_one .info .info_b li[data-v-63d2c3b0]:last-child {\n      border: none;\n}\n#set_password #password_one .btn[data-v-63d2c3b0] {\n    margin: 1.25rem auto;\n}\n#set_password #password_one .btn button[data-v-63d2c3b0] {\n      padding: 0;\n      width: 18.75rem;\n      height: 2.625rem;\n      border-radius: 0.25rem;\n      background: #f7a145;\n      font-size: 16px;\n      border: none;\n      color: #fff;\n}\n#set_password #password_two .user[data-v-63d2c3b0] {\n    margin: 1.25rem auto;\n}\n#set_password #password_two .user .img[data-v-63d2c3b0] {\n      margin: 0 auto;\n      width: 3.75rem;\n      height: 3.75rem;\n      border-radius: 2.25rem;\n      overflow: hidden;\n      background: #ccc;\n}\n#set_password #password_two .user .img img[data-v-63d2c3b0] {\n        width: 100%;\n}\n#set_password #password_two .user span[data-v-63d2c3b0] {\n      display: block;\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 1.875rem;\n}\n#set_password #password_two .info .info_a[data-v-63d2c3b0] {\n    background: #fff;\n    border-top: solid 0.0625rem #ebebeb;\n    border-bottom: solid 0.0625rem #ebebeb;\n    padding-left: 0.875rem;\n}\n#set_password #password_two .info .info_a li[data-v-63d2c3b0] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      line-height: 2.8125rem;\n      padding-right: 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      font-size: 16px;\n      position: relative;\n}\n#set_password #password_two .info .info_a li span[data-v-63d2c3b0]:first-child {\n        width: 7.5rem;\n        text-align: left;\n}\n#set_password #password_two .info .info_a li span[data-v-63d2c3b0]:last-child {\n        position: absolute;\n        right: 0.625rem;\n        font-size: 12px;\n        padding: 0.125rem 0.625rem;\n        color: #f15353;\n        background: #f5f5f5;\n        border-radius: 1rem;\n        height: 1.625rem;\n        line-height: 1.625rem;\n}\n#set_password #password_two .info .info_a li input[data-v-63d2c3b0] {\n        border: none;\n        color: #333;\n}\n#set_password #password_two .info .info_a li[data-v-63d2c3b0]:last-child {\n      border: none;\n}\n#set_password #password_two .explain[data-v-63d2c3b0] {\n    margin: 1.25rem auto;\n}\n#set_password #password_two .explain p[data-v-63d2c3b0] {\n      color: #8c8c8c;\n}\n#set_password #password_two .btn[data-v-63d2c3b0] {\n    margin: 1.25rem auto;\n}\n#set_password #password_two .btn button[data-v-63d2c3b0] {\n      padding: 0;\n      width: 18.75rem;\n      height: 2.625rem;\n      border-radius: 0.25rem;\n      background: #f7a145;\n      font-size: 16px;\n      border: none;\n      color: #fff;\n}\n#set_password .yd-btn-warning[data-v-63d2c3b0]:not(.yd-btn-loading) {\n    height: 40px;\n}\n",""])}});