webpackJsonp([370],{"8ZJx":function(e,n,t){var a=t("qOOX");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("44604a8b",a,!0,{})},qOOX:function(e,n,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n#love_index[data-v-6021e8ba] {\n  padding-top: 40px;\n}\n#love_index #content[data-v-6021e8ba] {\n    margin-top: 0.625rem;\n}\n#love_index #content .current[data-v-6021e8ba] {\n      padding-left: 0.875rem;\n      font-size: 16px;\n      background: #fff;\n}\n#love_index #content .current li[data-v-6021e8ba] {\n        line-height: 2.875rem;\n        text-align: left;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: start;\n            -ms-flex-pack: start;\n                justify-content: flex-start;\n        border-bottom: solid 0.0625rem #ebebeb;\n}\n#love_index #content .current span[data-v-6021e8ba] {\n        font-size: 16px;\n        text-align: left;\n}\n#love_index #content .current span[data-v-6021e8ba]:first-child {\n        width: 6.875rem;\n        display: block;\n        text-align: left;\n}\n#love_index #content .recharge[data-v-6021e8ba] {\n      background: #fff;\n      padding: 0.625rem 0.875rem;\n}\n#love_index #content .recharge .recharge_a li[data-v-6021e8ba]:first-child {\n        line-height: 2.5rem;\n        text-align: left;\n        font-size: 16px;\n}\n#love_index #content .recharge .recharge_a li[data-v-6021e8ba]:nth-child(2) {\n        height: 3.75rem;\n        font-size: 32px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: end;\n            -ms-flex-align: end;\n                align-items: flex-end;\n}\n#love_index #content .recharge .recharge_a li:nth-child(2) input[data-v-6021e8ba] {\n          width: 18.75rem;\n          font-size: 44px;\n          line-height: 3rem;\n          border: none;\n          margin-left: 0.625rem;\n}\n#love_index #content .recharge p[data-v-6021e8ba] {\n        line-height: 2.25rem;\n        text-align: left;\n        font-size: 14px;\n        color: #8c8c8c;\n        border-top: solid 0.0625rem #ebebeb;\n}\n#love_index #content .btn[data-v-6021e8ba] {\n      margin-top: 1.5rem;\n}\n#love_index #content .btn button[data-v-6021e8ba] {\n        width: 90%;\n        height: 2.875rem;\n        margin-bottom: 1rem;\n        border-radius: 0.25rem;\n        border: none;\n        color: #fff;\n        font-size: 16px;\n}\n#love_index #content .btn .btn_a[data-v-6021e8ba] {\n        background-color: #19ad19;\n}\n#love_index #content .btn .btn_b[data-v-6021e8ba] {\n        background-color: #22aaed;\n}\n#love_index #content .recharge_way[data-v-6021e8ba] {\n      background: #fff;\n      margin-top: 0.625rem;\n}\n#love_index #content .recharge_way h1[data-v-6021e8ba] {\n        line-height: 2.5rem;\n        text-align: left;\n        padding: 0 0.875rem;\n        font-size: 16px;\n}\n#love_index #content .recharge_way li[data-v-6021e8ba] {\n        position: relative;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        line-height: 3.5rem;\n        font-size: 16px;\n        margin-left: 1.25rem;\n        padding-right: 1.25rem;\n        border-bottom: solid 0.0625rem #ebebeb;\n}\n#love_index #content .recharge_way li .iconfont_bg[data-v-6021e8ba] {\n          background: #f15353;\n          width: 2.25rem;\n          height: 1.5rem;\n          border-radius: 0.1875rem;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          margin-right: 0.625rem;\n}\n#love_index #content .recharge_way li .icon-balance_d[data-v-6021e8ba] {\n          color: #00908c;\n}\n#love_index #content .recharge_way li .icon-balance_e[data-v-6021e8ba] {\n          color: #64b42e;\n}\n#love_index #content .recharge_way li .icon-balance_f[data-v-6021e8ba] {\n          color: #fac337;\n}\n#love_index #content .recharge_way li .icon-balance_g[data-v-6021e8ba] {\n          color: #fac337;\n}\n#love_index #content .recharge_way li .icon-balance_h[data-v-6021e8ba] {\n          color: #00508e;\n}\n#love_index #content .recharge_way li .icon-balance_i[data-v-6021e8ba] {\n          color: #64b42e;\n}\n#love_index #content .recharge_way li .icon-balance_j[data-v-6021e8ba] {\n          color: #069ce7;\n}\n#love_index #content .recharge_way li .iconfont[data-v-6021e8ba] {\n          font-size: 2rem;\n          margin-right: 0.625rem;\n}\n#love_index #content .recharge_way li[data-v-6021e8ba]:last-child {\n        border: none;\n}\n",""])},u8R9:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("Pexp"),i=t("Tg7E"),o={data:function(){return{value:"",every_value:"",transform_value:"",title:"",recharge_value:"",pay_type:"",AlipayShow:!0,weixinShow:!1,converge_alipay_pay:!1,converge_wechat_pay:!1,toi:this.fun.getKeyByI(),credit2:0,typename:"",recharge:"",ordersn:"",money:null,buttons:[],huanxun_form_quick:18,huanxun_form_wx:22,huanxun_form_action:"",huanxun_form_input:"",huanxun_input_name:""}},methods:{getData:function(){var e=this;$http.get("plugin.love.Frontend.Modules.Love.Controllers.recharge.page",{},"加载中").then(function(n){1===n.result&&(e.value=n.data.member_usable,e.every_value=n.data.recharge_rate_money,e.transform_value=n.data.recharge_rate_love)}).catch(function(e){console.log(e)})},getTitle:function(){var e=this;$http.get("plugin.love.Frontend.Controllers.page.index",{},"加载中").then(function(n){1===n.result?(e.title=n.data.love_name,e.fun.setWXTitle(e.title+"充值"),e.buttons=n.data.buttons):i.MessageBox.alert(n.msg)}).catch(function(e){console.log(e)})},initData:function(){this.value="",this.every_value="",this.transform_value="",this.title="",this.recharge_value="",this.pay_type="",this.AlipayShow=!1,this.weixinShow=!1},newWXPay:function(e){var n=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(n.$router.go(-1),i.MessageBox.alert("支付成功","提示")):i.MessageBox.alert("支付失败","提示")})},WXPay:function(e){var n=this;window.isMiniprogram?n.miniWxPay(e):wx.chooseWXPay({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:function(e){"chooseWXPay:ok"==e.errMsg?(i.MessageBox.alert("充值成功","提示"),n.$router.go(-1)):i.MessageBox.alert("充值失败，请返回重试")},cancel:function(e){},fail:function(e){i.MessageBox.alert("充值失败，请返回重试。")}})},miniWxPay:function(e){var n="/pages/pay/orderPay"+("?timestamp="+e.timestamp+"&nonceStr="+e.nonceStr+"&package="+encodeURIComponent(e.package)+"&signType="+e.signType+"&paySign="+e.paySign);wx.miniProgram.navigateTo({url:n})},Alipay:function(e){this.$router.push(this.fun.getUrl("love_alipay",{status:"11",pay_id:e}))},appWeiPay:function(){YDB.SetWxpayInfo(this.$store.state.temp.mailInfo.name,"订单号："+this.ordersn,this.money,this.ordersn,this.fun.getKeyByI())},btnclass:function(e){return 1==e||6==e||9==e||12==e||20==e||22==e?"icon-balance_i":2==e||10==e?"icon-balance_j":18==e?"icon-balance_d":19==e?"icon-balance_g":"icon-balance_h"},confirm:function(e){var n=this,t=this;if(t.money=parseFloat(this.money),this.pay_type=e,t.money<=0)i.MessageBox.alert("金额不可低于0元","提示");else{var a="plugin.love.Frontend.Modules.Love.Controllers.recharge.index";window.isMiniprogram&&(a+="&client_type=2&app_type=wechat"),$http.get(a,{pay_way:this.pay_type,recharge_money:this.money},"正在充值").then(function(e){if(1==e.result){if(t.fun.isTextEmpty(e.data.order_sn))return i.MessageBox.alert("参数错误","提示"),!1;if(t.ordersn=e.data.order_sn,1==n.pay_type)wx.config(e.data.js),t.WXPay(e.data.config);else if(2==n.pay_type)t.$router.push(t.fun.getUrl("love_alipay",{status:"1",recharge_money:t.money,order_pay_id:t.ordersn,uid:window.localStorage.uid,pid:window.localStorage.uid,tag:"love"}));else if(6==n.pay_type)t.getWeChatPayParams2();else if(9==n.pay_type)t.appWeiPay();else if(10==n.pay_type)t.appAliPay(e.data.isnewalipay);else if(12==n.pay_type)t.newWechatPay();else if(7==n.pay_type)t.newAlipay(e.data.order_sn);else if(18==n.pay_type)t.huanxunQuick(e);else if(19==n.pay_type)t.eupPay(e.data.order_sn);else if(22==n.pay_type)t.huanxunWx(e);else if(20==n.pay_type)200==e.data.status?t.newWXPay(e.data.pay_info):i.MessageBox.alert(e.msg,"提示");else if(21==n.pay_type)200==e.data.status?t.fun.isWeiXin()?t.$router.push(t.fun.getUrl("wft_balance_recharge_copy",{url:e.data.code_url,code_url:e.data.code_img_url})):t.$router.push(t.fun.getUrl("wft_balance_recharge",{status:"12",url:e.data.code_url})):i.MessageBox.alert(e.msg,"提示");else if(28==n.pay_type){var a=e.data.data.rc_Result;a=JSON.parse(a),console.log(a,"999"),t.newWXPay(a)}else 29==n.pay_type?(console.log(e,"返回"),""!=e.data.msg?i.MessageBox.alert(e.data.msg,"提示"):window.href=e.data.rc_Result):23==n.pay_type?t.talentPay(e.data.order_sn):33==n.pay_type&&t.jueqiAlipay()}else i.MessageBox.alert(e.msg,"提示")},function(e){})}},jueqiAlipay:function(){$http.get("order.merge-pay.wechat-pay-jueqi",{order_pay_id:this.ordersn}).then(function(e){1==e.result?window.location.href=e.data.url:i.MessageBox.alert(e.msg,"提示")},function(e){})},talentPay:function(e){$http.get("plugin.pld-pay.api.pld-recharge.index",{order_sn:e}," ").then(function(e){1==e.result&&(window.location.href=e.data.url)}).catch(function(e){console.log(e)})},huanxunWx:function(e){1==e.result?(this.huanxun_input_name="wxPayReq",this.huanxun_form_action=e.data.url,this.huanxun_form_input=e.data.content,this.$nextTick(function(){document.getElementById("ipspaysubmit").submit()})):i.MessageBox.alert(e.msg,"提示")},eupPay:function(e){$http.get("plugin.eup-pay.api.eup-recharge.index",{order_sn:e}," ").then(function(e){1==e.result&&(window.location.href=e.data.url)}).catch(function(e){console.log(e)})},huanxunQuick:function(e){1==e.result?(this.huanxun_input_name="pGateWayReq",this.huanxun_form_action=e.data.url,this.huanxun_form_input=e.data.content,this.$nextTick(function(){document.getElementById("ipspaysubmit").submit()})):i.MessageBox.alert(e.msg,"提示")},newAlipay:function(e){var n=this,t={order_sn:e};$http.get("finance.balance.alipay",t,"").then(function(e){1===e.result?n.$router.push(n.fun.getUrl("alipayCloud",{status:"7",url:e.data})):i.MessageBox.alert(e.msg,"提示")},function(e){})},newWechatPay:function(){var e=this,n={order_pay_id:e.ordersn};$http.get("order.merge-pay.yunPayWechat",n,"").then(function(n){1===n.result?e.newWXPay(n.data):i.MessageBox.alert(n.msg,"提示")},function(e){})},getWeChatPayParams2:function(){$http.get("finance.balance.cloudWechatPay",{ordersn:this.ordersn},"").then(function(e){1==e.result?window.location.href=e.data:i.MessageBox.alert(e.msg,"提示")},function(e){i.MessageBox.alert(e,"提示")})},appAliPay:function(e){1==e?YDB.SetRSA2AlipayInfo(this.$store.state.temp.mailInfo.name,this.fun.getKeyByI(),this.money,this.ordersn):YDB.SetAlipayInfo(this.$store.state.temp.mailInfo.name,this.fun.getKeyByI(),this.money,this.ordersn)}},activated:function(){window.isMiniprogram&&(this.AlipayShow=!1),this.initData(),this.getData(),this.getTitle()},components:{cTitle:a.a}},r={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"love_index"}},[t("c-title",{attrs:{hide:!1,text:e.title+"充值"}}),e._v(" "),t("div",{attrs:{id:"content"}},[t("ul",{staticClass:"current"},[t("li",[t("span",[e._v("当前余额：")]),e._v(" "),t("span",[e._v(e._s(e.value))])])]),e._v(" "),t("div",{staticClass:"recharge"},[t("ul",{staticClass:"recharge_a"},[t("li",[e._v("充值数量")]),e._v(" "),t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.money,expression:"money"}],attrs:{type:"text",placeholder:"0"},domProps:{value:e.money},on:{input:function(n){n.target.composing||(e.money=n.target.value)}}})])]),e._v(" "),t("p",[e._v("\n        例如：人民币"+e._s(e.every_value)+"元等于"+e._s(e.transform_value)+"个"+e._s(e.title)+"\n      ")])]),e._v(" "),t("div",{staticClass:"recharge_way"},[t("h1",[e._v("充值方式")]),e._v(" "),t("ul",{staticClass:"choose_box"},e._l(e.buttons,function(n,a){return t("li",{key:a,on:{click:function(t){return e.confirm(n.value)}}},[t("i",{staticClass:"iconfont",class:[e.btnclass(n.value)]}),e._v("\n          "+e._s(n.name)+"充值\n          "),e.huanxun_form_quick==n.value||e.huanxun_form_wx==n.value?t("div",[t("form",{attrs:{id:"ipspaysubmit",method:"post",action:e.huanxun_form_action}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.huanxun_form_input,expression:"huanxun_form_input"}],attrs:{type:"hidden",name:e.huanxun_input_name},domProps:{value:e.huanxun_form_input},on:{input:function(n){n.target.composing||(e.huanxun_form_input=n.target.value)}}})])]):e._e()])}),0)])])],1)},staticRenderFns:[]};var l=t("VU/8")(o,r,!1,function(e){t("8ZJx")},"data-v-6021e8ba",null);n.default=l.exports}});