webpackJsonp([51],{"6LBm":function(t,e,i){t.exports=i.p+"static/app/img/IDicon_c.eae49a3.png"},SnoI:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABdCAMAAAAVHZ3YAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAG9QTFRFmZmZiYmJmXZ9kZGRlZWVjY2Ns7OzzMzMmYiLmXh/l5eXmX2CmZeXmZWWmZKUmZCSk5OTmYyPmX+EmY6QmXqBmYOIxsbGlpaWv7+/mYWJ5eXl2dnZmYGGmYqNpqam39/f+fn5rKys8vLyn5+f////PwvwAQAAACV0Uk5T////////////////////////////////////////////////AD/PQk8AAAGFSURBVHja7NjpUoMwFAXgNKGaAIWyFLu4m/d/RnE6tgNNUi0op3rO38ww3xDuJTfCWvva3GBmvbVWWLt7E7BZt8AngZxG2EeBnS24T9wSSCCBBBIYTqbLWkpTbqqTpeX8ECGi2bCoy4BFi/uM0Wl3UR0fPxEwS2QnpsICVkb2o5GAhXRkhQPMjAsoC0+RxGpYom8DE6dPmgVIm9HSkxIEaHxAmUEAK6+vUyfTAVd+YA0BrP1AuUAABnwyvxZgpw/ezYdlOSKwQPiTfOUNEhgClgEgxGFB+32JQCiShR/4gPEv9u6xSTGAuQ+oUaa6zZkvcPqxM0E4r4aAqUNoMoEDFOn9yf7+uu/M4F50z9W9yT06jjxTDE37l1gc9rnW/c9v+puFvTHXbSpHcYAA/SHwzwN5w0oggQQSSCCBBBJIIIEE/nNg6JoiUqPmsquP0IioZqNGEUjgVQLZBwmcGhi5E3+sxdGoidlmCCTwJ4DwVcxGTSCBBA7ODh34jA60DTTv5V2AAQD64CU5Q2BL6wAAAABJRU5ErkJggg=="},ibVQ:function(t,e,i){var a=i("mwt/");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("811cbbfc",a,!0,{})},"mwt/":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n#driver_data[data-v-450ee702] {\n  padding-top: 50px;\n}\n#driver_data #content .IDimg_box[data-v-450ee702],\n  #driver_data #content .driver_img[data-v-450ee702] {\n    margin-bottom: 0.625rem;\n    background: #fff;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 0.875rem;\n}\n#driver_data #content .IDimg_box .face_img[data-v-450ee702],\n    #driver_data #content .IDimg_box .back_img[data-v-450ee702],\n    #driver_data #content .driver_img .face_img[data-v-450ee702],\n    #driver_data #content .driver_img .back_img[data-v-450ee702] {\n      width: 10rem;\n}\n#driver_data #content .IDimg_box .face_img .title[data-v-450ee702],\n      #driver_data #content .IDimg_box .back_img .title[data-v-450ee702],\n      #driver_data #content .driver_img .face_img .title[data-v-450ee702],\n      #driver_data #content .driver_img .back_img .title[data-v-450ee702] {\n        text-align: center;\n        line-height: 1.875rem;\n}\n#driver_data #content .IDimg_box .face_img .bg_img[data-v-450ee702],\n      #driver_data #content .IDimg_box .back_img .bg_img[data-v-450ee702],\n      #driver_data #content .driver_img .face_img .bg_img[data-v-450ee702],\n      #driver_data #content .driver_img .back_img .bg_img[data-v-450ee702] {\n        width: 10rem;\n        height: 5.625rem;\n        border-radius: 0.375rem;\n        overflow: hidden;\n        background-size: cover;\n        background-position: center;\n        background-repeat: no-repeat;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n}\n#driver_data #content .IDimg_box .back_img .bg_img[data-v-450ee702],\n    #driver_data #content .driver_img .back_img .bg_img[data-v-450ee702] {\n      width: 10rem;\n      height: 5.625rem;\n      border-radius: 0.375rem;\n      overflow: hidden;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n#driver_data #content .driver_img .face_img .bg_img[data-v-450ee702] {\n    width: 10rem;\n    height: 5.625rem;\n    border-radius: 0.375rem;\n    overflow: hidden;\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n#driver_data #content .btm_btn[data-v-450ee702] {\n    z-index: 10;\n    position: fixed;\n    bottom: 0;\n    background: #fff;\n    width: 100%;\n    padding: 0.625rem;\n    border-top: solid 0.0625rem #ebebeb;\n}\n#driver_data #content .btm_btn button[data-v-450ee702] {\n      width: 21.5625rem;\n      height: 2.5rem;\n      background: #ed743b;\n      color: #fff;\n      font-size: 16px;\n      border: none;\n      border-radius: 0.375rem;\n}\n#driver_data #content .OverFlow input[data-v-450ee702] {\n    text-align: right;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n    overflow: hidden;\n}\n#driver_data #content .overFlow span[data-v-450ee702] {\n    display: -webkit-box;\n    overflow: hidden;\n    white-space: normal;\n    text-overflow: ellipsis;\n    word-wrap: break-word;\n    -webkit-line-clamp: 2;\n    /* autoprefixer: off*/\n    -webkit-box-orient: vertical;\n    /* autoprefixer: on*/\n}\n.padding[data-v-450ee702] {\n  padding-bottom: 80px;\n}\n.hidden[data-v-450ee702] {\n  visibility: hidden;\n}\n.all[data-v-450ee702] {\n  width: 100%;\n  height: 100%;\n}\n.yd-cell-right .yd-datetime-input[data-v-450ee702] {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n",""])},oKw6:function(t,e,i){t.exports=i.p+"static/app/img/IDicon_a.b4df9e1.png"},vu7n:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Tg7E"),n={data:function(){return{idNumber:"",Name:"",address:"",district:district,show1:!1,provinceId:"",cityId:"",uploadUrl:"",fromUrl:"",idImg:"",nationImg:"",carImg:"",idTime:"2019-05-11",driverTime:"2019-05-11",driverEffect:"2019-05-11",id:3,driver:"",fileInfo:"",remark:"",status:"",driver_phone:""}},activated:function(){this.initPageData(),this.statusInfo()},updated:function(){window.scrollTo(0,0)},mounted:function(){},methods:{initPageData:function(){this.idNumber="",this.Name="",this.show1=!1,this.uploadUrl="",this.fromUrl="",this.idImg="",this.nationImg="",this.carImg="",this.driver="",this.status="",this.id=3,this.idTime="2019-05-11",this.driverTime="2019-05-11",this.driverEffect="2019-05-11",this.fileInfo="",this.remark=""},IdRead:function(t){var e=this,i=new FormData;console.log(t,"文件流"),i.append("file",t.file);this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}),axios.post(this.uploadUrl,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.idImg=t.data.data.img_url}).catch(function(t){console.log(t)})},NationRead:function(t){var e=this,i=new FormData;i.append("file",t.file);this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}),axios.post(this.uploadUrl,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.nationImg=t.data.data.img_url}).catch(function(t){console.log(t)})},CarRead:function(t){var e=this,i=new FormData;i.append("file",t.file);this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}),axios.post(this.uploadUrl,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.carImg=t.data.data.img_url}).catch(function(t){console.log(t)})},result1:function(t){this.provinceId=t.itemValue1,this.cityId=t.itemValue2,this.address=t.itemName1+" "+t.itemName2+" "+t.itemName3},isPoneAvailable:function(t){return!!/^[1][3,4,5,7,8][0-9]{9}$/.test(t)},CarInfo:function(){var t=this;if(this.fun.isTextEmpty(this.address))Object(a.Toast)("请选择地址");else if(this.fun.isTextEmpty(this.idImg))Object(a.Toast)("请上传身份证人面像");else if(this.fun.isTextEmpty(this.nationImg))Object(a.Toast)("请上传身份证国徽面");else if(this.fun.isTextEmpty(this.carImg))Object(a.Toast)("请上传驾驶证正面");else if(this.fun.isTextEmpty(this.Name))Object(a.Toast)("请输入姓名");else if(/^[\u4e00-\u9fa5]{2,4}$/.test(this.Name))if(this.fun.isTextEmpty(this.idNumber)&&Object(a.Toast)("请输入身份证号码"),/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.idNumber))if(isNaN(this.driver_phone)&&this.driver_phone.length>0)Object(a.Toast)("手机号码只能为数字");else if(!this.isPoneAvailable(this.driver_phone)&&this.driver_phone.length>0)Object(a.Toast)("请输入正确的手机号码");else{this.fromUrl=this.fun.getRealUrl("plugin.net-car.frontend.driver-apply.create",{});var e={driver_name:this.Name,id_card_expiry:this.idTime,driver_id_card:this.idNumber,driver_phone:this.driver_phone,receive_driver_license:this.driverTime,driver_license_expiry:this.driverEffect,province_id:this.provinceId,city_id:this.cityId,file_info:{id_card_front:this.idImg,id_card_back:this.nationImg,driver_license_front:this.carImg}};$http.post(this.fromUrl,{data:e},{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){1===e.result?(Object(a.Toast)("提交成功"),t.$router.push(t.fun.getUrl("online_car",{id:t.id}))):Object(a.Toast)(e.msg)}).catch(function(t){console.log(t)})}else Object(a.Toast)("请输入正确身份证号码");else Object(a.Toast)("真实姓名有误,请重新填写")},statusInfo:function(){var t=this;$http.get("plugin.net-car.frontend.driver-apply.get-driver").then(function(e){1===e.result&&(t.status=e.data.status,t.driver=e.data.driver,999===t.status?(t.address=t.$route.params.address,t.provinceId=t.$route.params.provinceId,t.cityId=t.$route.params.cityId):(t.fileInfo=t.driver.file_info,t.Name=t.driver.driver_name,t.idNumber=t.driver.driver_id_card,t.idTime=t.driver.id_card_expiry,t.driverTime=t.driver.receive_driver_license,t.driverEffect=t.driver.driver_license_expiry,t.address=t.driver.address,t.idImg=t.fileInfo.id_card_front,t.nationImg=t.fileInfo.id_card_back,t.carImg=t.fileInfo.driver_license_front,t.remark=t.driver.remark,t.driver_phone=t.driver.driver_phone))}).catch(function(t){console.log(t)})}},components:{cTitle:i("Pexp").a}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{padding:999===t.status||-1===t.status},attrs:{id:"driver_data"}},[a("c-title",{attrs:{hide:!1,text:"填写资料"}}),t._v(" "),a("div",{attrs:{id:"content"}},[999===t.status||-1===t.status?a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:"",type:"a"},nativeOn:{click:function(e){t.show1=!0}}},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("选择城市")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.address))])])],1):t._e(),t._v(" "),999===t.status||-1===t.status?a("yd-cityselect",{attrs:{callback:t.result1,items:t.district},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}}):t._e(),t._v(" "),0===t.status||1===t.status?a("yd-cell-group",[a("yd-cell-item",{attrs:{type:"a"}},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("选择城市")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.address))])])],1):t._e(),t._v(" "),a("div",{staticClass:"IDimg_box"},[a("div",{staticClass:"face_img"},[a("p",{staticClass:"title"},[t._v("身份证人面像")]),t._v(" "),a("div",{staticClass:"bg_img",style:{backgroundImage:"url("+(t.idImg.length>0?t.idImg:i("oKw6"))+")"}},[a("van-uploader",{class:{all:t.idImg.length>0},attrs:{"after-read":t.IdRead,disabled:0===t.status||1===t.status}},[a("van-icon",{class:{hidden:t.idImg.length>0},attrs:{name:"photograph"}})],1)],1)]),t._v(" "),a("div",{staticClass:"back_img"},[a("p",{staticClass:"title"},[t._v("身份证国徽面")]),t._v(" "),a("div",{staticClass:"bg_img",style:{backgroundImage:"url("+(t.nationImg.length>0?t.nationImg:i("SnoI"))+")"}},[a("van-uploader",{class:{all:t.nationImg.length>0},attrs:{"after-read":t.NationRead,disabled:0===t.status||1===t.status}},[a("van-icon",{class:{hidden:t.nationImg.length>0},attrs:{name:"photograph"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"driver_img"},[a("div",{staticClass:"face_img"},[a("p",{staticClass:"title"},[t._v("驾驶证正面")]),t._v(" "),a("div",{staticClass:"bg_img",style:{backgroundImage:"url("+(t.carImg.length>0?t.carImg:i("6LBm"))+")"}},[a("van-uploader",{class:{all:t.carImg.length>0},attrs:{"after-read":t.CarRead,disabled:0===t.status||1===t.status}},[a("van-icon",{class:{hidden:t.carImg.length>0},attrs:{name:"photograph"}})],1)],1)])]),t._v(" "),a("yd-cell-group",[a("yd-cell-item",{staticClass:"OverFlow"},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("本人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Name,expression:"Name"}],attrs:{slot:"right",type:"text",placeholder:"请输入",readonly:0===t.status||1===t.status},domProps:{value:t.Name},on:{input:function(e){e.target.composing||(t.Name=e.target.value)}},slot:"right"})]),t._v(" "),a("yd-cell-item",{staticClass:"OverFlow"},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("身份证号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.idNumber,expression:"idNumber"}],attrs:{slot:"right",type:"text",placeholder:"请输入",readonly:0===t.status||1===t.status},domProps:{value:t.idNumber},on:{input:function(e){e.target.composing||(t.idNumber=e.target.value)}},slot:"right"})]),t._v(" "),a("yd-cell-item",{staticClass:"OverFlow"},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("手机号码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.driver_phone,expression:"driver_phone"}],attrs:{slot:"right",type:"text",placeholder:"请输入",readonly:0===t.status||1===t.status},domProps:{value:t.driver_phone},on:{input:function(e){e.target.composing||(t.driver_phone=e.target.value)}},slot:"right"})]),t._v(" "),a("yd-cell-item",{attrs:{arrow:"",type:"label"}},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("身份证有效期")]),t._v(" "),a("yd-datetime",{attrs:{slot:"right",type:"date",readonly:0===t.status||1===t.status},slot:"right",model:{value:t.idTime,callback:function(e){t.idTime=e},expression:"idTime"}})],1),t._v(" "),a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("驾驶证领证日期")]),t._v(" "),a("yd-datetime",{attrs:{slot:"right",type:"date",readonly:0===t.status||1===t.status},slot:"right",model:{value:t.driverTime,callback:function(e){t.driverTime=e},expression:"driverTime"}})],1),t._v(" "),a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("驾驶证有效期")]),t._v(" "),a("yd-datetime",{attrs:{slot:"right",type:"date",readonly:0===t.status||1===t.status},slot:"right",model:{value:t.driverEffect,callback:function(e){t.driverEffect=e},expression:"driverEffect"}})],1),t._v(" "),-1===t.status?a("yd-cell-item",{staticClass:"overFlow"},[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("拒绝申请通过备注")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.remark))])]):t._e()],1),t._v(" "),999===t.status||-1===t.status?a("div",{staticClass:"btm_btn"},[999===t.status?a("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.CarInfo(e)}}},[t._v("提交")]):t._e(),t._v(" "),-1===t.status?a("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.CarInfo(e)}}},[t._v("重新提交")]):t._e()]):t._e()],1)],1)},staticRenderFns:[]};var s=i("VU/8")(n,r,!1,function(t){i("ibVQ")},"data-v-450ee702",null);e.default=s.exports}});