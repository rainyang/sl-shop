webpackJsonp([110],{cDkK:function(n,e,t){n.exports=t.p+"static/app/img/mircro_img.bfe33fb.png"},fWB2:function(n,e,t){var a=t("vYSb");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("2fe2b754",a,!0,{})},"j/f9":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("mvHQ"),o=t.n(a),i=t("Pexp"),r=t("Tg7E"),s=document.createElement("canvas"),d=s.getContext("2d"),c={data:function(){return{photosize:4194304,showInfo:!0,shopName:"",userName:"",signName:"",showBox:"main",changeType:"",changeVal:"",imageUrl:"",imageUrl1:"",imageUrl2:"",bgImg:"",temp:!1,bannerImg:"",postUrl:"",shopModle:{shop_background:"",signature:""},shoplang:""}},created:function(){var n=JSON.parse(localStorage.getItem("mailLanguage"));n.micro?this.fun.setWXTitle(n.micro.title+"设置"):this.fun.setWXTitle("微店设置")},activated:function(){var n=JSON.parse(localStorage.getItem("mailLanguage"));n.micro?this.fun.setWXTitle(n.micro.title+"设置"):this.fun.setWXTitle("微店设置"),this.temp=this.$route.params.showSelectGood,this.showInfo=!0,this.init(),this.showBox="main"},methods:{init:function(){var n=this;$http.get("plugin.micro.frontend.controllers.MicroShop.set-shop").then(function(e){var t=e.data.micro_shop;1==e.result?(n.shopName=t.shop_name,n.username=t.has_one_member.nickname,n.signName=t.signature,n.imageUrl1=t.shop_avatar,n.imageUrl2=t.has_one_member.avatar,n.postUrl=t.api,n.bannerImg=e.data.select_goods_thumb,n.bgImg=t.shop_background,n.action=e.data.api+"&type="+n.fun.getTyep(),n.shopModle.shop_background=e.data.micro_shop.shop_background,n.shopModle.signature=e.data.micro_shop.signature,n.shoplang=e.data.lang):console.log(e)},function(n){console.log(n)})},changeShowBox:function(n){this.changeType=n,this.showBox="店招背景"==n?"upLoadBox":"个性签名"==n||"微店名称"==n||"店主昵称"==n?"inputBox":"main"},changeActive:function(n,e){if(1==e){var t=this;if(this.fun.isTextEmpty(this.shopModle.shop_background))return void Object(r.Toast)("微店背景不能为空");if(this.fun.isTextEmpty(this.shopModle.signature))return void Object(r.Toast)("微店个性签名不能为空");var a={shop_set:o()(this.shopModle)};$http.get("plugin.micro.frontend.controllers.MicroShop.set-shop.edit",a,"设置中").then(function(n){1===n.result?t.$router.go(-1):console.log(n)},function(n){console.log(n)})}else this.showInfo=n},closePopInput:function(){this.showBox="main",this.changeVal=""},handleAvatarSuccess:function(n,e){this.imageUrl=URL.createObjectURL(e.raw),"微店头像"==this.changeType?this.imageUrl1=n.data.img:"店招背景"==this.changeType&&(this.bgImg=n.data.img,this.shopModle.shop_background=this.bgImg)},beforeAvatarUpload:function(n){var e="image/jpeg"===n.type||"image/png"===n.type,t=n.size/1024/1024<4;return e||this.$notify("上传图片只能是 JPG 或PNG格式!"),t||this.$notify("上传图片大小不能超过 4MB!"),e&&t},manageShop:function(){this.$router.push(this.fun.getUrl("manage_shop",{}))},imgPreview:function(n,e){var t=this;if(n&&window.FileReader&&/^image/.test(n.type)){var a=new FileReader;a.readAsDataURL(n),a.onloadend=function(){var a=this.result,o=new Image;o.src=a,o.onload=function(){var a=this.width,i=this.height,r=a,c=i;(a>400||i>400)&&(a/i>1?(r=400,c=Math.round(i/a*400)):(c=400,r=Math.round(a/i*400))),s.width=r,s.height=c,d.clearRect(0,0,r,c),d.drawImage(o,0,0,r,c),s.toBlob(function(n){1===e&&t.onRead(n,!0)},n.type||"image/png")}}}},onRead:function(n,e){var t=new FormData;!0===e?t.append("file",n):t.append("file",n.file);var a=this;axios.post(this.action,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var o=t.data;1===o.result&&(a.imageUrl=!0===e?URL.createObjectURL(n):URL.createObjectURL(n.file),"微店头像"==a.changeType?a.imageUrl1=o.data.img_url:"店招背景"==a.changeType&&(a.bgImg=o.data.img_url,a.shopModle.shop_background=a.bgImg))}).catch(function(n){console.log(n)})},onphotosize:function(n){this.imgPreview(n.file,1)}},components:{cTitle:i.a}},l={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{attrs:{id:"baseInfo"}},["main"==n.showBox?a("div",[a("c-title",{attrs:{hide:!1,text:(n.shoplang?n.shoplang:"微店")+"设置"}}),n._v(" "),a("div",{staticStyle:{height:"40px"}}),n._v(" "),a("ul",{staticClass:"nav"},[a("li",{class:{active22:n.showInfo},on:{click:function(e){return n.changeActive(!0)}}},[n._v("\n        基本信息\n      ")]),n._v(" "),a("li",{class:{active22:!n.showInfo},on:{click:function(e){return n.changeActive(!1)}}},[n._v("\n        自选商品\n      ")])]),n._v(" "),n.showInfo?a("div",{staticClass:"info"},[a("div",{staticClass:"list"},[a("div",{staticClass:" tou2",staticStyle:{"border-bottom":"solid 0.0625rem #ebebeb"},on:{click:function(e){return n.manageShop()}}},[a("span",[n._v("商品管理")]),n._v(" "),a("i",{staticClass:"fa fa-angle-right"})]),n._v(" "),a("div",{staticClass:" tou2",on:{click:function(e){return n.changeShowBox("店招背景")}}},[a("span",[n._v("店招背景")]),n._v(" "),a("i",{staticClass:"fa fa-angle-right"})])]),n._v(" "),a("li",[n._v("\n        个性签名\n        "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:n.shopModle.signature,expression:"shopModle.signature"}],attrs:{name:"个性签名",id:"个性签名",cols:"30",rows:"10",maxlength:"120"},domProps:{value:n.shopModle.signature},on:{input:function(e){e.target.composing||n.$set(n.shopModle,"signature",e.target.value)}}})]),n._v(" "),a("div",{staticClass:"btn",on:{click:function(e){return n.changeActive(!1,1)}}},[n._v("\n        确 定\n      ")])]):a("div",{staticClass:"selectGoods"},[a("div",{staticClass:"content"},[a("img",{attrs:{src:n.bannerImg,alt:""}})]),n._v(" "),a("router-link",{attrs:{to:n.fun.getUrl("micro_shop_add_category")}},[a("div",{staticClass:"add"},[a("div",[a("i",[n._v("+")]),n._v(" "),a("span",{staticClass:"font"},[n._v("  选择 商品")])])])]),n._v(" "),a("p",[n._v("\n       "+n._s("店主可以通过选择商品就可以生成"+(n.shoplang?n.shoplang:"微店")+"，将"+(n.shoplang?n.shoplang:"微店")+"分享给好友，好友通过自己的"+(n.shoplang?n.shoplang:"微店")+"链接进入购买商品就可以获得分红啦~")+"\n        "),a("br"),n._v(n._s("快去选择您的"+(n.shoplang?n.shoplang:"微店")+"商品吧！")+"\n      ")])],1)],1):"upLoadBox"==n.showBox?a("div",{staticClass:"popupInput"},[a("c-title",{attrs:{hide:!1,text:"店招背景"}}),n._v(" "),a("div",{staticStyle:{width:"100%",height:"2.5rem"}}),n._v(" "),a("div",{staticClass:"m_header"},[a("span",{staticClass:"iconfont icon-left",on:{click:function(e){return n.closePopInput()}}}),n._v("\n      修改"+n._s(n.changeType)+"\n    ")]),n._v(" "),a("div",{staticClass:"inputBox"},[a("van-uploader",{attrs:{"after-read":n.onRead,"max-size":n.photosize},on:{oversize:n.onphotosize}},[n.bgImg?a("img",{staticClass:"avatar",attrs:{src:"0"==n.bgImg?t("cDkK"):n.bgImg}}):a("div",{staticStyle:{width:"100%",height:"100%"}})])],1),n._v(" "),n._m(0),n._v(" "),a("div",{staticClass:"bottom-btn"},[a("van-uploader",{staticClass:"bg-btn",attrs:{"after-read":n.onRead,"max-size":n.photosize},on:{oversize:n.onphotosize}},[a("em",[n._v("更换背景")])]),n._v(" "),a("button",{on:{click:n.closePopInput}},[n._v("保存")])],1)],1):n._e()])},staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"notes"},[e("p",[this._v("请上传不大于4M的jpeg或者png格式的图片。")])])}]};var h=t("VU/8")(c,l,!1,function(n){t("fWB2")},"data-v-9c360530",null);e.default=h.exports},vYSb:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,'\n@charset "UTF-8";\n#baseInfo[data-v-9c360530] {\n  /*上传头像的样式*/\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n#baseInfo .bottom-btn[data-v-9c360530] {\n    margin-top: 1.25rem;\n}\n#baseInfo .bottom-btn .bg-btn[data-v-9c360530],\n    #baseInfo .bottom-btn button[data-v-9c360530] {\n      margin-top: 0.625rem;\n      width: 80%;\n      height: 2.25rem;\n      border: solid 0.0625rem #ccc;\n      border-radius: 0.25rem;\n      margin-left: 10%;\n      color: #333;\n      line-height: 2.25rem;\n      text-align: center;\n}\n#baseInfo .avatar-uploader .el-upload[data-v-9c360530] {\n    border: 0.0625rem dashed #d9d9d9;\n    border-radius: 0.375rem;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n#baseInfo .avatar-uploader .el-upload[data-v-9c360530]:hover {\n    border-color: #20a0ff;\n}\n#baseInfo .avatar-uploader-icon[data-v-9c360530] {\n    font-size: 28px;\n    color: #8c939d;\n    width: 11.125rem;\n    height: 11.125rem;\n    line-height: 11.125rem;\n    text-align: center;\n}\n#baseInfo .avatar[data-v-9c360530] {\n    width: 100%;\n    max-height: 16rem;\n    display: block;\n}\n#baseInfo .popupInput[data-v-9c360530] {\n    position: relative;\n    text-align: left;\n}\n#baseInfo .popupInput .notes[data-v-9c360530] {\n      width: 100%;\n      background-color: #ebebeb;\n      height: 2.5rem;\n      padding: 0 0.75rem;\n}\n#baseInfo .popupInput p[data-v-9c360530] {\n      color: #f15353;\n      line-height: 2.5rem;\n      font-size: 14px;\n}\n#baseInfo .popupInput .inputBox[data-v-9c360530] {\n      background: #fff;\n      height: 15.625rem;\n}\n#baseInfo .popupInput .inputBox .avatar-uploader[data-v-9c360530] {\n        position: relative;\n}\n#baseInfo .popupInput .inputBox .avatar-uploader i[data-v-9c360530] {\n          font-style: normal;\n          position: absolute;\n          top: 0.9375rem;\n          color: blue;\n          right: 0.9375rem;\n}\n#baseInfo .popupInput .inputBox .avatar-uploader div[data-v-9c360530] {\n          width: 5rem;\n          height: 5rem;\n          background: #f15353;\n}\n#baseInfo .popupInput .inputBox .avatar-uploader img[data-v-9c360530] {\n          width: 100%;\n}\n#baseInfo .popupInput span[data-v-9c360530] {\n      display: inline-block;\n      margin-right: 1.875rem;\n}\n#baseInfo .m_header[data-v-9c360530] {\n    width: 100%;\n    height: 2.5rem;\n    padding: 0 0.75rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    border-bottom: solid 0.0625rem #e2e2e2;\n    line-height: 2.5rem;\n    text-align: left;\n    font-size: 14px;\n}\n#baseInfo .m_header button[data-v-9c360530] {\n      color: #fff;\n      background: green;\n      border-radius: 0.25rem;\n      width: 3.75rem;\n      border: none;\n      font-size: 12px;\n      float: right;\n      line-height: 2.25rem;\n}\n#baseInfo .m_header span[data-v-9c360530] {\n      display: inline-block;\n      float: left;\n      font-size: 28px;\n}\n#baseInfo .m_header i[data-v-9c360530] {\n      font-size: 14px;\n      float: right;\n      font-style: normal;\n}\n#baseInfo .nav[data-v-9c360530] {\n    padding: 0.9375rem 0.75rem;\n}\n#baseInfo .nav li[data-v-9c360530] {\n      width: calc(50% - 0.125rem);\n      display: inline-block;\n      text-align: center;\n      font-size: 14px;\n      line-height: 2.5rem;\n      background: #fff;\n      color: #f15353;\n}\n#baseInfo .nav li[data-v-9c360530]:first-child {\n      border-radius: 0.3125rem 0 0 0.3125rem;\n}\n#baseInfo .nav li[data-v-9c360530]:last-child {\n      border-radius: 0 0.3125rem 0.3125rem 0;\n}\n#baseInfo .info li[data-v-9c360530]:after {\n    content: "";\n    display: block;\n    clear: both;\n}\n#baseInfo .info li[data-v-9c360530]:first-child {\n    border-bottom: 0.0625rem solid #ccc;\n}\n#baseInfo .info li[data-v-9c360530] {\n    padding: 0.75rem;\n    font-size: 14px;\n    text-align: left;\n    background: #fff;\n    line-height: 1.25rem;\n    margin-top: 0.625rem;\n}\n#baseInfo .info li .right[data-v-9c360530] {\n      float: right;\n      text-align: right;\n      border: none !important;\n}\n#baseInfo .info li .right .img[data-v-9c360530] {\n        width: 2.1875rem;\n        height: 2.1875rem;\n        border: none !important;\n}\n#baseInfo .info li .right .img img[data-v-9c360530] {\n          width: 2.1875rem;\n          height: 2.1875rem;\n          vertical-align: middle;\n          border: 0;\n          margin-top: -0.1875rem;\n}\n#baseInfo .info li input[data-v-9c360530] {\n      width: 70%;\n      border: none;\n      outline: none;\n      line-height: 1.25rem;\n      float: right;\n      text-align: right;\n      font-size: 14px;\n      position: relative;\n      top: -0.125rem;\n}\n#baseInfo .info .tou[data-v-9c360530] {\n    line-height: 2.25rem;\n    padding-bottom: 0.625rem;\n}\n#baseInfo .info .list[data-v-9c360530] {\n    padding-left: 0.75rem;\n    background-color: #fff;\n}\n#baseInfo .info .list .tou2[data-v-9c360530] {\n      height: 2.75rem;\n      padding-right: 0.75rem;\n}\n#baseInfo .info .list .tou2 span[data-v-9c360530] {\n        line-height: 2.75rem;\n        float: left;\n        font-size: 15px;\n        color: #333;\n}\n#baseInfo .info .list .tou2 i[data-v-9c360530] {\n        line-height: 2.75rem;\n        float: right;\n        font-size: 1.5rem;\n        color: #c9c9c9;\n}\n#baseInfo .info textarea[data-v-9c360530] {\n    width: 100%;\n    height: 7.5rem;\n    border: solid 0.0625rem #e2e2e2;\n    background-color: #f9f9f9;\n    border-radius: 0.25rem;\n    line-height: 1.5rem;\n    padding: 0.625rem;\n    color: #8c8c8c;\n    margin-top: 0.75rem;\n}\n#baseInfo .info .btn[data-v-9c360530] {\n    margin: 1.25rem auto;\n    border-radius: 0.25rem;\n    width: 80%;\n    height: 2.875rem;\n    line-height: 2.875rem;\n    text-align: center;\n    background: #f15353;\n    font-size: 16px;\n    color: #fff;\n}\n#baseInfo .selectGoods[data-v-9c360530] {\n    overflow: hidden;\n}\n#baseInfo .selectGoods .selectedGood li[data-v-9c360530] {\n      float: left;\n      width: 2.5rem;\n      margin: 0.625rem;\n}\n#baseInfo .selectGoods .selectedGood li img[data-v-9c360530] {\n        width: 2.5rem;\n}\n#baseInfo .selectGoods .selectedGood[data-v-9c360530]:after {\n      content: "";\n      display: block;\n      clear: both;\n}\n#baseInfo .selectGoods .content[data-v-9c360530] {\n      font-size: 14px;\n      background: #fff;\n      text-align: center;\n}\n#baseInfo .selectGoods .content img[data-v-9c360530] {\n        width: 100%;\n}\n#baseInfo .selectGoods p[data-v-9c360530] {\n      padding: 0 0.9375rem;\n}\n#baseInfo .selectGoods .add[data-v-9c360530] {\n      width: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding: 1.25rem;\n}\n#baseInfo .selectGoods .add div[data-v-9c360530] {\n        width: 80%;\n        font-size: 16px;\n        color: #fff;\n        background-color: #f15353;\n        margin: 0 auto;\n        border-radius: 0.25rem;\n        height: 2.5rem;\n}\n#baseInfo .selectGoods .add div i[data-v-9c360530] {\n          font-size: 1.5rem;\n          display: inline-block;\n          top: 0.125rem;\n          position: relative;\n          z-index: 22;\n}\n#baseInfo .selectGoods .add div .font[data-v-9c360530] {\n          line-height: 2.5rem;\n}\n#baseInfo .selectGoods .btn[data-v-9c360530] {\n      margin: 1.25rem auto;\n      border-radius: 0.25rem;\n      width: 80%;\n      padding: 0.75rem;\n      text-align: center;\n      background: #f15353;\n      font-size: 20px;\n      color: #fff;\n}\n#baseInfo .selectGoods p[data-v-9c360530] {\n      margin-top: 0.9375rem;\n      line-height: 1.25rem;\n      text-align: left;\n      font-size: 12px;\n      /*padding: 15px;*/\n}\n.active22[data-v-9c360530] {\n  color: #fff !important;\n  background: #f15353 !important;\n}\n',""])}});