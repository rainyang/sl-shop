webpackJsonp([282],{asyL:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("bOdI"),a=t.n(i),r=t("Pexp"),o=t("Tg7E"),s={data:function(){return{toi:this.fun.getKeyByI(),title:"退款申请",reasontype:["不想要了","卖家缺货","拍错了,订单信息错误","其他"],refundtype:["退款（仅退款不退货）","退款退货","换货"],form:a()({type:1,reason:"",refund_type:"",content:"",order_id:"",refund_id:"",i:this.fun.getKeyByI()},"type",this.fun.getTyep()),refundTypes:[],reasons:[],money:0,show1:!1,show2:!1}},methods:{changetext:function(n){this.form.reason=n,this.show1=!1},changetype:function(n){this.form.refund_type=n,this.show2=!1},confirmRefund:function(){console.log(this.form);var n,e=this;n=1==this.$route.params.type?"refund.apply.store":"refund.edit.store",$http.post(n,this.form,"正在提交申请").then(function(n){1==n.result?(o.MessageBox.alert(n.msg,""),e.$router.go(-1)):o.MessageBox.alert(n.msg)},function(n){})},getRefundInfo:function(){var n=this;$http.get("refund.apply",{order_id:this.$route.params.order_id},"").then(function(e){if(1==e.result){var t=e.data;n.money=t.order.price,n.refundTypes=t.refundTypes,n.reasons=t.reasons}else o.MessageBox.alert(e.msg)},function(n){o.MessageBox.alert(n)})},getAlterInfo:function(){var n=this;$http.get("refund.edit",{refund_id:this.$route.params.order_id},"").then(function(e){if(1==e.result){var t=e.data;n.money=t.refundApply.price,n.refundTypes=t.refundTypes,n.reasons=t.reasons,n.form.content=t.refundApply.content,n.form.reason=t.refundApply.reason,n.form.refund_type=t.refundApply.refund_type_name,n.form.refund_type=t.refundApply.refund_type}else o.MessageBox.alert(e.msg)},function(n){o.MessageBox.alert(n)})}},created:function(){},activated:function(){this.money=0,this.toi=this.fun.getKeyByI(),this.form.order_id=this.$route.params.order_id,this.form.refund_id=this.$route.params.order_id,2==this.$route.params.type?(this.title="修改申请",this.getAlterInfo()):(this.title="退款申请",this.getRefundInfo())},components:{cTitle:r.a}},f={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"refund"}},[t("c-title",{attrs:{hide:!1,text:n.title}}),n._v(" "),t("div",{staticStyle:{height:"40px"}}),n._v(" "),t("div",{staticClass:"info"},[t("ul",{staticClass:"cause",staticStyle:{position:"relative"}},[t("li",[n._v("退款原因："),t("span",{staticStyle:{position:"absolute",left:"24%","z-index":"999"}},[n._v(n._s(n.form.reason))])]),n._v(" "),t("li",{staticClass:"select"},[t("yd-button",{nativeOn:{click:function(e){n.show1=!0}}},[n._v("请选择")]),n._v(" "),t("i",{staticClass:"fa fa-angle-right"})],1)]),n._v(" "),t("ul",{staticClass:"sum"},[t("li",[n._v("退款金额：")]),n._v(" "),t("li",{staticClass:"right"},[n._v(n._s(n.money)+"元")])])]),n._v(" "),t("div",{staticClass:"prompt"},[n._v("提示：您的退款最大金额为"+n._s(n.money)+"元")]),n._v(" "),t("div",{staticClass:"info"},[t("ul",{staticClass:"mode",staticStyle:{position:"relative"}},[t("li",[n._v("退款方式："),t("span",{staticStyle:{position:"absolute",left:"24%","z-index":"999"}},[n._v(n._s(n.refundtype[n.form.refund_type]))])]),n._v(" "),t("li",{staticClass:"select"},[t("yd-button",{nativeOn:{click:function(e){n.show2=!0}}},[n._v("请选择")]),n._v(" "),t("i",{staticClass:"fa fa-angle-right"})],1)])]),n._v(" "),t("div",{staticClass:"explain"},[t("span",[n._v("退款说明：")]),n._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.form.content,expression:"form.content"}],attrs:{type:"text",placeholder:"请输入退款说明",maxlength:"100"},domProps:{value:n.form.content},on:{input:function(e){e.target.composing||n.$set(n.form,"content",e.target.value)}}})]),n._v(" "),t("div",{staticStyle:{height:"1.25rem"}}),n._v(" "),t("mt-button",{attrs:{type:"primary",size:"large"},on:{click:n.confirmRefund}},[n._v("提交申请")]),n._v(" "),t("yd-popup",{attrs:{position:"bottom",height:"60%"},model:{value:n.show1,callback:function(e){n.show1=e},expression:"show1"}},[t("div",{staticClass:"return-cause"},[t("h1",[n._v("退款原因")]),n._v(" "),t("ul",n._l(n.reasontype,function(e,i,a){return t("li",{key:a,on:{click:function(t){return n.changetext(e)}}},[n._v(n._s(e))])}),0)])]),n._v(" "),t("yd-popup",{attrs:{position:"bottom",height:"60%"},model:{value:n.show2,callback:function(e){n.show2=e},expression:"show2"}},[t("div",{staticClass:"return-cause"},[t("h1",[n._v("处理方式")]),n._v(" "),t("ul",n._l(n.refundtype,function(e,i,a){return t("li",{key:a,on:{click:function(e){return n.changetype(i)}}},[n._v(n._s(e))])}),0)])])],1)},staticRenderFns:[]};var d=t("VU/8")(s,f,!1,function(n){t("yKWW")},"data-v-7cf676b2",null);e.default=d.exports},lbwl:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n#refund[data-v-7cf676b2] {\n  text-align: left;\n}\n#refund font[data-v-7cf676b2] {\n    display: block;\n    color: #8c8c8c;\n    line-height: 2rem;\n    padding: 0 0.625rem;\n    font-size: 14px;\n}\n#refund .my_wrapper[data-v-7cf676b2] {\n    background: #FFF;\n    overflow: hidden;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0.625rem 0.875rem;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n#refund .my_wrapper span[data-v-7cf676b2] {\n      width: 5.375rem;\n      -webkit-box-flex: 0;\n          -ms-flex: none;\n              flex: none;\n      font-size: 16px;\n      line-height: 1;\n}\n#refund .my_wrapper .my-value[data-v-7cf676b2] {\n      color: #f15353;\n      -webkit-box-flex: 2;\n          -ms-flex: 2;\n              flex: 2;\n      text-align: left;\n      font-size: 16px;\n}\n#refund .my_wrapper .my-value span[data-v-7cf676b2] {\n        color: red;\n}\n#refund .my_wrapper .mint-popup[data-v-7cf676b2] {\n      width: 100%;\n}\n#refund .el-select[data-v-7cf676b2] {\n    width: 100%;\n}\n#refund .info[data-v-7cf676b2] {\n    background-color: #fff;\n}\n#refund .info .cause[data-v-7cf676b2], #refund .info .mode[data-v-7cf676b2] {\n      line-height: 2.75rem;\n      margin-left: 0.875rem;\n      padding-right: 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      font-size: 14px;\n}\n#refund .info .cause i[data-v-7cf676b2], #refund .info .mode i[data-v-7cf676b2] {\n        font-size: 1.125rem;\n        color: #999;\n        margin-left: 0.5rem;\n}\n#refund .info .cause li[data-v-7cf676b2]:nth-child(2), #refund .info .mode li[data-v-7cf676b2]:nth-child(2) {\n        color: #8c8c8c;\n}\n#refund .info .cause input[data-v-7cf676b2], #refund .info .mode input[data-v-7cf676b2] {\n        text-align: right;\n        width: 90%;\n        border: none;\n}\n#refund .info .cause .select[data-v-7cf676b2], #refund .info .mode .select[data-v-7cf676b2] {\n        -webkit-box-flex: 2;\n            -ms-flex: 2;\n                flex: 2;\n        text-align: right;\n}\n#refund .info .cause button[data-v-7cf676b2], #refund .info .mode button[data-v-7cf676b2] {\n        width: 90%;\n        color: #999;\n        text-align: right;\n        padding: 0;\n        background-color: #fff;\n}\n#refund .info .sum[data-v-7cf676b2], #refund .info .explain[data-v-7cf676b2] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0 0.875rem;\n      line-height: 2.75rem;\n      font-size: 14px;\n}\n#refund .info .sum li[data-v-7cf676b2]:nth-child(2), #refund .info .explain li[data-v-7cf676b2]:nth-child(2) {\n        color: #f15353;\n}\n#refund .info .explain li[data-v-7cf676b2]:nth-child(2) {\n      -webkit-box-flex: 3;\n          -ms-flex: 3;\n              flex: 3;\n}\n#refund .info .explain input[data-v-7cf676b2] {\n      border: none;\n      width: 100%;\n      font-size: 14px;\n      color: #8c8c8c;\n}\n#refund .info .sum .right[data-v-7cf676b2], #refund .info .explain .right[data-v-7cf676b2] {\n      padding-left: 0.625rem;\n}\n#refund .explain[data-v-7cf676b2] {\n    background-color: #fff;\n    padding: 0 0.875rem 0.875rem 0.875rem;\n    font-size: 14px;\n}\n#refund .explain span[data-v-7cf676b2] {\n      line-height: 2.75rem;\n      text-align: left;\n}\n#refund .explain textarea[data-v-7cf676b2] {\n      border: none;\n      background-color: #fafafa;\n      width: 100%;\n      height: 4.5rem;\n      border-radius: 0.25rem;\n      padding: 0.375rem;\n      line-height: 1.25rem;\n      color: #8c8c8c;\n      font-size: 12px;\n}\n#refund .prompt[data-v-7cf676b2] {\n    line-height: 1.875rem;\n    padding: 0 0.875rem;\n    font-size: 12px;\n    color: #8c8c8c;\n}\n#refund .return-cause h1[data-v-7cf676b2] {\n    line-height: 2.8125rem;\n    text-align: center;\n    font-size: 14px;\n    border-bottom: solid 1px #e2e2e2;\n}\n#refund .return-cause ul[data-v-7cf676b2] {\n    padding: 0.625rem 0.875rem 0 0.875rem;\n}\n#refund .return-cause ul li[data-v-7cf676b2] {\n      line-height: 2.25rem;\n}\n",""])},yKWW:function(n,e,t){var i=t("lbwl");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("a08f9174",i,!0,{})}});