webpackJsonp([548],{YiWg:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n#home_page[data-v-1b82cbc6] {\n  padding-top: 40px;\n}\n#home_page #content .scroll_banner[data-v-1b82cbc6] {\n    background: #f8f8f8;\n    overflow: hidden;\n    height: 12.5rem;\n    position: relative;\n}\n#home_page #content .scroll_banner img[data-v-1b82cbc6] {\n      width: 100%;\n}\n#home_page #content .scroll_banner .evaluate[data-v-1b82cbc6] {\n      position: absolute;\n      bottom: 0.9375rem;\n      left: 0.9375rem;\n      width: 6.25rem;\n      height: 2.5rem;\n      border-radius: 0.25rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      padding: 0 0.9375rem;\n      background: -webkit-gradient(linear, left top, right top, from(rgba(51, 51, 51, 0.8)), to(rgba(51, 51, 51, 0.1)));\n      background: linear-gradient(to right, rgba(51, 51, 51, 0.8), rgba(51, 51, 51, 0.1));\n}\n#home_page #content .scroll_banner .evaluate h2[data-v-1b82cbc6] {\n        color: #f0793a;\n        font-size: 24px;\n        margin-right: 0.375rem;\n}\n#home_page #content .scroll_banner .evaluate span[data-v-1b82cbc6] {\n        color: #fff;\n        font-size: 13px;\n}\n#home_page #content .position[data-v-1b82cbc6] {\n    position: relative;\n    top: 0;\n}\n#home_page #content .position .name[data-v-1b82cbc6] {\n      width: 100%;\n      background: #fff;\n      border-radius: 0;\n      margin: 0 auto;\n      padding: 0.75rem 0.875rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n}\n#home_page #content .position .name h1[data-v-1b82cbc6] {\n        width: 16.25rem;\n        font-size: 18px;\n        text-align: left;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n}\n#home_page #content .position .name h1 span[data-v-1b82cbc6] {\n          font-weight: normal;\n          color: #8c8c8c;\n          font-size: 14px;\n          margin-left: 0.625rem;\n}\n#home_page #content .position .name .pay_btn[data-v-1b82cbc6] {\n        border: none;\n        background: #f0793a;\n        color: #fff;\n        font-size: 13px;\n        width: 4.75rem;\n        height: 1.625rem;\n        border-radius: 2.5rem;\n}\n#home_page #content .position .name .right h2[data-v-1b82cbc6] {\n        font-size: 22px;\n        color: #337ef9;\n}\n#home_page #content .position .name .right span[data-v-1b82cbc6] {\n        font-size: 14px;\n}\n#home_page #content .position .content_a[data-v-1b82cbc6] {\n      padding: 0 0.875rem;\n      background: #fff;\n      margin-top: 0.625rem;\n}\n#home_page #content .position .content_a .distance[data-v-1b82cbc6] {\n        padding: 0.625rem 0;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        position: relative;\n}\n#home_page #content .position .content_a .distance i[data-v-1b82cbc6] {\n          font-size: 1rem;\n          color: #666;\n          margin-right: 0.375rem;\n}\n#home_page #content .position .content_a .distance p[data-v-1b82cbc6] {\n          font-size: 14px;\n          text-align: left;\n          width: 16.875rem;\n}\n#home_page #content .position .content_a .distance p span[data-v-1b82cbc6] {\n            color: #8c8c8c;\n            margin-left: 0.625rem;\n            font-size: 12px;\n}\n#home_page #content .position .content_a .distance .right[data-v-1b82cbc6] {\n          position: absolute;\n          right: 0;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          font-size: 14px;\n          color: #60a9f3;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n}\n#home_page #content .position .content_a .distance .right .fa[data-v-1b82cbc6] {\n            font-size: 1rem;\n            color: #60a9f3;\n            margin-left: 0.375rem;\n}\n#home_page #content .position .content_a .phone[data-v-1b82cbc6] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        padding: 0.625rem 0;\n}\n#home_page #content .position .content_a .phone i[data-v-1b82cbc6] {\n          font-size: 1rem;\n          color: #666;\n          margin-right: 0.375rem;\n}\n#home_page #content .position .content_a .phone span[data-v-1b82cbc6] {\n          font-size: 16px;\n}\n#home_page #content .position .content_a .hotel_detail[data-v-1b82cbc6] {\n        height: 2.75rem;\n        line-height: 2.75rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        border-top: solid 0.0625rem #ebebeb;\n        font-size: 16px;\n}\n#home_page #content .position .content_a .hotel_detail .right[data-v-1b82cbc6] {\n          right: 0;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          font-size: 14px;\n          color: #60a9f3;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n}\n#home_page #content .position .content_a .hotel_detail .right .fa[data-v-1b82cbc6] {\n            font-size: 1rem;\n            color: #60a9f3;\n            margin-left: 0.375rem;\n}\n#home_page #content .position .content_b[data-v-1b82cbc6] {\n      background: #fff;\n      padding: 0.625rem 0;\n      margin-top: 0.625rem;\n}\n#home_page #content .position .content_b h1[data-v-1b82cbc6] {\n        padding: 0 0.875rem;\n        text-align: left;\n        font-size: 16px;\n        line-height: 2.5rem;\n}\n#home_page #content .position .content_b h1 span[data-v-1b82cbc6] {\n          color: #8c8c8c;\n          font-size: 14px;\n          margin-left: 0.625rem;\n          font-weight: normal;\n}\n#home_page #content .position .content_b .time[data-v-1b82cbc6] {\n        width: 21.5625rem;\n        height: 2.75rem;\n        margin: 0 auto;\n        border-radius: 0.25rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n}\n#home_page #content .position .content_b .time .time_a[data-v-1b82cbc6],\n        #home_page #content .position .content_b .time .time_c[data-v-1b82cbc6] {\n          font-size: 16px;\n          font-weight: bold;\n}\n#home_page #content .position .content_b .time .time_a span[data-v-1b82cbc6],\n          #home_page #content .position .content_b .time .time_c span[data-v-1b82cbc6] {\n            font-size: 12px;\n            margin-left: 0.375rem;\n            color: #8c8c8c;\n            font-weight: normal;\n}\n#home_page #content .position .content_b .time .time_b span[data-v-1b82cbc6] {\n          font-size: 13px;\n          border: solid 0.0625rem #ebebeb;\n          border-radius: 1rem;\n          padding: 0.125rem 0.625rem;\n}\n#home_page #content .position .content_b .type_box[data-v-1b82cbc6] {\n        padding: 0 0.875rem;\n}\n#home_page #content .position .content_b .type_box .room_box[data-v-1b82cbc6] {\n          border-bottom: solid 0.0625rem #ebebeb;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          padding: 0.875rem 0;\n}\n#home_page #content .position .content_b .type_box .room_box .img[data-v-1b82cbc6] {\n            width: 4rem;\n            height: 4rem;\n            border-radius: 0.25rem;\n            overflow: hidden;\n            margin-right: 0.625rem;\n            background: #f2f2f2;\n}\n#home_page #content .position .content_b .type_box .room_box .img img[data-v-1b82cbc6] {\n              width: 100%;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box[data-v-1b82cbc6] {\n            width: 17.0625rem;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            -webkit-box-pack: justify;\n                -ms-flex-pack: justify;\n                    justify-content: space-between;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_a[data-v-1b82cbc6] {\n              font-size: 15px;\n              font-weight: bold;\n              max-width: 150px;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_b[data-v-1b82cbc6] {\n              text-align: right;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_b .price[data-v-1b82cbc6] {\n                line-height: 2.125rem;\n                color: #8c8c8c;\n                font-size: 12px;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_b .price span[data-v-1b82cbc6] {\n                  font-weight: bold;\n                  color: #f15353;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_b .price font[data-v-1b82cbc6] {\n                  font-size: 20px;\n                  font-weight: bold;\n                  color: #f15353;\n}\n#home_page #content .position .content_b .type_box .room_box .info_box .info_b button[data-v-1b82cbc6] {\n                background: #f15353;\n                color: #fff;\n                font-size: 14px;\n                width: 4.25rem;\n                height: 1.625rem;\n                border-radius: 1rem;\n                border: none;\n}\n#home_page #content .position .content_b .type_box .room_box[data-v-1b82cbc6]:last-child {\n          border: 0px;\n}\n#home_page #content .position .type[data-v-1b82cbc6] {\n      background: #fff;\n      margin-top: 0.625rem;\n      height: 2.875rem;\n      line-height: 2.875rem;\n      padding: 0 0.875rem;\n      position: relative;\n}\n#home_page #content .position .type li[data-v-1b82cbc6] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n#home_page #content .position .type li .iconfont[data-v-1b82cbc6] {\n          margin-right: 0.625rem;\n          color: #666;\n          font-size: 1.25rem;\n}\n#home_page #content .position .type li span[data-v-1b82cbc6] {\n          font-size: 16px;\n}\n#home_page #content .position .type li .fa[data-v-1b82cbc6] {\n          position: absolute;\n          right: 0.875rem;\n          font-size: 1.5rem;\n          color: #c9c9c9;\n          line-height: 2.875rem;\n}\n#home_page #content .position .synopsis[data-v-1b82cbc6] {\n      background: #fff;\n      margin-top: 0.625rem;\n      padding: 0 0.875rem 0.625rem 0.875rem;\n}\n#home_page #content .position .synopsis h3[data-v-1b82cbc6] {\n        font-size: 16px;\n        height: 2.625rem;\n        line-height: 2.625rem;\n        text-align: left;\n}\n#home_page #content .position .synopsis .syn_bgcolor[data-v-1b82cbc6] {\n        background: #f5f5f5;\n        border-radius: 0.375rem;\n        padding: 0.625rem;\n}\n#home_page #content .position .synopsis .syn_bgcolor p[data-v-1b82cbc6] {\n          font-size: 14px;\n          color: #8c8c8c;\n          text-align: left;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 3;\n          overflow: hidden;\n          text-overflow: ellipsis;\n}\n#home_page #content .position .synopsis .syn_bgcolor .fa[data-v-1b82cbc6] {\n          font-size: 1.5rem;\n          color: #c9c9c9;\n          margin-top: 0.625rem;\n}\n#home_page #content .position .info_a[data-v-1b82cbc6] {\n      background: #fff;\n      margin-top: 0.625rem;\n      padding-bottom: 0.625rem;\n}\n#home_page #content .position .info_a h3[data-v-1b82cbc6] {\n        height: 2.625rem;\n        line-height: 2.625rem;\n        text-align: left;\n        padding: 0 0.875rem;\n        font-size: 16px;\n}\n#home_page #content .position .info_a h3 i[data-v-1b82cbc6] {\n          position: absolute;\n          right: 0.875rem;\n          font-size: 1.125rem;\n          color: #c9c9c9;\n          line-height: 2.625rem;\n}\n#home_page #content .position .info_a .time[data-v-1b82cbc6],\n      #home_page #content .position .info_a .notice[data-v-1b82cbc6] {\n        padding: 0 0.875rem;\n}\n#home_page #content .position .info_a .time .time_a[data-v-1b82cbc6],\n        #home_page #content .position .info_a .time .notice_a[data-v-1b82cbc6],\n        #home_page #content .position .info_a .notice .time_a[data-v-1b82cbc6],\n        #home_page #content .position .info_a .notice .notice_a[data-v-1b82cbc6] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          line-height: 1.875rem;\n          text-align: left;\n          font-size: 14px;\n          font-weight: bold;\n}\n#home_page #content .position .info_a .time .time_a i[data-v-1b82cbc6],\n          #home_page #content .position .info_a .time .notice_a i[data-v-1b82cbc6],\n          #home_page #content .position .info_a .notice .time_a i[data-v-1b82cbc6],\n          #home_page #content .position .info_a .notice .notice_a i[data-v-1b82cbc6] {\n            font-size: 1.5rem;\n            color: #333;\n            margin-right: 0.625rem;\n}\n#home_page #content .position .info_a .time .time_b[data-v-1b82cbc6],\n        #home_page #content .position .info_a .time .notice_b[data-v-1b82cbc6],\n        #home_page #content .position .info_a .notice .time_b[data-v-1b82cbc6],\n        #home_page #content .position .info_a .notice .notice_b[data-v-1b82cbc6] {\n          color: #8c8c8c;\n          font-size: 14px;\n          text-align: left;\n}\n#home_page #content .position .info_a .time .notice[data-v-1b82cbc6],\n        #home_page #content .position .info_a .notice .notice[data-v-1b82cbc6] {\n          margin-top: 0.625rem;\n}\n#home_page #content .position .service_info[data-v-1b82cbc6] {\n      background: #fff;\n      margin-top: 0.625rem;\n}\n#home_page #content .position .service_info h3[data-v-1b82cbc6] {\n        height: 2.625rem;\n        line-height: 2.625rem;\n        text-align: left;\n        padding: 0 0.875rem;\n        font-size: 16px;\n}\n#home_page #content .position .service_info h3 i[data-v-1b82cbc6] {\n          position: absolute;\n          right: 0.875rem;\n          font-size: 1.125rem;\n          color: #c9c9c9;\n          line-height: 2.625rem;\n}\n#home_page #content .position .service_info .box[data-v-1b82cbc6] {\n        padding-bottom: 0.625rem;\n}\n#home_page #content .position .service_info .service_a[data-v-1b82cbc6] {\n        padding: 0 0.875rem;\n        margin-bottom: 0.625rem;\n}\n#home_page #content .position .service_info .service_a .item[data-v-1b82cbc6] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          text-align: left;\n          line-height: 1.875rem;\n}\n#home_page #content .position .service_info .service_a .item i[data-v-1b82cbc6] {\n            font-size: 1.5rem;\n            color: #333;\n            margin-right: 0.625rem;\n}\n#home_page #content .position .service_info .service_a .item span[data-v-1b82cbc6] {\n            font-weight: bold;\n            font-size: 14px;\n}\n#home_page #content .position .service_info .service_a .item_info[data-v-1b82cbc6] {\n          text-align: left;\n          color: #8c8c8c;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex-wrap: wrap;\n              flex-wrap: wrap;\n}\n#home_page #content .position .service_info .service_a .item_info span[data-v-1b82cbc6] {\n            width: 33.3%;\n            line-height: 1.5rem;\n}\n#home_page #content .position .service_info .service_a .item_info span font[data-v-1b82cbc6] {\n              color: #259b24;\n}\n#home_page #content .position .y5[data-v-1b82cbc6] {\n      position: fixed;\n      z-index: 1000;\n      right: 0;\n      bottom: 3.75rem;\n      width: 2.25rem;\n      height: 2.25rem;\n      background: rgba(0, 0, 0, 0.8) url(//static-o2o.360buyimg.com/daojia/new/images/menu/bm.png) 0.4375rem 0.4375rem no-repeat;\n      background-size: 4.0625rem 1.25rem;\n      border: 0.0625rem solid #757575;\n      border-radius: 0.25rem 0 0 0.25rem;\n}\n#home_page #content .position .y6[data-v-1b82cbc6] {\n      position: absolute;\n      right: -0.0625rem;\n      bottom: 2.25rem;\n      width: 5.9375rem;\n      border: 0.0625rem solid #757575;\n      background: rgba(0, 0, 0, 0.8);\n}\n#home_page #content .position .y6 a[data-v-1b82cbc6] {\n      display: block;\n      border-bottom: 0.0625rem solid #4b4b4b;\n      line-height: 2.1875rem;\n      height: 2.1875rem;\n      color: #fff;\n      background-image: url(//static-o2o.360buyimg.com/daojia/new/images/icon/bmenu.png);\n      background-repeat: no-repeat;\n      background-size: 1rem 18.75rem;\n}\n#home_page #content .position .y8[data-v-1b82cbc6] {\n      background-position: 0.625rem -3.125rem;\n}\n#home_page #content .position .yb[data-v-1b82cbc6] {\n      background-position: 0.625rem -12.5rem;\n}\n#home_page #content .position .yc[data-v-1b82cbc6] {\n      background-position: 0.625rem -15.625rem;\n}\n",""])},t3dg:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("mvHQ"),i=e.n(o),a=e("Tg7E"),s=e("Pexp"),c=e("6RqZ"),r="plugin.hotel.frontend.hotel.goods.get-goods-to-page",p={mixins:[e("vsZy").a],data:function(){return{data_info:{},show1:!1,show2:!1,detail:"",star_num:"",location:{},phone:"",is_cashier:!1,PageNameList:{},room_arr:[],loading:!1,allLoaded:!1,goload:!0,isLoadMore:!0,page:1,total_page:0,start:"",end:"",night_day:"",banner_img:"",name:"",catagory_name:"",toolbar:!1}},activated:function(){1===this.$route.params.fromHome?(this.location=this.$store.state.o2oLocation,console.log("this.location",this.location),this.is_cashier=!1,this.fun.isTextEmpty(this.location.point)?this.getLocation():this.getHomePageData(this.location.point.lng,this.location.point.lat),this.toolbar=!1,this.getInitTime(),this.getDays(this.start,this.end),this.initData(),this.getData(),this.getCustomizeHotelHead(),this.start=this.$route.query.start,this.end=this.$route.query.end):window.location.href.indexOf("#/hotel/home_page/")>-1&&setTimeout(function(){window.scrollTo(0,window.homepageScrollTop)},200)},created:function(){1!==this.$route.params.fromHome&&(this.location=this.$store.state.o2oLocation,console.log("this.location",this.location),this.is_cashier=!1,this.fun.isTextEmpty(this.location.point)?this.getLocation():this.getHomePageData(this.location.point.lng,this.location.point.lat),this.toolbar=!1,this.getInitTime(),this.getDays(this.start,this.end),this.initData(),this.getData(),this.getCustomizeHotelHead(),this.start=this.$route.query.start,this.end=this.$route.query.end)},mounted:function(){window.homepageScrollTop=0},beforeRouteLeave:function(t,n,e){window.homepageScrollTop=document.documentElement.scrollTop||document.body.scrollTop,e()},methods:{getHomePageData:function(t,n){var e=this,o={hotel_id:this.$route.params.id,lng:t,lat:n,city_name:this.$route.query.city};$http.get("plugin.hotel.frontend.hotel.get-hotel-info.get-info-by-hotel-id",o,"加载中...").then(function(t){1==t.result&&(e.data_info=t.data,e.phone="tel:"+t.data.mobile,e.is_cashier=1==t.data.is_cashier,e.getStar(t.data.star_rated))}).catch(function(t){console.log(t)})},getCustomizeHotelHead:function(){var t=this,n=localStorage.getItem("customizeHotelHead");this.fun.isTextEmpty(n)?$http.get("plugin.hotel.frontend.hotel.get-hotel-info.get-custom-name",{},"加载中...").then(function(n){1==n.result&&(t.PageNameList=n.data,t.fun.setWXTitle(n.data.hotel_home_page),localStorage.setItem("customizeHotelHead",i()(n.data)))}).catch(function(t){console.log(t)}):(this.PageNameList=JSON.parse(localStorage.getItem("customizeHotelHead")),this.fun.setWXTitle(this.PageNameList.hotel_home_page))},getStar:function(t){switch(t){case 0:this.star_num="未评星";break;case 2:this.star_num="二星级经济型";break;case 3:this.star_num="三星级舒适性";break;case 4:this.star_num="四星级高档型";break;case 5:this.star_num="五星级豪华型"}},gotoCheckRoom:function(){this.$router.push(this.fun.getUrl("HotelChooseRoom",{id:this.data_info.id},{city:this.$route.query.city}))},goToAdress:function(t,n){var e=this.fun.bd_decrypt(t,n);this.fun.isWeiXin()?this.goToWXAdress(e,this.$route.query):window.location.href="https://m.amap.com/navi/?dest="+e.lng+","+e.lat+"&destName="+this.data_info.hotel_name+"&key=43de56d8e65fe042493541213d9ad7b0"},goToWXAdress:function(t,n){var e=this;$http.post("member.member.wxJsSdkConfig",{url:"android"===this.fun.isIosOrAndroid()?window.location.href:window.initUrl}," ").then(function(n){1===n.result&&(wx.config({debug:!1,appId:n.data.config.appId,nonceStr:n.data.config.nonceStr,timestamp:n.data.config.timestamp,url:n.data.config.url,signature:n.data.config.signature,jsApiList:["checkJsApi","openLocation","getLocation"]}),wx.checkJsApi({jsApiList:["getLocation"],success:function(t){0==t.checkResult.getLocation&&alert("你的微信版本太低，不支持微信JS接口，请升级到最新的微信版本！")}}),wx.ready(function(){wx.getLocation({type:"gcj02",success:function(n){wx.openLocation({latitude:t.lat,longitude:t.lng,name:e.data_info.hotel_name,address:"详细地址",scale:20})},cancel:function(t){alert("用户拒绝授权获取地理位置")}})}),wx.error(function(t){console.log(t)}))},function(t){console.log(t)})},getLocation:function(){var t=this;this.$store.state.o2oLocation;console.log("route.name",this.$route);var n=new AMap.Map("iCenter");function e(n){var e=n.position.toString().split(","),o={lat:e[1],lng:e[0]},i=(n.formattedAddress,n.formattedAddress,t.fun.isTextEmpty(n.addressComponent.city)?n.addressComponent.province:n.addressComponent.city),a={address:n.formattedAddress,city:i,title:n.formattedAddress,point:o};console.log("test pos",a),t.$store.commit("updateLocation",a),t.$store.commit("setLocation",a),t.getHomePageData(o.lng,o.lat)}function o(t){Object(a.Toast)("定位失败,请手动切换位置")}n.plugin("AMap.Geolocation",function(){var t=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!0,showCircle:!0,panToLocation:!0,zoomToAccuracy:!0});n.addControl(t),t.getCurrentPosition(),AMap.event.addListener(t,"complete",e),AMap.event.addListener(t,"error",o)})},gotoCashier:function(){this.$router.push(this.fun.getUrl("HotelCashierPay",{hotel_id:this.$route.params.id}))},getData:function(){var t=this,n={page:this.page,hotel_id:this.$route.params.id,enter_at:this.start,leave_at:this.end};$http.get(r,n,"加载中...").then(function(n){1==n.result?(t.room_arr=n.data.list.data,t.page=1,t.isLoadMore=!0,t.total_page=n.data.list.last_page,t.total_page||(t.total_page=0),t.fun.isTextEmpty(t.banner_img)&&(t.banner_img=n.data.hotel.banner_thumb),t.fun.isTextEmpty(t.name)&&(t.name=n.data.hotel.hotel_name),t.fun.isTextEmpty(t.catagory_name)&&(t.catagory_name=n.data.hotel.has_one_category.name)):(a.MessageBox.alert(n.msg),t.$router.go(-1))}).catch(function(t){console.log(t)})},initData:function(){this.page=1,this.total_page=0,this.goload=!0,this.loading=!0,this.allLoaded=!1,this.isLoadMore=!0,this.room_arr=[]},getMoreData:function(){this.isLoadMore=!1;var t=this;if(t.page!=t.total_page){t.page=t.page+1;var n={page:t.page,hotel_id:t.$route.params.id,enter_at:t.start,leave_at:t.end};$http.get(r,n,"加载中...").then(function(n){if(t.isLoadMore=!0,1!=n.result)return t.page=t.page-1,void(t.isLoadMore=!1);var e=n.data.list.data;t.room_arr=t.room_arr.concat(e)}).catch(function(t){console.log(t)})}},loadTop:function(){this.initData(),this.getData(),this.$refs.loadmore.onTopLoaded()},getTime:function(){var t=new Date,n=new Date(t.getTime()+864e5);this.start=t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):""+(t.getMonth()+1))+"-"+(t.getDate()<10?"0"+t.getDate():""+t.getDate()),this.end=n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):""+(n.getMonth()+1))+"-"+(n.getDate()<10?"0"+n.getDate():""+n.getDate())},acceptTime:function(t,n){"离店"==t?this.end=n:"入住"==t&&(this.start=n),this.checkDate(t)},checkDate:function(t){var n=new Date(this.start).getTime(),e=new Date(this.end).getTime();return this.fun.isTextEmpty(this.start)?(this.$notify({message:"请先选择入住日期",duration:1e3,background:"#1989fa"}),void(this.end="")):n==e?(this.$notify({message:"入住和离店日期不能为同一天",duration:1e3,background:"#1989fa"}),void(this.end="")):n>e?(this.$notify({message:"离店日期需要大于入店日期",duration:1e3,background:"#1989fa"}),void(this.end="")):void("离店"==t?(this.getDays(this.start,this.end),this.show2=!1,this.initData(),this.getData()):"入住"==t&&(this.getDays(this.start,this.end),this.show1=!1))},getDays:function(t,n){var e,o,i;e=t.split("-"),o=n.split("-");var a=new Date(e[0],e[1]-1,e[2]),s=new Date(o[0],o[1]-1,o[2]);i=parseInt(Math.abs(a-s)/1e3/60/60/24),console.log(i),this.night_day=i},gotoGoods:function(t){this.fun.isTextEmpty(this.start)?Object(a.Toast)("住店时间不能为空"):this.fun.isTextEmpty(this.end)?Object(a.Toast)("离店时间不能为空"):this.$router.push(this.fun.getUrl("goods",{id:t},{start:this.start,end:this.end}))},close:function(t){"离店"==t?this.show2=!1:"入住"==t&&(this.show1=!1)},showToolbar:function(){this.toolbar=!this.toolbar},getInitTime:function(){this.fun.isTextEmpty(this.$route.query.start)||this.fun.isTextEmpty(this.$route.query.end)?this.getTime():(this.start=this.$route.query.start,this.end=this.$route.query.end)}},components:{cTitle:s.a,datePicker:c.a}},l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"home_page"}},[e("c-title",{attrs:{hide:!1,text:t.PageNameList.hotel_home_page}}),t._v(" "),e("div",{attrs:{id:"content"}},[e("div",{staticClass:"scroll_banner"},[e("img",{attrs:{src:t.data_info.banner_thumb}}),t._v(" "),e("div",{staticClass:"evaluate"},[e("h2",[t._v(t._s(t.data_info.average_score))]),t._v(" "),e("span",[t._v("好评")])])]),t._v(" "),e("div",{staticClass:"position"},[e("div",{staticClass:"name"},[e("h1",{staticStyle:{"-webkit-box-orient":"vertical"}},[t._v("\n            "+t._s(t.data_info.hotel_name)),e("span",[t._v(t._s(t.star_num))])]),t._v(" "),t.is_cashier?e("button",{staticClass:"pay_btn",attrs:{type:"button"},on:{click:t.gotoCashier}},[t._v("\n            优惠买单\n          ")]):t._e()]),t._v(" "),e("ul",{staticClass:"content_a"},[e("li",{staticClass:"distance"},[e("i",{staticClass:"iconfont icon-service_n"}),t._v(" "),e("p",[t._v("\n              "+t._s(t.data_info.address)),e("span",[t._v("距离我"+t._s(t.data_info.distance)+t._s(t.data_info.unit))])]),t._v(" "),e("div",{staticClass:"right",on:{click:function(n){return t.goToAdress(t.data_info.longitude,t.data_info.latitude)}}},[e("span",[t._v("地图")]),t._v(" "),e("i",{staticClass:"fa fa-angle-right"})])]),t._v(" "),e("li",{staticClass:"phone"},[e("i",{staticClass:"iconfont icon-service_m"}),t._v(" "),e("a",{attrs:{href:t.phone}},[t._v(t._s(t.data_info.mobile))])]),t._v(" "),e("li",{staticClass:"hotel_detail"},[e("span",[t._v(t._s(t.PageNameList.hotels)+"详情")]),t._v(" "),e("div",{staticClass:"right",on:{click:t.gotoCheckRoom}},[e("span",[t._v("详情/设施")]),t._v(" "),e("i",{staticClass:"fa fa-angle-right"})])])]),t._v(" "),e("div",{staticClass:"content_b"},[e("ul",{staticClass:"time"},[e("li",{staticClass:"time_a",on:{click:function(n){t.show1=!0}}},[t._v("\n              "+t._s(t.fun.isTextEmpty(t.start)?"请选择入住日期":t.start)),e("span",[t._v("入住")])]),t._v(" "),t.fun.isTextEmpty(t.end)?t._e():e("li",{staticClass:"time_b"},[e("span",[t._v(t._s(t.night_day)+"晚")])]),t._v(" "),e("li",{staticClass:"time_c",on:{click:function(n){t.show2=!0}}},[t._v("\n              "+t._s(t.fun.isTextEmpty(t.end)?"请选择离店日期":t.end)),e("span",[t._v("离开")])])]),t._v(" "),t.goload?e("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,topDropText:"释放刷新",id:"olis"}},[e("div",{staticClass:"type_box"},t._l(t.room_arr,function(n,o){return e("div",{key:o,staticClass:"room_box"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:n.thumb}})]),t._v(" "),e("ul",{staticClass:"info_box"},[e("li",{staticClass:"info_a"},[t._v(t._s(n.title))]),t._v(" "),e("li",{staticClass:"info_b"},[e("p",{staticClass:"price"},[e("span",[t._v("¥")]),t._v(" "),e("font",[t._v(t._s(n.price))]),t._v("起\n                    ")],1),t._v(" "),e("button",{attrs:{type:"button"},on:{click:function(e){return t.gotoGoods(n.id)}}},[t._v("\n                      预定\n                    ")])])])])}),0)]):t._e()],1),t._v(" "),e("van-popup",{staticStyle:{position:"fixed",height:"80%"},attrs:{position:"bottom",overlay:!0},model:{value:t.show1,callback:function(n){t.show1=n},expression:"show1"}},[e("date-picker",{attrs:{type:"入住",top:!1},on:{timeChange:t.acceptTime,close:t.close}})],1),t._v(" "),e("van-popup",{staticStyle:{position:"fixed",height:"80%"},attrs:{position:"bottom",overlay:!0},model:{value:t.show2,callback:function(n){t.show2=n},expression:"show2"}},[e("date-picker",{attrs:{type:"离店",top:!1},on:{timeChange:t.acceptTime,close:t.close}})],1),t._v(" "),e("div",{staticClass:"y5",staticStyle:{bottom:"7.1875rem"},attrs:{bottommenus:""},on:{click:function(n){return n.stopPropagation(),t.showToolbar(n)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.toolbar,expression:"toolbar"}],staticClass:"y6",attrs:{bottomlinks:""}},[e("router-link",{staticClass:"y8",attrs:{to:t.fun.getUrl("home")}},[t._v("\n              首页\n            ")]),t._v(" "),e("router-link",{staticClass:"yb",attrs:{to:t.fun.getUrl("orderlist",{status:"0"})}},[t._v("\n              订单\n            ")]),t._v(" "),e("router-link",{staticClass:"yc",attrs:{to:t.fun.getUrl("member")}},[t._v("\n              我的\n            ")]),t._v(" "),e("i",{staticClass:"yd"})],1)])],1)])],1)},staticRenderFns:[]};var m=e("VU/8")(p,l,!1,function(t){e("vmeS")},"data-v-1b82cbc6",null);n.default=m.exports},vmeS:function(t,n,e){var o=e("YiWg");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("782894be",o,!0,{})}});