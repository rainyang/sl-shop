webpackJsonp([504],{QhVn:function(t,e,o){var n=o("VeUs");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("rjj0")("5ffbbb10",n,!0,{})},VeUs:function(t,e,o){var n=o("kxFB");(t.exports=o("FZ+f")(!1)).push([t.i,"\n#search .osll[data-v-2b52f5bd] {\n  min-height: 100vh;\n  /*background: #FFF;*/\n  margin-top: 3rem;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n#search .page-loadmore-wrapper2[data-v-2b52f5bd] {\n  height: 100vh;\n  overflow: hidden;\n}\n#search .uou[data-v-2b52f5bd] {\n  width: 100%;\n  position: fixed;\n  z-index: 99;\n  top: 0;\n  transition: 0.2s;\n  -webkit-transition: 0.2s;\n  width: 100%;\n}\n#search .mout[data-v-2b52f5bd] {\n  top: -2.25rem;\n}\n#search .el-input-group__append .el-button--default[data-v-2b52f5bd] {\n  padding-top: 2px;\n}\n.search[data-v-2b52f5bd] {\n  overflow: hidden;\n  background: #fff;\n  border-bottom: 0.0625rem solid #f5f5f5;\n  width: 100%;\n  /*.el-button.el-button--default {*/\n  /*float: left;*/\n  /*width: 10%;*/\n  /*border: none;*/\n  /*padding-top: 1rem;*/\n  /*}*/\n}\n.search .el-input-group__append[data-v-2b52f5bd] {\n    background-color: none;\n}\n.search .mint-button.mint-button--default[data-v-2b52f5bd] {\n    float: left;\n    width: 10%;\n    border: none;\n    padding-top: 0.4rem;\n    -webkit-box-shadow: none;\n            box-shadow: none;\n}\n.search .el-input.el-input-group.el-input-group--append[data-v-2b52f5bd] {\n    float: left;\n    width: 80%;\n    margin-left: 2%;\n    height: 2.8125rem;\n}\n.search .el-input-group__append .el-button.el-button--default[data-v-2b52f5bd] {\n    background: #f5f5f5;\n    padding-top: 0.5625rem;\n    line-height: 1rem;\n    padding-right: 1.8125rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n.search .el-input.el-input-group.el-input-group--append .el-input-group__append[data-v-2b52f5bd] {\n    background: #f5f5f5;\n}\n.search .el-col-1[data-v-2b52f5bd] {\n    margin: 0.75rem 0rem;\n    color: #666;\n    font-size: 16px;\n}\n.search .searchBox[data-v-2b52f5bd] {\n    position: relative;\n    font-size: 14px;\n    display: inline-table;\n    float: left;\n    width: 80%;\n    margin-left: 2%;\n    height: 2.8125rem;\n}\n.search .searchBox input[data-v-2b52f5bd] {\n      vertical-align: middle;\n      border: none;\n      background: #f2f2f2 none;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      outline: 0;\n      padding: 0.1875rem 0.625rem;\n      height: 1.875rem;\n      line-height: 1.875rem;\n      margin-top: 0.5rem;\n      color: #8c8c8c;\n      font-size: 14px;\n      width: 17.75rem;\n      border-radius: 0.9375rem;\n      z-index: 10;\n}\n.search .searchBox .img-icon[data-v-2b52f5bd] {\n      border: none;\n      color: #a9a9a9;\n      display: table-cell;\n      position: relative;\n      border-radius: 0;\n      height: 1.875rem;\n      top: 0.0625rem;\n      opacity: 2;\n      left: -2.25rem;\n}\n.search .searchBox .img-icon .img-icon-btn[data-v-2b52f5bd] {\n        position: absolute;\n        z-index: 12;\n        width: 1rem;\n        height: 1rem;\n        top: 50%;\n        left: 50%;\n        margin-left: -0.5rem;\n        margin-top: -0.5rem;\n        background: url("+n(o("NzrC"))+") no-repeat center center;\n        background-size: 80% 80%;\n}\n",""])},qEdb:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Gu7T"),a=o.n(n),i=o("Dd8w"),r=o.n(i),s=o("SJI6"),d=o("r3ZR"),l=o("VkqP"),c=1,h={data:function(){return{hidden:!0,title:"搜索",inputs:"",amout:!1,loading:!1,allLoaded:!0,topStatus:"",bottomStatus:"",wrapperHeight:0,datas:[]}},computed:r()({},Object(s.mapState)(["message","blurst","view"]),{zoneId:function(){return""==this.$store.state.zoneId&&this.$store.commit("setZoneId",window.localStorage.getItem("zoneId")),this.$store.state.zoneId}}),methods:r()({},Object(s.mapMutations)(["views"]),{enterSearch:function(t){13===t.keyCode&&(t.preventDefault(),this.search())},sortOut:function(t){0!=this.datas.length&&(console.log("得到的信息",t),c=1,this.datas=[],this.order_field=t.order_field,this.order_by=t.order_by,this.gotoSearch(c))},handleTopChange:function(t){this.topStatus=t},loadTop:function(){c=1,this.datas=[],this.gotoSearch(c),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){console.log("加载更多启动"),c++,this.gotoSearch(c),this.$refs.loadmore.onBottomLoaded()},slider:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.amout=!(e<80)}},goback:function(){this.hidden=!1,localStorage.setItem("isset",1),this.$router.go(-1)},search:function(){c=1,this.datas=[],this.gotoSearch(c)},gotoSearch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o={keywords:this.inputs,page:e,brand_id:this.$route.params.id,as_id:this.zoneId,order_field:this.order_field,order_by:this.order_by};$http.get("goods.goods.get-goods-brand-list",o).then(function(e){if(1==e.result){var o;if(t.loading=!1,t.allLoaded=!1,e.data.goods.data.length<=0)return t.loading=!0,void(t.allLoaded=!0);if(e.data.goods.current_page>e.data.goods.last_page)return t.loading=!0,void(t.allLoaded=!0);if((o=t.datas).push.apply(o,a()(e.data.goods.data)),e.data.goods.data.length<20)return t.loading=!0,void(t.allLoaded=!0)}else console.log("请求有问题,错误信息：",e.msg)})}}),activated:function(){this.hidden=!0,this.isset=localStorage.getItem("isset"),this.isset&&1!==this.$route.params.fromHome?this.wrapperHeight=window.scrollTo(0,0):1!==this.$route.params.fromHome?this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top:(this.wrapperHeight=window.scrollTo(0,0),c=1,this.datas=[],this.inputs="",this.gotoSearch(c))},created:function(){1!==this.$route.params.fromHome&&(this.hidden=!0,this.datas=[],this.inputs="",this.gotoSearch(1))},components:{cGoodsList:d.a,cSort:l.a}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"search",transition:"fadeInLeft"}},[o("div",{staticClass:"uou",class:{mout:t.amout},style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"},attrs:{id:"soso"}},[o("div",{staticClass:"search"},[o("mt-button",{staticStyle:{background:"#fff","box-shadow":"none"},attrs:{slot:"prepend",icon:"back"},on:{click:t.goback},slot:"prepend"}),t._v(" "),o("div",{staticClass:"searchBox"},[o("form",{attrs:{action:"#"},on:{submit:function(t){t.preventDefault()}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs,expression:"inputs"}],attrs:{type:"search",placeholder:"搜索当前品牌商品标题"},domProps:{value:t.inputs},on:{keypress:t.enterSearch,input:function(e){e.target.composing||(t.inputs=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"img-icon",on:{click:t.search}},[o("div",{staticClass:"img-icon-btn"})])]),t._v(" "),o("div",{staticStyle:{position:"absolute",right:"1rem",top:"1rem"}},[o("i",{directives:[{name:"show",rawName:"v-show",value:t.view,expression:"view"}],staticClass:"fa fa-th-large",on:{click:function(e){return t.$store.commit("views")}}}),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:!t.view,expression:"!view"}],staticClass:"fa fa-th-list",on:{click:function(e){return t.$store.commit("views")}}})])],1),t._v(" "),o("c-sort",{attrs:{goods:t.datas,text:"搜索结果"},on:{sortIn:t.sortOut}})],1),t._v(" "),o("div",{staticStyle:{height:"2.5rem",display:"block"}}),t._v(" "),t.hidden?o("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[o("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,topPullText:"",topDropText:"释放刷新",topLoadingText:"",bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:""},on:{"top-status-change2":t.handleTopChange}},[o("c-goodsList",{staticClass:"osll",attrs:{goods:t.datas,text:"搜索结果",loading:t.loading}})],1)],1):t._e()])},staticRenderFns:[]};var u=o("VU/8")(h,p,!1,function(t){o("QhVn")},"data-v-2b52f5bd",null);e.default=u.exports}});