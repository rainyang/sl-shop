webpackJsonp([560],{"2iXr":function(e,t,i){var r=i("tJWq");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("rjj0")("7bb00ce2",r,!0,{})},Rpum:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("mvHQ"),o=i.n(r),s=i("Pexp"),a=(i("Tg7E"),i("dzCT")),l=(i("vsZy"),document.documentElement),n=document.body,d={data:function(){return{selected:0,last_status:0,dataList:{orderList:[],waitPayList:[],waitSendList:[],waitReceiveList:[],waitCompleteList:[],waitRefund:[],alreadyComplete:[]},action:"",order_ids:[],checkList:[],isMultiplePay:!1,detailUrl:"orderdetail",orderType:"shop",NavList:[],overSelected:[],page0:1,total_page0:0,isLoadMore0:!0,page1:1,total_page1:0,isLoadMore1:!0,page2:1,total_page2:0,isLoadMore2:!0,page3:1,total_page3:0,isLoadMore3:!0,page4:1,total_page4:0,isLoadMore4:!0,page5:1,total_page5:0,isLoadMore5:!0,page6:1,total_page6:0,isLoadMore6:!0}},methods:{swichTabTItem:function(){window.scrollTo(0,0),this.getOrderList(this.selected)},initData:function(){this.overSelected=[],this.page0=1,this.total_page0=0,this.isLoadMore0=!0,this.page1=1,this.total_page1=0,this.isLoadMore1=!0,this.page2=1,this.total_page2=0,this.isLoadMore3=!0,this.page3=1,this.total_page3=0,this.isLoadMore3=!0,this.page4=1,this.total_page4=0,this.isLoadMore4=!0,this.page5=1,this.total_page5=0,this.isLoadMore5=!0,this.page6=1,this.total_page6=0,this.isLoadMore6=!0,this.dataList={orderList:[],waitPayList:[],waitSendList:[],waitReceiveList:[],waitCompleteList:[],waitRefund:[],alreadyComplete:[]}},loadTop:function(){this.initData(),this.getOrderList(this.selected),this.$refs.loadmore.onTopLoaded()},getOrderList:function(e,t){this.$route.params.orderType&&"cashier"==this.$route.params.orderType?(this.orderType="cashier",this.detailUrl="cashierOrderdetail"):this.$route.params.orderType&&"store"==this.$route.params.orderType?(this.orderType="store",this.detailUrl="storeOrderdetail"):this.$route.params.orderType&&"hotel"==this.$route.params.orderType?(this.orderType="hotel",this.detailUrl="HotelOrderDetail"):this.$route.params.orderType&&"onlineCar"==this.$route.params.orderType?(this.orderType="onlineCar",this.detailUrl="netCarDetail"):this.$route.params.orderType&&"hotel_center"==this.$route.params.orderType?(this.orderType="hotel_center",this.detailUrl="HotelCenterOrderDetail"):this.$route.params.orderType&&"hotelcashier"==this.$route.params.orderType?(this.orderType="hotelcashier",this.detailUrl="HotelCashierOrderDetail"):this.$route.params.orderType&&"DeliveryS"==this.$route.params.orderType?(this.orderType="DeliveryS",this.detailUrl="deliveryStationOrderDetail"):this.$route.params.orderType&&"DeliveryReplenish"==this.$route.params.orderType?(this.orderType="DeliveryReplenish",this.detailUrl="DeliveryReplenishDetail"):this.$route.params.orderType&&"serviceReplenish"==this.$route.params.orderType?(this.orderType="serviceReplenish",this.detailUrl="serviceReplenishDetail"):this.$route.params.orderType&&"groups"==this.$route.params.orderType?(this.orderType="groups",this.detailUrl="groupDetail"):this.$route.params.orderType&&"lease_toy"==this.$route.params.orderType&&(this.orderType="lease_toy",this.detailUrl="LeaseToyOrderDetail"),console.log(this.orderType,"判断是否成功"),console.log("list:::",this.orderType),0==e?(this.action="order.list","cashier"==this.orderType?this.action="plugin.store-cashier.frontend.Order.list":"store"==this.orderType?this.action="plugin.store-cashier.frontend.store.center.order-list.index":"supplier"==this.orderType?this.action="plugin.supplier.frontend.order.index":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list":"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list":"hotelcashier"==this.orderType?this.action="plugin.hotel.frontend.Order.list":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.index":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.index":"DeliveryS"==this.orderType?this.action="plugin.delivery-station.frontend.order.list.index":"DeliveryReplenish"==this.orderType?this.action="plugin.delivery-station.frontend.purchase.order-list.index":"serviceReplenish"==this.orderType?this.action="plugin.service-station.frontend.order-list.index":"groups"==this.orderType&&(this.action="plugin.fight-groups.frontend.controllers.list.grouping")):1==e?(this.action="order.list.waitPay","cashier"==this.orderType?this.action="plugin.store-cashier.frontend.Order.list.waitPay":"store"==this.orderType?this.action="plugin.store-cashier.frontend.store.center.order-list.waitPay":"supplier"==this.orderType?this.action="plugin.supplier.frontend.order.wait-pay":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list.wait-pay":"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list.wait-pay":"hotelcashier"==this.orderType?this.action="plugin.hotel.frontend.Order.list.waitPay":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.wait-pay":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.wait-pay":"DeliveryS"==this.orderType?this.action="plugin.delivery-station.frontend.order.list.wait-pay":"DeliveryReplenish"==this.orderType?this.action="plugin.delivery-station.frontend.purchase.order-list.wait-pay":"serviceReplenish"==this.orderType?this.action="plugin.service-station.frontend.order-list.wait-pay":"groups"==this.orderType&&(this.action="plugin.fight-groups.frontend.controllers.list.waitPay")):2==e?(this.action="order.list.waitSend","cashier"==this.orderType?this.action="plugin.store-cashier.frontend.Order.list.Completed":"store"==this.orderType?this.action="plugin.store-cashier.frontend.store.center.order-list.waitSend":"supplier"==this.orderType?this.action="plugin.supplier.frontend.order.wait-send":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list.wait-send":"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list.wait-send":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.loan-review":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.wait-send":"DeliveryS"==this.orderType?this.action="plugin.delivery-station.frontend.order.list.wait-order":"DeliveryReplenish"==this.orderType?this.action="plugin.delivery-station.frontend.purchase.order-list.wait-send":"serviceReplenish"==this.orderType?this.action="plugin.service-station.frontend.order-list.wait-send":"groups"==this.orderType&&(this.action="plugin.fight-groups.frontend.controllers.list.waitSend")):3==e?(this.action="order.list.waitReceive","store"==this.orderType?this.action="plugin.store-cashier.frontend.store.center.order-list.waitReceive":"supplier"==this.orderType?this.action="plugin.supplier.frontend.order.wait-receive":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list.wait-enter":"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list.wait-enter":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.loan":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.wait-receive":"DeliveryS"==this.orderType?this.action="plugin.delivery-station.frontend.order.list.wait-send":"DeliveryReplenish"==this.orderType?this.action="plugin.delivery-station.frontend.purchase.order-list.wait-receive":"serviceReplenish"==this.orderType?this.action="plugin.service-station.frontend.order-list.wait-receive":"groups"==this.orderType&&(this.action="plugin.fight-groups.frontend.controllers.list.waitReceive")):4==e?(this.action="order.list.Completed","cashier"==this.orderType?this.action="plugin.store-cashier.frontend.Order.list.Completed":"store"==this.orderType?this.action="plugin.store-cashier.frontend.store.center.order-list.Completed":"supplier"==this.orderType?this.action="plugin.supplier.frontend.order.completed":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list.completed":"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list.completed":"hotelcashier"==this.orderType?this.action="plugin.hotel.frontend.Order.list.Completed":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.pick-car":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.wait-refund":"DeliveryS"==this.orderType?this.action="plugin.delivery-station.frontend.order.list.wait-receive":"DeliveryReplenish"==this.orderType?this.action="plugin.delivery-station.frontend.purchase.order-list.completed":"serviceReplenish"==this.orderType?this.action="plugin.service-station.frontend.order-list.completed":"groups"==this.orderType&&(this.action="plugin.fight-groups.frontend.controllers.list.completed")):5==e?"hotel_center"==this.orderType?this.action="plugin.hotel.frontend.hotel.center.order-list.check-out":"hotel"==this.orderType?this.action="plugin.hotel.frontend.hotel.list.check-out":"onlineCar"==this.orderType?this.action="plugin.net-car.frontend.order-list.license-number":"lease_toy"==this.orderType?this.action="plugin.lease-toy.api.order.order-list.completed":"DeliveryS"==this.orderType&&(this.action="plugin.delivery-station.frontend.order.list.completed"):this.action="plugin.net-car.frontend.order-list.completed",this.overSelected.indexOf(this.selected)<0&&(this.overSelected.push(this.selected),this.getNetData(this.action,e)),"refresh"===t&&this.getNetData(this.action,e)},toDetail:function(e){this.$router.push(this.fun.getUrl("orderdetail",{order_id:e.id,isDetail:!0,orderType:"supplier"}))},cofirmOrderAction:function(e){0==this.selected?this.getOrderList(this.selected,"refresh"):"pay"==e?this.getOrderList(this.selected,"refresh"):this.dataList.waitReceiveList.splice(this.dataList.waitReceiveList.indexOf(e),1)},toMultiplePay:function(){this.$router.push(this.fun.getUrl("orderpay",{status:2,order_ids:encodeURI(this.order_ids)})),this.$refs.mychild.setCheckList(),this.isMultiplePay=!1},multiplePayAction:function(e){this.order_ids=e,e.length>0?this.isMultiplePay=!0:this.isMultiplePay=!1},getNetData:function(e,t){var i=this;"supplier"==this.orderType?$http.post(e,{page:1},"正在获取订单").then(function(e){if(1===e.result){i["isLoadMore"+t]=!0;var r=e.data;i["total_page"+t]=e.data.last_page,i["total_page"+t]||(i["total_page"+t]=0),i.selectIndexData(t,r.data)}else if(e.data.url)return i.$notify(e.msg),window.location.href=e.data.url,0},function(e){}):"hotel"==this.orderType||"hotel_center"==this.orderType?$http.get(e,{page:1},"正在获取订单").then(function(e){if(1===e.result){i["isLoadMore"+t]=!0;var r=e.data;i["total_page"+t]=e.data.last_page,i["total_page"+t]||(i["total_page"+t]=0),i.selectIndexData(t,r.data)}}).catch(function(e){console.log(e)}):$http.get(e,{page:1},"正在获取订单").then(function(e){if(1===e.result){i["isLoadMore"+t]=!0;var r=e.data;i["total_page"+t]=e.data.last_page,i["total_page"+t]||(i["total_page"+t]=0),i.selectIndexData(t,r.data)}},function(e){})},selectIndexData:function(e,t){0==e?this.dataList.orderList=t:1==e?this.dataList.waitPayList=t:2==e?this.dataList.waitSendList=t:3==e?this.dataList.waitReceiveList=t:4==e?this.dataList.waitCompleteList=t:5==e?this.dataList.waitRefund=t:6==e?this.dataList.alreadyComplete=t:console.log("error: selectIndexData()")},getMoreData:function(){var e=this;e["isLoadMore"+e.selected]=!1,e["page"+e.selected]>=e["total_page"+e.selected]||(e["page"+e.selected]=e["page"+e.selected]+1,$http.get(this.action,{page:e["page"+e.selected]},"正在获取更多订单").then(function(t){if(e["isLoadMore"+e.selected]=!0,1!=t.result)return e["page"+e.selected]=e["page"+e.selected]-1,void(e["isLoadMore"+e.selected]=!1);var i=t.data;0==e.selected?e.dataList.orderList=e.dataList.orderList.concat(i.data):1==e.selected?e.dataList.waitPayList=e.dataList.waitPayList.concat(i.data):2==e.selected?e.dataList.waitSendList=e.dataList.waitSendList.concat(i.data):3==e.selected?e.dataList.waitReceiveList=e.dataList.waitReceiveList.concat(i.data):4==e.selected?e.dataList.waitCompleteList=e.dataList.waitCompleteList.concat(i.data):5==e.selected?e.dataList.waitRefund=e.dataList.waitRefund.concat(i.data):6==e.selected?e.dataList.alreadyComplete=e.dataList.alreadyComplete.concat(i.data):console.log("数组拼接报错")},function(e){console.log(e.msg)}))},getCustomizeHotelHead:function(){var e=this;if("hotel"==this.$route.params.orderType){console.log("这是酒店的订单");var t=localStorage.getItem("customizeHotelHead");if(this.fun.isTextEmpty(t))$http.get("plugin.hotel.frontend.hotel.get-hotel-info.get-custom-name",{},"加载中...").then(function(t){1==t.result&&(e.fun.setWXTitle(t.data.hotels+"订单"),localStorage.setItem("customizeHotelHead",o()(t.data)))}).catch(function(e){console.log(e)});else{var i=JSON.parse(localStorage.getItem("customizeHotelHead"));this.fun.setWXTitle(i.hotels+"订单")}}},getScrollTop:function(){var e=0;return l&&l.scrollTop?e=l.scrollTop:n&&(e=n.scrollTop),e},getClientHeight:function(){return n.clientHeight&&l.clientHeight?Math.min(n.clientHeight,l.clientHeight):Math.max(n.clientHeight,l.clientHeight)},getScrollHeight:function(){return Math.max(n.scrollHeight,l.scrollHeight)},handleScroll:function(){this.getScrollTop()+this.getClientHeight()+5>this.getScrollHeight()&&(this["isLoadMore"+this.selected]?this.getMoreData():console.log("没有更多数据"))}},computed:{setNavList:function(){return"cashier"==this.orderType?this.NavList=["全部","待付款","已完成"]:"hotel"==this.orderType?this.NavList=["全部","待付款","待确认","待入住","已完成","待退房"]:"onlineCar"==this.orderType?this.NavList=["全部","待支付","待审核","贷款中","待提车","待审牌","已完成"]:"lease_toy"==this.orderType?this.NavList=["全部","待支付","待发货","待收货","待归还","已完成"]:"DeliveryS"==this.orderType?this.NavList=["全部","待支付","待接单","待发货","待收货","已完成"]:"DeliveryReplenish"==this.orderType?this.NavList=["全部","待支付","待发货","待收货","已完成"]:"serviceReplenish"==this.orderType?this.NavList=["全部","待支付","待发货","待收货","已完成"]:"groups"==this.orderType?this.NavList=["拼团中","待付款","待发货","待收货","已完成"]:this.NavList=["全部","待付款","待发货","待收货","已完成"],this.NavList}},created:function(){this.last_status=this.selected},mounted:function(){},updated:function(){},deactivated:function(){window.removeEventListener("scroll",this.handleScroll)},activated:function(){this.getCustomizeHotelHead(),window.addEventListener("scroll",this.handleScroll),console.log("ccccc::",this.$route.params),this.$route.params.orderType&&"cashier"==this.$route.params.orderType?(this.orderType="cashier",this.detailUrl="cashierOrderdetail"):this.$route.params.orderType&&"store"==this.$route.params.orderType?(this.orderType="store",this.detailUrl="storeOrderdetail"):this.$route.params.orderType&&"supplier"==this.$route.params.orderType?(this.orderType="supplier",this.detailUrl="supplierOrderdetail"):this.$route.params.orderType&&"hotel"==this.$route.params.orderType?(this.orderType="hotel",this.detailUrl="HotelOrderDetail"):this.$route.params.orderType&&"hotel_center"==this.$route.params.orderType?(this.orderType="hotel_center",this.detailUrl="HotelCenterOrderDetail"):this.$route.params.orderType&&"onlineCar"==this.$route.params.orderType?(this.orderType="onlineCar",this.detailUrl="netCarDetail"):this.$route.params.orderType&&"DeliveryS"==this.$route.params.orderType?(this.orderType="DeliveryS",this.detailUrl="deliveryStationOrderDetail"):this.$route.params.orderType&&"hotelcashier"==this.$route.params.orderType?(this.orderType="hotelcashier",this.detailUrl="HotelCashierOrderDetail"):this.$route.params.orderType&&"DeliveryReplenish"==this.$route.params.orderType?(this.orderType="DeliveryReplenish",this.detailUrl="DeliveryReplenishDetail"):this.$route.params.orderType&&"serviceReplenish"==this.$route.params.orderType?(this.orderType="serviceReplenish",this.detailUrl="serviceReplenishDetail"):this.$route.params.orderType&&"groups"==this.$route.params.orderType?(this.orderType="groups",this.detailUrl="groupDetail"):(this.orderType="shop",this.detailUrl="orderdetail"),this.initData(),window.scrollTo(0,0),this.selected=this.$route.params.status,this.getOrderList(this.selected)},components:{cTitle:s.a,cOrderList:a.a}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"payment"}},[i("c-title",{attrs:{hide:!1,text:"我的订单"}}),e._v(" "),i("div",{staticStyle:{height:"40px"}}),e._v(" "),i("div",{staticStyle:{height:"2.75rem"}}),e._v(" "),i("mt-navbar",{staticStyle:{"z-index":"98",height:"2.75rem","line-height":"2.75rem"},attrs:{fixed:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.setNavList,function(t,r){return i("mt-tab-item",{key:r,attrs:{id:r.toString()},nativeOn:{click:function(t){return e.swichTabTItem()}}},[e._v(e._s(t))])}),1),e._v(" "),i("mt-loadmore",{ref:"loadmore",attrs:{"top-method":e.loadTop,topDropText:"释放刷新",id:"olis"}},[i("mt-tab-container",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.dataList,function(t,r,o){return i("mt-tab-container-item",{key:o,attrs:{id:o.toString()}},[i("cOrderList",{ref:"mychild",refInFor:!0,staticClass:"osll",attrs:{datasource:t,orderType:e.orderType,detailUrl:e.detailUrl,status:o.toString()},on:{ConfrimOrderNotification:e.cofirmOrderAction,ToDetailNotification:e.toDetail,MultiplePayNotification:e.multiplePayAction}})],1)}),1)],1),e._v(" "),e.isMultiplePay?i("div",{staticClass:"contes"},[i("button",{on:{click:e.toMultiplePay}},[e._v("合并支付")])]):e._e()],1)},staticRenderFns:[]};var p=i("VU/8")(d,h,!1,function(e){i("2iXr")},"data-v-17ecc095",null);t.default=p.exports},tJWq:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n.osll[data-v-17ecc095] {\n  min-height: 100vh;\n}\n.contes[data-v-17ecc095] {\n  z-index: 98;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: 2.8125rem;\n  background: #fff;\n  line-height: 2.8125rem;\n  border-top: #e2e2e2 solid 0.0625rem;\n  text-align: right;\n}\n.contes button[data-v-17ecc095] {\n    border: solid 0.0625rem #f15353;\n    background: #f15353;\n    border-radius: 0.1875rem;\n    margin-right: 0.875rem;\n    color: #fff;\n    padding: 0.25rem 0.625rem;\n}\n.loadNomore img[data-v-17ecc095] {\n  width: 20%;\n}\n#payment .mint-navbar.is-fixed[data-v-17ecc095] {\n  top: 40px;\n}\n",""])}});