webpackJsonp([478],{"1ZLf":function(n,t,e){var a=e("Agi2");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("1e667f0a",a,!0,{})},"5k3Q":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("Tg7E");var a=e("Pexp"),i={mixins:[e("vsZy").a],data:function(){return{signNumber:"0",signInfo:[],page:1,isLoadMore:!0,total_page:0}},activated:function(){this.getSignData()},mounted:function(){},methods:{getSignData:function(){var n=this,t={port_type:this.$route.params.id,page:1};$http.get("plugin.net-car.frontend.car.index",t,"加载中...").then(function(t){1==t.result&&(n.isLoadMore=!0,n.total_page=t.data.last_page,n.total_page||(n.total_page=0),n.signInfo=t.data.data,n.signNumber=t.data.total)}).catch(function(n){console.log(n)})},goToAdress:function(n){var t=this,e=this;$http.get("plugin.net-car.frontend.car.get-car-position",{number_plate:n},"加载中...").then(function(n){if(1==n.result){var a=e.fun.bd_decrypt(n.data.jd,n.data.wd);console.log("网约车转化地图坐标",a),t.fun.isWeiXin()?t.goToWXAdress(a):window.location.href="https://m.amap.com/navi/?dest="+a.lng+","+a.lat+"&destName=车辆当前位置&hideRouteIcon=1&key=43de56d8e65fe042493541213d9ad7b0"}}).catch(function(n){console.log(n)})},goToWXAdress:function(n){$http.post("member.member.wxJsSdkConfig",{url:"android"===this.fun.isIosOrAndroid()?window.location.href:window.initUrl}," ").then(function(t){1===t.result&&(wx.config({debug:!1,appId:t.data.config.appId,nonceStr:t.data.config.nonceStr,timestamp:t.data.config.timestamp,url:t.data.config.url,signature:t.data.config.signature,jsApiList:["checkJsApi","openLocation","getLocation"]}),wx.checkJsApi({jsApiList:["getLocation"],success:function(n){0==n.checkResult.getLocation&&alert("你的微信版本太低，不支持微信JS接口，请升级到最新的微信版本！")}}),wx.ready(function(){wx.getLocation({type:"gcj02",success:function(t){wx.openLocation({latitude:n.lng,longitude:n.lat,name:"车辆当前位置",address:"详细地址",scale:20})},cancel:function(n){alert("用户拒绝授权获取地理位置")}})}),wx.error(function(n){console.log(n)}))},function(n){console.log(n)})},getMoreData:function(){this.isLoadMore=!1;var n=this;n.page>=n.total_page||(n.page+=1,$http.get("plugin.net-car.frontend.car.index",{port_type:n.$route.params.id,page:n.page},"加载中...").then(function(t){if(n.isLoadMore=!0,1!=t.result)return n.page=n.page-1,void(n.isLoadMore=!1);var e=t.data.data;n.signInfo=n.signInfo.concat(e),n.signNumber=t.data.total}).catch(function(n){console.log(n)}))},loadTop:function(){this.initPageData(),this.getSignData(),this.$refs.loadmore.onTopLoaded()},initPageData:function(){this.signInfo=[],this.isLoadMore=!0,this.total_page=0,this.page=1}},components:{cTitle:a.a}},o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"car_sign"}},[e("c-title",{attrs:{hide:!1,text:"签约汽车(合计："+n.signNumber+"人)"}}),n._v(" "),e("div",{attrs:{id:"content"}},[e("mt-loadmore",{ref:"loadmore",attrs:{"top-method":n.loadTop,topDropText:"释放刷新"}},[e("div",{staticClass:"con"},n._l(n.signInfo,function(t,a){return e("div",{key:a,staticClass:"list_box"},[e("div",{staticClass:"sign_user"},[e("p",{staticClass:"car_number"},[n._v("车牌号："+n._s(t.number_plate))]),n._v(" "),e("div",{staticClass:"user_car"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.godos_thumb}})]),n._v(" "),e("ul",{staticClass:"car_name"},[e("li",[n._v(n._s(t.godos_title))]),n._v(" "),e("li",[n._v(n._s(t.godos_brand_name))])]),n._v(" "),e("i",{staticClass:"iconfont icon-onlineCar_h",on:{click:function(e){return n.goToAdress(t.number_plate)}}})])]),n._v(" "),n._l(t.car_has_many_driver,function(t,a){return e("div",{key:a,staticClass:"user_info_list"},[e("div",{staticClass:"user_info"},[e("div",{staticClass:"user_img"},[e("img",{attrs:{src:t.has_one_member.avatar_image}})]),n._v(" "),e("ul",{staticClass:"user_name"},[e("li",[e("span",[n._v(n._s(t.has_one_member.username))]),n._v(" "),e("span",[n._v("ID："+n._s(t.has_one_member.uid))])])])])])})],2)}),0)]),n._v(" "),e("router-link",{staticClass:"bottom_btn",attrs:{to:this.fun.getUrl("home"),tag:"div"}},[e("button",{attrs:{type:"button"}},[n._v("继续签约")])])],1)],1)},staticRenderFns:[]};var s=e("VU/8")(i,o,!1,function(n){e("1ZLf")},"data-v-3470855a",null);t.default=s.exports},Agi2:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n#car_sign[data-v-3470855a] {\n  padding-top: 40px;\n  padding-bottom: 60px;\n}\n#car_sign #content .con[data-v-3470855a] {\n    min-height: 100vh;\n}\n#car_sign #content .con .list_box[data-v-3470855a] {\n      background: #fff;\n      margin-bottom: 0.625rem;\n}\n#car_sign #content .con .list_box .sign_user[data-v-3470855a] {\n        padding: 0.625rem 0;\n}\n#car_sign #content .con .list_box .sign_user .car_number[data-v-3470855a] {\n          padding: 0 0.875rem;\n          line-height: 2.25rem;\n          text-align: left;\n          font-size: 16px;\n          background: #fafafa;\n}\n#car_sign #content .con .list_box .sign_user .user_car[data-v-3470855a] {\n          padding: 0 0.875rem;\n          margin-top: 0.625rem;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          position: relative;\n}\n#car_sign #content .con .list_box .sign_user .user_car .img[data-v-3470855a] {\n            width: 3rem;\n            height: 3rem;\n            overflow: hidden;\n            background: #f2f2f2;\n}\n#car_sign #content .con .list_box .sign_user .user_car .img img[data-v-3470855a] {\n              width: 100%;\n}\n#car_sign #content .con .list_box .sign_user .user_car .car_name[data-v-3470855a] {\n            margin-left: 0.625rem;\n}\n#car_sign #content .con .list_box .sign_user .user_car .car_name li[data-v-3470855a]:first-child {\n              font-size: 15px;\n              line-height: 1.5rem;\n              text-align: left;\n              max-width: 15rem;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n}\n#car_sign #content .con .list_box .sign_user .user_car .car_name li[data-v-3470855a]:last-child {\n              font-size: 14px;\n              color: #8c8c8c;\n              line-height: 1.5rem;\n              text-align: left;\n}\n#car_sign #content .con .list_box .sign_user .iconfont[data-v-3470855a] {\n          position: absolute;\n          right: 0.875rem;\n          top: 0.75rem;\n          font-size: 24px;\n          color: #ed743b;\n}\n#car_sign #content .con .list_box .user_info_list[data-v-3470855a] {\n        border-top: solid 0.0625rem #ebebeb;\n        border-bottom: solid 0.0625rem #ebebeb;\n        padding-left: 0.875rem;\n}\n#car_sign #content .con .list_box .user_info_list .user_info[data-v-3470855a] {\n          border-bottom: solid 0.0625rem #ebebeb;\n          padding: 0.875rem 0.875rem 0.875rem 0;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n}\n#car_sign #content .con .list_box .user_info_list .user_info .user_img[data-v-3470855a] {\n            width: 2.25rem;\n            height: 2.25rem;\n            border-radius: 2rem;\n            background: #f2f2f2;\n            overflow: hidden;\n            margin-right: 0.625rem;\n}\n#car_sign #content .con .list_box .user_info_list .user_info .user_img img[data-v-3470855a] {\n              width: 100%;\n}\n#car_sign #content .con .list_box .user_info_list .user_info .user_name[data-v-3470855a] {\n            width: 18.8125rem;\n}\n#car_sign #content .con .list_box .user_info_list .user_info .user_name li[data-v-3470855a] {\n              display: -webkit-box;\n              display: -ms-flexbox;\n              display: flex;\n              -webkit-box-pack: justify;\n                  -ms-flex-pack: justify;\n                      justify-content: space-between;\n              font-size: 15px;\n}\n#car_sign #content .con .list_box .user_info_list .user_info .user_name li span[data-v-3470855a]:first-child {\n                max-width: 12.5rem;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n}\n#car_sign #content .con .list_box .user_info_list .user_info[data-v-3470855a]:last-child {\n          border: none;\n}\n#car_sign #content .bottom_btn[data-v-3470855a] {\n    position: fixed;\n    width: 100%;\n    bottom: 0;\n}\n#car_sign #content .bottom_btn button[data-v-3470855a] {\n      width: 100%;\n      background: #ed743b;\n      height: 2.875rem;\n      font-size: 16px;\n      color: #fff;\n      border: none;\n}\n",""])}});