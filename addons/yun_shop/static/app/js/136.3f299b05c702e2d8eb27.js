webpackJsonp([136],{Wqre:function(t,e,a){t.exports=a.p+"static/app/img/clockin_bg.957159b.png"},auIx:function(t,e,a){var o=a("yvrD");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("52ad3b68",o,!0,{})},yGq3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Pexp"),n=(a("Tg7E"),{data:function(){return{title:"我的战绩",payAmount:"",rewardAmount:"",clockNum:0,recordDetail:[],rewardDetail:"",recordDetailShow:!1,recordDetailAmountShow:!1,share_title:"",share_icon:"",share_desc:"",loading:!1,allLoaded:!1,goload:!0,isLoadMore:!0,page:1,total_page:0}},methods:{getMyRecord:function(){var t=this;$http.get("plugin.clock-in.api.clock-in-member.statistic",{}).then(function(e){console.log(e),1==e.result&&(t.payAmount=e.data.pay_amount,t.rewardAmount=e.data.reward_amount,t.clockNum=e.data.colck_num)}).catch(function(t){console.log(t)})},getMyRecordDetail:function(){var t=this;$http.get("plugin.clock-in.api.clock-in-member.get-clock-list",{page:this.page}).then(function(e){console.log(e),1==e.result&&(t.fun.isTextEmpty(e.data.data)||(t.recordDetailShow=!0,t.recordDetail=e.data.data,t.total_page=e.data.total))}).catch(function(t){console.log(t)})},detailDate:function(t){var e=new Date(t);return(e.getMonth()+1<10?"0"+e.getMonth()+1:e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},getShareData:function(){var t=this;$http.get("plugin.clock-in.api.clock-in.get-set",{}).then(function(e){t.share_title=e.data.share.share_title,t.share_icon=e.data.share.share_icon,t.share_desc=e.data.share.share_desc,t.initShare()}).catch(function(t){console.log(t)})},initShare:function(){var t=this;console.log(document.location.href);var e={url:document.location.href};$http.post("member.member.wxJsSdkConfig",e).then(function(e){console.log(e),1==e.result&&t.share(e.data)},function(t){console.log(t)})},share:function(t){var e=this;wx.config(t.config),wx.ready(function(){var a=e.share_title,o=document.location.href;o=e.fun.isMid(o,t.info.uid);var n=e.share_icon,i=e.share_desc;wx.showOptionMenu(),wx.onMenuShareTimeline({title:a,link:o,imgUrl:n,success:function(){Toast("分享成功")},cancel:function(){Toast("取消分享")}}),wx.onMenuShareAppMessage({title:a,desc:i,link:o,imgUrl:n,type:"link",dataUrl:"",success:function(){Toast("分享成功")},cancel:function(){Toast("取消分享")}})})},getMoreDetail:function(){var t=this;if(this.page!=this.total_page)return this.page>=this.total_page?(this.loading=!0,void(this.allLoaded=!0)):(this.page=this.page+1,void $http.get("plugin.clock-in.api.clock-in-member.get-clock-list",{page:this.page},"加载中...").then(function(e){if(1!=e.result)return t.page=that.page-1,t.loading=!0,t.allLoaded=!0,void(t.isLoadMore=!1);t.loading=!1,t.allLoaded=!1,t.recordDetail=t.recordDetail.concat(e.data.data)}).catch(function(t){console.log(t)}))},initData:function(){this.page=1,this.total_page=0,this.goload=!0,this.loading=!0,this.allLoaded=!1,this.isLoadMore=!0,this.recordDetail=[]},loadTop:function(){this.initData(),this.getMyRecordDetail(),this.$refs.coupon_loadmore.onTopLoaded()},loadBottom:function(){this.isLoadMore?(this.getMoreDetail(this.page),this.$refs.coupon_loadmore.onBottomLoaded()):console.log("没有更多数据")}},activated:function(){},mounted:function(){this.share_title="",this.share_icon="",this.share_desc="",this.getMyRecord(),this.getMyRecordDetail(),this.getShareData()},components:{cTitle:o.a}}),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"clockinrecord"}},[a("div",{attrs:{id:"record"}},[a("c-title",{attrs:{hide:!1,text:t.title}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"record-content"},[a("h3",[t._v("我的战绩")]),t._v(" "),a("div",{staticClass:"record-data"},[a("div",{staticClass:"data_box"},[a("span",{staticClass:"data"},[t._v(t._s(t.payAmount))]),a("br"),t._v(" "),a("span",{staticClass:"amount"},[t._v("累计投入(元)")])]),t._v(" "),a("div",{staticClass:"data_box"},[a("span",{staticClass:"data"},[t._v(t._s(t.rewardAmount))]),a("br"),t._v(" "),a("span",{staticClass:"amount"},[t._v("累计赚取(元)")])]),t._v(" "),a("div",{staticClass:"data_box"},[a("span",{staticClass:"data"},[t._v(t._s(t.clockNum))]),a("br"),t._v(" "),a("span",{staticClass:"amount"},[t._v("累计打卡(天)")])])])]),t._v(" "),t.recordDetailShow?a("div",{staticClass:"record-detail"},[a("h3",[t._v("战绩明细")]),t._v(" "),t.goload?a("mt-loadmore",{ref:"coupon_loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},t._l(t.recordDetail,function(e,o){return a("div",{key:o,staticClass:"record-detail-list"},[a("span",{staticClass:"time"},[t._v(t._s(e.created_at))]),t._v(" "),a("span",{staticClass:"state"},[t._v(t._s(e.clock_in_status_name))]),t._v(" "),a("span",{staticClass:"amount"},[t._v(t._s(t.fun.isTextEmpty(e.has_one_reward)?"":e.has_one_reward.amount))])])}),0):t._e()],1):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"content"}},[e("div")])}]};var r=a("VU/8")(n,i,!1,function(t){a("auIx")},"data-v-2f190733",null);e.default=r.exports},yvrD:function(t,e,a){var o=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,"\n#record[data-v-2f190733] {\n  color: #fff;\n  text-align: left;\n}\n#record .record-content[data-v-2f190733] {\n    height: 9.4375rem;\n    background-image: url("+o(a("Wqre"))+");\n    background-repeat: no-repeat;\n    background-size: 100%;\n    margin-top: 40px;\n}\n#record .record-content h3[data-v-2f190733] {\n      line-height: 2.5rem;\n      padding: 0.625rem 0.75rem 0 0.75rem;\n      font-size: 18px;\n}\n#record .record-content .record-data[data-v-2f190733] {\n      padding-top: 0.625rem;\n      padding-bottom: 0.625rem;\n      font-size: 15px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n#record .record-content .record-data .data_box[data-v-2f190733] {\n        width: 6.875rem;\n        padding-left: 0.75rem;\n}\n#record .record-content .record-data div .data[data-v-2f190733] {\n        font-size: 20px;\n}\n#record .record-content .record-data div .amount[data-v-2f190733] {\n        font-size: 12px;\n}\n#record .record-detail[data-v-2f190733] {\n    color: #000000;\n    background: #fff;\n}\n#record .record-detail h3[data-v-2f190733] {\n      line-height: 2.5rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      padding-left: 0.875rem;\n      font-size: 18px;\n      color: #666;\n}\n#record .record-detail .record-detail-list[data-v-2f190733] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      color: #8c8c8c;\n      margin-left: 0.875rem;\n      padding-right: 0.875rem;\n      font-size: 17px;\n      height: 2.75rem;\n      line-height: 2.75rem;\n}\n#record .record-detail .record-detail-list .time[data-v-2f190733] {\n        font-size: 14px;\n}\n#record .record-detail .record-detail-list .state[data-v-2f190733] {\n        color: #666;\n}\n#record .record-detail .record-detail-list .amount[data-v-2f190733] {\n        float: right;\n        color: #ffb14c;\n}\n",""])}});