webpackJsonp([105],{"+3+h":function(t,e,i){t.exports=i.p+"static/app/img/bgimg.ec2e235.png"},"3pTk":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n#chain_shop[data-v-d941d4dc] {\n  padding-top: 2.5rem;\n}\n#chain_shop #header[data-v-d941d4dc] {\n    background-color: #fff;\n}\n#chain_shop #header .header_user[data-v-d941d4dc] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 1.25rem 0.625rem;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      position: relative;\n}\n#chain_shop #header .header_user .img[data-v-d941d4dc] {\n        width: 3.5rem;\n        height: 3.5rem;\n        border: solid 0.125rem #f5f5f5;\n        border-radius: 1.75rem;\n        margin-right: 0.625rem;\n        overflow: hidden;\n}\n#chain_shop #header .header_user .img img[data-v-d941d4dc] {\n          width: 100%;\n}\n#chain_shop #header .header_user .name li[data-v-d941d4dc] {\n        font-size: 18px;\n        font-weight: bold;\n}\n#chain_shop #header .header_info[data-v-d941d4dc] {\n      border-top: solid 0.0625rem #ebebeb;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n}\n#chain_shop #header .header_info ul[data-v-d941d4dc] {\n        width: 50%;\n        padding-left: 1.25rem;\n}\n#chain_shop #header .header_info ul li[data-v-d941d4dc] {\n          text-align: left;\n          line-height: 1.875rem;\n}\n#chain_shop #header .header_info ul li[data-v-d941d4dc]:first-child {\n          color: #8c8c8c;\n          font-size: 15px;\n}\n#chain_shop #header .header_info ul li[data-v-d941d4dc]:last-child {\n          font-size: 22px;\n}\n#chain_shop #header .header_info ul li:last-child span[data-v-d941d4dc] {\n            font-size: 15px;\n}\n#chain_shop #order_info[data-v-d941d4dc] {\n    margin-top: 0.625rem;\n    background-color: #fff;\n}\n#chain_shop #order_info .tab_box[data-v-d941d4dc] {\n      width: 100%;\n      padding: 10px 0;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n}\n#chain_shop #order_info .tab_box .tab[data-v-d941d4dc] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n#chain_shop #order_info .tab_box .tab li[data-v-d941d4dc]:first-child {\n          width: 168px;\n          height: 30px;\n          line-height: 30px;\n          border: solid 1px #f15353;\n          font-size: 15px;\n          border-radius: 6px 0 0 6px;\n}\n#chain_shop #order_info .tab_box .tab li[data-v-d941d4dc]:last-child {\n          width: 168px;\n          height: 30px;\n          line-height: 30px;\n          border: solid 1px #f15353;\n          font-size: 15px;\n          border-radius: 0 6px 6px 0;\n}\n#chain_shop #order_info .tab_box .tab .active[data-v-d941d4dc] {\n          background-color: #f15353;\n          color: #fff;\n}\n#chain_shop #order_info .select_box .select_tab[data-v-d941d4dc] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#chain_shop #order_info .select_box .select_tab li[data-v-d941d4dc] {\n        width: 33.33%;\n        height: 2.5rem;\n        line-height: 2.5rem;\n        font-size: 16px;\n}\n#chain_shop #order_info .select_box .select_list[data-v-d941d4dc] {\n      padding-left: 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#chain_shop #order_info .select_box .select_list ul[data-v-d941d4dc]:last-child {\n        border: none;\n}\n#chain_shop #order_info .select_box .select_list ul[data-v-d941d4dc] {\n        padding: 0.625rem 0;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        border-bottom: solid 0.0625rem #ebebeb;\n}\n#chain_shop #order_info .select_box .select_list ul li[data-v-d941d4dc]:first-child {\n          width: 33.33%;\n          text-align: left;\n}\n#chain_shop #order_info .select_box .select_list ul li:first-child span[data-v-d941d4dc]:first-child {\n            font-size: 16px;\n}\n#chain_shop #order_info .select_box .select_list ul li:first-child span[data-v-d941d4dc]:last-child {\n            font-size: 14px;\n            color: #8c8c8c;\n}\n#chain_shop #order_info .select_box .select_list ul li[data-v-d941d4dc]:nth-child(2) {\n          width: 33.33%;\n          font-size: 16px;\n}\n#chain_shop #order_info .select_box .select_list ul li:nth-child(2) span[data-v-d941d4dc] {\n            font-size: 14px;\n}\n#chain_shop #order_info .select_box .select_list ul li[data-v-d941d4dc]:last-child {\n          width: 33.33%;\n          font-size: 16px;\n}\n",""])},EgMF:function(t,e,i){var o=i("3pTk");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i("rjj0")("0fa15d94",o,!0,{})},knYn:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,s=i("Tg7E"),a="plugin.store-cashier.frontend.boss.child-store.getStoreOrderList",n="plugin.store-cashier.frontend.boss.child-store.getCashierOrderList",r={data:function(){return{store_info:{},store_count:{},tabArr:["门店订单","收银台订单"],currentIndex:0,store_order_show:!0,cashier_order_show:!1,storeList:[],store_loading:!1,store_allLoaded:!1,store_goload:!0,store_isLoadMore:!0,store_page:1,store_total_page:0,cashierList:[],cashier_loading:!1,cashier_allLoaded:!1,cashier_goload:!0,cashier_isLoadMore:!0,cashier_page:1,cashier_total_page:0,vedioSrc:"",income_name_text:""}},activated:function(){var t=this;this.initData(),this.getStoreInfo(),this.getStoreList(),this.isOpenAudio(),this.customizeIncome(),this.$nextTick(function(){t.autoClick()})},mounted:function(){},deactivated:function(){this.closeTimeInterval()},methods:{initData:function(){this.currentIndex=0,this.store_order_show=!0,this.cashier_order_show=!1,this.store_info={},this.store_count={},this.tabArr=["门店订单","收银台订单"],this.vedioSrc="",this.initStoreData(),this.initCashierData()},getStoreInfo:function(){var t=this;$http.get("plugin.store-cashier.frontend.boss.child-store.index",{store_id:this.$route.params.id},"加载中...").then(function(e){1==e.result&&(t.store_info=e.data.store,t.store_count=e.data.statistics,t.getCashierList(t.store_info.cashier_id))}).catch(function(t){console.log(t)})},toggle:function(t){this.currentIndex=t,0==t?(this.store_order_show=!0,this.cashier_order_show=!1):(this.store_order_show=!1,this.cashier_order_show=!0)},initStoreData:function(){this.storeList=[],this.store_loading=!1,this.store_allLoaded=!1,this.store_goload=!0,this.store_isLoadMore=!0,this.store_page=1,this.store_total_page=0},getStoreList:function(){var t=this;$http.get(a,{store_id:this.$route.params.id,page:this.store_page}).then(function(e){1==e.result&&(console.log(e),t.storeList=e.data.data,t.store_total_page=e.data.last_page)}).catch(function(t){console.log(t)})},getMoreStoreList:function(){var t=this;if(this.store_page!=this.store_total_page)return this.store_page>=this.store_total_page?(this.store_loading=!0,void(this.store_allLoaded=!0)):(this.store_page=this.store_page+1,void $http.get(a,{store_id:this.$route.params.id,page:this.store_page},"加载中...").then(function(e){if(1!=e.result)return t.store_page=t.store_page-1,t.store_loading=!0,t.store_allLoaded=!0,void(t.store_isLoadMore=!1);t.store_loading=!1,t.store_allLoaded=!1,t.storeList=t.storeList.concat(e.data.data)}).catch(function(t){console.log(t)}))},storeLoadTop:function(){this.initStoreData(),this.getStoreList(),this.$refs.store_loadmore.onTopLoaded()},storeLoadBottom:function(){this.store_isLoadMore?(this.getMoreStoreList(),this.$refs.store_loadmore.onBottomLoaded()):console.log("没有更多数据")},initCashierData:function(){this.cashierList=[],this.cashier_loading=!1,this.cashier_allLoaded=!1,this.cashier_goload=!0,this.cashier_isLoadMore=!0,this.cashier_page=1,this.cashier_total_page=0},getCashierList:function(t){var e=this;$http.get(n,{cashier_id:t,page:this.cashier_page}).then(function(t){1==t.result&&(console.log(t),e.cashierList=t.data.data,console.log(e.cashierList),e.cashier_total_page=t.data.last_page)}).catch(function(t){console.log(t)})},getMoreCashierList:function(){var t=this;if(this.cashier_page!=this.cashier_total_page)return this.cashier_page>=this.cashier_total_page?(this.cashier_loading=!0,void(this.cashier_allLoaded=!0)):(this.cashier_page=this.cashier_page+1,void $http.get(n,{cashier_id:this.store_info.cashier_id,page:this.cashier_page},"加载中...").then(function(e){if(1!=e.result)return t.cashier_page=t.cashier_page-1,t.cashier_loading=!0,t.cashier_allLoaded=!0,void(t.cashier_isLoadMore=!1);t.cashier_loading=!1,t.cashier_allLoaded=!1,t.cashierList=t.cashierList.concat(e.data.data)}).catch(function(t){console.log(t)}))},cashierLoadTop:function(){this.initCashierData(),this.getCashierList(this.store_info.cashier_id),this.$refs.cashier_loadmore.onTopLoaded()},cashierLoadBottom:function(){this.cashier_isLoadMore?(this.getMoreCashierList(),this.$refs.cashier_loadmore.onBottomLoaded()):console.log("没有更多数据")},isOpenAudio:function(){var t=this;$http.get("plugin.store-cashier.frontend.boss.voice-broadcast.verifyOpenAudio",{store_id:this.$route.params.id}).then(function(e){1==e.result?1==e.data.audio_open&&t.getAudio():s.MessageBox.alert(e.msg)}).catch(function(t){console.log(t)})},getAudio:function(){var t=this;o=setInterval(function(){$http.get("plugin.store-cashier.frontend.boss.voice-broadcast.index",{store_id:t.$route.params.id}).then(function(e){1==e.result&&(t.vedioSrc=e.data.url,t.$nextTick(function(){t.audioPlay()}))}).catch(function(t){console.log(t)})},5e3)},audioPlay:function(){var t={url:document.location.href};$http.post("member.member.wxJsSdkConfig",t).then(function(t){1==t.result&&(wx.config(t.data.config),wx.ready(function(){var t=document.getElementById("yp");t.load(),t.play(),WeixinJSBridge.invoke("getNetworkType",{},function(e){t.load(),t.play()})}))}).catch(function(t){console.log(t)})},closeTimeInterval:function(){console.log("dsdsdsdsds"),clearInterval(o)},autoClick:function(){if(document.all)document.getElementById("chain_shop").click();else{var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!0),document.getElementById("chain_shop").dispatchEvent(t)}},show:function(){var t=document.getElementById("yp");t.load(),t.play()},customizeIncome:function(){var t=this.fun.initMailLanguage();this.income_name_text=t.income.income_name}},components:{cTitle:i("Pexp").a}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"chain_shop"}},[o("c-title",{attrs:{hide:!1,text:"门店信息"}}),t._v(" "),o("div",{attrs:{id:"header"}},[o("div",{staticClass:"header_user"},[o("div",{staticClass:"img"},[o("img",{attrs:{src:t.store_info.thumb?t.store_info.thumb:i("+3+h")}})]),t._v(" "),o("ul",{staticClass:"name"},[o("li",[t._v(t._s(t.store_info.store_name))])])]),t._v(" "),o("div",{staticClass:"header_info"},[o("ul",[o("li",[t._v("订单数")]),t._v(" "),o("li",[t._v(t._s(t.store_count.order_count)),o("span",[t._v("个")])])]),t._v(" "),o("ul",[o("li",[t._v(t._s(t.income_name_text))]),t._v(" "),o("li",[o("span",[t._v("¥")]),t._v(t._s(t.store_count.amount_total))])])])]),t._v(" "),o("div",{attrs:{id:"order_info"}},[o("div",{staticClass:"tab_box"},[o("ul",{staticClass:"tab"},t._l(t.tabArr,function(e,i){return o("li",{key:i,class:{active:t.currentIndex==i},on:{click:function(e){return t.toggle(i)}}},[t._v(t._s(e))])}),0)]),t._v(" "),t.store_order_show?o("div",{staticClass:"select_box"},[t._m(0),t._v(" "),o("div",{staticClass:"select_list"},[t.store_goload?o("mt-loadmore",{ref:"store_loadmore",attrs:{"top-method":t.storeLoadTop,"bottom-method":t.storeLoadBottom,"bottom-all-loaded":t.store_allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},t._l(t.storeList,function(e,i){return o("ul",{key:i},[o("li",[o("span",[t._v(t._s(e.order.order_sn))]),t._v(" "),o("span",[t._v(t._s(e.order.create_time))])]),t._v(" "),o("li",[o("span",[t._v("¥")]),t._v(t._s(e.order.price))]),t._v(" "),o("li",[t._v(t._s(e.order.status_name))])])}),0):t._e()],1)]):t._e(),t._v(" "),t.cashier_order_show?o("div",{staticClass:"select_box"},[t._m(1),t._v(" "),o("div",{staticClass:"select_list"},[t.cashier_goload?o("mt-loadmore",{ref:"cashier_loadmore",attrs:{"top-method":t.cashierLoadTop,"bottom-method":t.cashierLoadBottom,"bottom-all-loaded":t.cashier_allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},t._l(t.cashierList,function(e,i){return o("ul",{key:i},[o("li",[o("span",[t._v(t._s(e.order.order_sn))]),t._v(" "),o("span",[t._v(t._s(e.order.create_time))])]),t._v(" "),o("li",[o("span",[t._v("¥")]),t._v(t._s(e.order.price))]),t._v(" "),o("li",[t._v(t._s(e.order.status_name))])])}),0):t._e()],1)]):t._e()]),t._v(" "),o("div",[o("audio",{staticStyle:{opacity:"0"},attrs:{autoplay:"",controls:"",id:"yp"}},[o("source",{attrs:{src:t.vedioSrc,type:"audio/mpeg"}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"select_tab"},[e("li",[this._v("订单编号")]),this._v(" "),e("li",[this._v("订单金额")]),this._v(" "),e("li",[this._v("订单状态")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"select_tab"},[e("li",[this._v("订单编号")]),this._v(" "),e("li",[this._v("订单金额")]),this._v(" "),e("li",[this._v("订单状态")])])}]};var c=i("VU/8")(r,d,!1,function(t){i("EgMF")},"data-v-d941d4dc",null);e.default=c.exports}});