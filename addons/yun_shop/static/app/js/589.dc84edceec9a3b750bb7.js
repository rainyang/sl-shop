webpackJsonp([589],{VzV0:function(t,a,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n#integral_active #content .active_box[data-v-0abba1ac] {\n  background-color: #f15353;\n  margin-bottom: 0.625rem;\n  color: #fff;\n}\n#integral_active #content .active_box .active[data-v-0abba1ac] {\n    padding: 0.875rem;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n#integral_active #content .active_box .active .active_num[data-v-0abba1ac] {\n      text-align: left;\n}\n#integral_active #content .active_box .active .active_num li[data-v-0abba1ac]:first-child {\n        font-size: 26px;\n        font-weight: bold;\n}\n#integral_active #content .active_box .active .active_num li[data-v-0abba1ac]:last-child {\n        font-size: 14px;\n}\n#integral_active #content .active_box .active .active_btn[data-v-0abba1ac] {\n      margin-top: 0.8125rem;\n      background-color: #fff;\n      height: 1.625rem;\n      padding: 0 0.625rem;\n      line-height: 1.625rem;\n      border-radius: 0.8125rem;\n      color: #666;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n#integral_active #content .active_box .integral[data-v-0abba1ac] {\n    background: rgba(255, 255, 255, 0.1);\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0.625rem 0;\n}\n#integral_active #content .active_box .integral li[data-v-0abba1ac] {\n      width: 33.33%;\n}\n#integral_active #content .active_box .integral li span[data-v-0abba1ac] {\n        display: block;\n        line-height: 1.5rem;\n        font-size: 12px;\n}\n#integral_active #content .active_box .integral li span[data-v-0abba1ac]:first-child {\n        font-size: 18px;\n}\n#integral_active #content .integral_box h1[data-v-0abba1ac] {\n  background-color: #fff;\n  text-align: left;\n  height: 2.5rem;\n  line-height: 2.5rem;\n  padding: 0 0.875rem;\n  font-size: 16px;\n  font-weight: bold;\n  border-bottom: solid 0.0625rem #ebebeb;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n#integral_active #content .integral_box h1 .spare[data-v-0abba1ac] {\n    width: 0.25rem;\n    height: 1rem;\n    border-radius: 0.0625rem;\n    margin-right: 0.375rem;\n    background: #f15353;\n    margin-top: 0.75rem;\n}\n#integral_active #content .integral_box .list[data-v-0abba1ac] {\n  margin-bottom: 0.625rem;\n  background: #fff;\n  padding: 0.625rem 0;\n}\n#integral_active #content .integral_box .list .active_name[data-v-0abba1ac] {\n    height: 1.875rem;\n    line-height: 1.875rem;\n    padding: 0 0.875rem;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    font-size: 14px;\n}\n#integral_active #content .integral_box .list .active_name i[data-v-0abba1ac]:first-child {\n      color: #666;\n      margin-right: 0.625rem;\n      font-size: 1.25rem;\n}\n#integral_active #content .integral_box .list .active_name .icon-share[data-v-0abba1ac] {\n      width: 1.875rem;\n      position: absolute;\n      right: 0.875rem;\n      color: #666;\n      font-size: 1rem;\n}\n#integral_active #content .integral_box .list .active_give[data-v-0abba1ac] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0.625rem 0;\n}\n#integral_active #content .integral_box .list .active_give li[data-v-0abba1ac] {\n      width: 50%;\n      text-align: center;\n      font-size: 12px;\n}\n#integral_active #content .integral_box .list .active_give li span[data-v-0abba1ac] {\n        display: block;\n        line-height: 1.5rem;\n}\n#integral_active #content .integral_box .list .active_give li span[data-v-0abba1ac]:last-child {\n        font-size: 18px;\n}\n#integral_active #content .integral_box .list .detail[data-v-0abba1ac] {\n    height: 1.875rem;\n    line-height: 1.875rem;\n    padding: 0 0.875rem;\n    font-size: 12px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    color: #8c8c8c;\n}\n#integral_active #content .integral_box .list .detail li[data-v-0abba1ac] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n#integral_active #content .integral_box .list .detail li i[data-v-0abba1ac] {\n        font-size: 1.25rem;\n        line-height: 1.875rem;\n        margin-left: 0.375rem;\n}\n",""])},gElv:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=i("Pexp"),e=i("Tg7E"),l={data:function(){return{activity_used:0,activity_total:0,activity_point:0,activity_stock:0,dataList:[],loading:!1,isLoadMore:!0,page:1,total_page:0,integral:window.localStorage.integral}},created:function(){},methods:{toIntegralGeneralization:function(){this.$router.push(this.fun.getUrl("IntegralGeneralization",{}))},toIntegralPresent:function(t){this.$router.push(this.fun.getUrl("IntegralPresent",{},{activity_id:t}))},toIntegralRecord:function(t){this.$router.push(this.fun.getUrl("IntegralRecord",{activity_id:t}))},getData:function(){var t=this;$http.post("plugin.point-activity.Frontend.Controllers.page.index",{page_id:1},"正在加载").then(function(a){if(1===a.result){var i=a.data;t.activity_used=i.activity_used,t.activity_total=i.activity_total,t.activity_point=i.activity_point,t.activity_stock=i.activity_stock,t.total_page=i.records.last_page,t.total_page||(t.total_page=0),t.dataList=i.records.data}else e.MessageBox.alert(a.msg)},function(t){})},loadMore:function(){this.isLoadMore?this.getMoreData(this.page):console.log("没有更多数据")},getMoreData:function(t){var a=this;this.page>=this.total_page||(this.page=this.page+1,$http.post("plugin.point-activity.Frontend.Controllers.page.index",{page_id:this.page},"加载中...").then(function(t){if(1!==t.result)return a.page=a.page-1,a.loading=!0,void(a.isLoadMore=!1);var i=t.data.records.data;a.loading=!1,a.dataList=a.dataList.concat(i)},function(t){}))},initData:function(){this.page=1,this.total_page=0,this.loading=!1,this.isLoadMore=!0,this.dataList=[]}},activated:function(){this.initData(),this.getData(),this.integral?this.fun.setWXTitle(this.integral+"活动"):this.fun.setWXTitle("")},deactivated:function(){this.loading=!0},components:{cTitle:n.a}},s={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"integral_active"}},[i("c-title",{attrs:{hide:!1,text:t.integral?t.integral:"积分",tolink:"IntegralGetRecord",totext:"领取记录"}}),t._v(" "),i("div",{staticStyle:{height:"40px"}}),t._v(" "),i("div",{attrs:{id:"content"}},[i("div",{staticClass:"active_box"},[i("div",{staticClass:"active"},[i("ul",{staticClass:"active_num"},[i("li",[t._v(t._s(t.activity_total))]),t._v(" "),i("li",[t._v("发布活动总数")])]),t._v(" "),i("div",{staticClass:"active_btn",on:{click:t.toIntegralGeneralization}},[i("i",{staticClass:"iconfont icon-life-game-plus"}),t._v(" "),i("span",[t._v("创建活动")])])]),t._v(" "),i("ul",{staticClass:"integral"},[i("li",[i("span",[t._v(t._s(t.activity_point))]),t._v(" "),i("span",[t._v("赠送总数")])]),t._v(" "),i("li",[i("span",[t._v(t._s(t.activity_used))]),t._v(" "),i("span",[t._v("已领取总数")])]),t._v(" "),i("li",[i("span",[t._v(t._s(t.activity_stock))]),t._v(" "),i("span",[t._v("已过期总数")])])])]),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"integral_box",attrs:{"infinite-scroll-disabled":"loading"}},[i("h1",[i("div",{staticClass:"spare"}),t._v("\n        "+t._s(t.integral?t.integral:"积分")+"\n      ")]),t._v(" "),t._l(t.dataList,function(a,n){return i("div",{key:n,staticClass:"list",on:{click:function(i){return t.toIntegralRecord(a.id)}}},[i("div",{staticClass:"active_name"},[i("i",{staticClass:"iconfont icon-liwu"}),t._v(" "),i("span",[t._v(t._s(a.name))]),t._v(" "),i("i",{staticClass:"iconfont icon-share",on:{click:function(i){return i.stopPropagation(),t.toIntegralPresent(a.id)}}})]),t._v(" "),i("ul",{staticClass:"active_give"},[i("li",[i("span",[t._v("每人赠送")]),t._v(" "),i("span",[t._v(t._s(a.average))])]),t._v(" "),i("li",[i("span",[t._v("赠送人数")]),t._v(" "),i("span",[t._v(t._s(a.total))])])]),t._v(" "),i("ul",{staticClass:"detail"},[i("li",{directives:[{name:"show",rawName:"v-show",value:a.validity_at,expression:"activity.validity_at"}]},[t._v("有限期："+t._s(a.validity_at))]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:!a.validity_at,expression:"!activity.validity_at"}]}),t._v(" "),t._m(0,!0)])])})],2)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("span",[this._v("明细")]),this._v(" "),a("i",{staticClass:"fa fa-angle-right"})])}]};var o=i("VU/8")(l,s,!1,function(t){i("uSLc")},"data-v-0abba1ac",null);a.default=o.exports},uSLc:function(t,a,i){var n=i("VzV0");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("19927052",n,!0,{})}});