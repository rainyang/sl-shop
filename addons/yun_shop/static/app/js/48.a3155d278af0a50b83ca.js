webpackJsonp([48],{YjRO:function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("mvHQ"),i=e.n(n),a=e("Tg7E"),s=e("Pexp"),r=e("dNXT"),d="plugin.hotel.frontend.hotel.goods.get-hotel-goods-by-title",l={data:function(){return{loading:!1,allLoaded:!1,goload:!0,isLoadMore:!0,page:1,total_page:0,list_arr:[],location:{},search_value:"",toolbar:!1,start_time:"",end_time:"",PageNameList:{}}},created:function(){1!==this.$route.params.fromHome&&(this.toolbar=!1,this.initData(),this.start_time=this.$route.query.start||"",this.end_time=this.$route.query.end||"",this.location=this.$store.state.o2oLocation,this.showToolbar=!1,this.getCustomizeHotelHead(),this.fun.isTextEmpty(this.location)?this.getLocation():this.search())},activated:function(){1===this.$route.params.fromHome?(this.toolbar=!1,this.initData(),this.start_time=this.$route.query.start||"",this.end_time=this.$route.query.end||"",this.location=this.$store.state.o2oLocation,this.showToolbar=!1,this.getCustomizeHotelHead(),this.fun.isTextEmpty(this.location)?this.getLocation():this.search()):window.location.href.indexOf("#/hotel/search")>-1&&setTimeout(function(){window.scrollTo(0,window.homesearchScrollTop)},200)},beforeRouteLeave:function(o,t,e){window.homesearchScrollTop=document.documentElement.scrollTop||document.body.scrollTop,e()},mounted:function(){window.homesearchScrollTop=0},methods:{search:function(){var o=this,t=this.fun.bd_encrypt(this.location.point.lng,this.location.point.lat),e={lng:t.lng,lat:t.lat,city_name:this.location.city,page:this.page,entrance_time:this.$route.query.start||"",price:this.$route.query.price||"",star_rated:this.$route.query.star||"",category_id:this.$route.query.category||"",leave_at:this.$route.query.end||"",kwd:this.search_value};$http.get(d,e,"加载中...").then(function(t){1==t.result&&(o.list_arr=t.data.data,o.total_page=t.data.last_page)}).catch(function(o){console.log(o)})},getCustomizeHotelHead:function(){var o=this,t=localStorage.getItem("customizeHotelHead");this.fun.isTextEmpty(t)?$http.get("plugin.hotel.frontend.hotel.get-hotel-info.get-custom-name",{},"加载中...").then(function(t){1==t.result&&(o.PageNameList=t.data,localStorage.setItem("customizeHotelHead",i()(t.data)))}).catch(function(o){console.log(o)}):this.PageNameList=JSON.parse(localStorage.getItem("customizeHotelHead"))},searchMore:function(){var o=this;if(this.page!=this.total_page){if(this.page>=this.total_page)return this.loading=!0,void(this.allLoaded=!0);this.page=this.page+1;var t=this.fun.bd_encrypt(this.location.point.lng,this.location.point.lat),e={lng:t.lng,lat:t.lat,city_name:this.location.city,page:this.page,entrance_time:this.$route.query.start||"",price:this.$route.query.price||"",star_rated:this.$route.query.star||"",category_id:this.$route.query.category||"",leave_at:this.$route.query.end||"",kwd:this.search_value};$http.get(d,e,"加载中...").then(function(t){if(1!=t.result)return o.page=o.page-1,o.loading=!0,o.allLoaded=!0,void(o.isLoadMore=!1);o.loading=!1,o.allLoaded=!1,o.list_arr=o.list_arr.concat(t.data.data)}).catch(function(o){console.log(o)})}},initData:function(){this.page=1,this.total_page=0,this.goload=!0,this.loading=!0,this.allLoaded=!1,this.isLoadMore=!0,this.list_arr=[]},loadTop:function(){this.initData(),this.search(),this.$refs.hotel_loadmore.onTopLoaded()},loadBottom:function(){this.isLoadMore?(this.searchMore(),this.$refs.hotel_loadmore.onBottomLoaded()):console.log("没有更多数据")},getLocation:function(){var o=this;this.$store.state.o2oLocation;console.log("route.name",this.$route);var t=new AMap.Map("iCenter");function e(t){console.log("objjjjj",t);t.position,t.accuracy,t.location_type,t.info,t.formattedAddress,i()(t.addressComponent,null,4);var e=t.position.toString().split(","),n={lat:e[1],lng:e[0]},a=(t.formattedAddress,t.formattedAddress,o.fun.isTextEmpty(t.addressComponent.city)?t.addressComponent.province:t.addressComponent.city),s={address:t.formattedAddress,city:a,title:t.formattedAddress,point:n};console.log("test pos",s),o.$store.commit("updateLocation",s),o.$store.commit("setLocation",s),o.location=s,o.search()}function n(o){Object(a.Toast)("定位失败,请手动切换位置")}t.plugin("AMap.Geolocation",function(){var o=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!0,showCircle:!0,panToLocation:!0,zoomToAccuracy:!0});t.addControl(o),o.getCurrentPosition(),AMap.event.addListener(o,"complete",e),AMap.event.addListener(o,"error",n)})},gotoSearch:function(){this.initData(),this.search()},showToolbar:function(){this.toolbar=!this.toolbar}},components:{cTitle:s.a,hotelList:r.a}},c={render:function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{attrs:{id:"hotel_search"}},[e("c-title",{attrs:{hide:!1,text:o.PageNameList.hotels+"搜索页"}}),o._v(" "),e("div",{attrs:{id:"content"}},[e("div",{staticClass:"search_box"},[e("div",{staticClass:"box"},[e("i",{staticClass:"iconfont icon-sousuo1"}),o._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.search_value,expression:"search_value"}],attrs:{type:"text",placeholder:"关键字/位置/品牌/"+o.PageNameList.hotel_find_name},domProps:{value:o.search_value},on:{input:function(t){t.target.composing||(o.search_value=t.target.value)}}})]),o._v(" "),e("span",{on:{click:o.gotoSearch}},[o._v("搜索")])]),o._v(" "),e("div",{staticClass:"like_box"},[o._m(0),o._v(" "),e("div",{staticClass:"goods_box"},[o.goload?e("mt-loadmore",{ref:"hotel_loadmore",attrs:{"top-method":o.loadTop,"bottom-method":o.loadBottom,"bottom-all-loaded":o.allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1,id:"olis"}},[e("hotel-list",{attrs:{datas:o.list_arr,show:!0,start:o.start_time,end:o.end_time}})],1):o._e()],1)]),o._v(" "),e("div",{staticClass:"y5",staticStyle:{bottom:"7.1875rem"},attrs:{bottommenus:""},on:{click:function(t){return t.stopPropagation(),o.showToolbar(t)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:o.toolbar,expression:"toolbar"}],staticClass:"y6",attrs:{bottomlinks:""}},[e("router-link",{staticClass:"y8",attrs:{to:o.fun.getUrl("home")}},[o._v("\n          首页\n        ")]),o._v(" "),e("router-link",{staticClass:"yb",attrs:{to:o.fun.getUrl("orderlist",{status:"0"})}},[o._v("\n          订单\n        ")]),o._v(" "),e("router-link",{staticClass:"yc",attrs:{to:o.fun.getUrl("member")}},[o._v("\n          我的\n        ")]),o._v(" "),e("i",{staticClass:"yd"})],1)])])],1)},staticRenderFns:[function(){var o=this.$createElement,t=this._self._c||o;return t("div",{staticClass:"title"},[t("div",{staticClass:"line_left"}),this._v(" "),t("h2",[this._v("猜你喜欢")]),this._v(" "),t("div",{staticClass:"line_right"})])}]};var h=e("VU/8")(l,c,!1,function(o){e("bEs6")},"data-v-694801e4",null);t.default=h.exports},aJuV:function(o,t,e){(o.exports=e("FZ+f")(!1)).push([o.i,"\n.goods[data-v-ab4779f4] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 0.625rem;\n}\n.goods .img[data-v-ab4779f4] {\n    width: 6.25rem;\n    height: 6.25rem;\n    background: #f8f8f8;\n    overflow: hidden;\n    margin: 0 0.625rem;\n}\n.goods .img img[data-v-ab4779f4] {\n      width: 100%;\n}\n.goods .info[data-v-ab4779f4] {\n    text-align: left;\n    width: 16rem;\n    padding-right: 0.625rem;\n    border-bottom: solid 0.0625rem #ebebeb;\n    padding-bottom: 0.625rem;\n}\n.goods .info .info_a[data-v-ab4779f4] {\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 1.5rem;\n      max-height: 3rem;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 2;\n      overflow: hidden;\n}\n.goods .info .info_a font[data-v-ab4779f4] {\n        font-size: 12px;\n        color: #8c8c8c;\n        font-weight: normal;\n        margin-left: 0.625rem;\n}\n.goods .info .info_b[data-v-ab4779f4] {\n      font-size: 12px;\n      color: #8c8c8c;\n}\n.goods .info .info_b span[data-v-ab4779f4] {\n        font-size: 20px;\n        color: #337ef9;\n        font-weight: bold;\n        margin-right: 0.625rem;\n}\n.goods .info .info_b span font[data-v-ab4779f4] {\n          font-size: 14px;\n          font-weight: normal;\n}\n.goods .info .info_c[data-v-ab4779f4] {\n      font-size: 12px;\n      color: #8c8c8c;\n}\n.goods .info .info_d[data-v-ab4779f4] {\n      font-size: 12px;\n      color: #259b24;\n}\n.goods .info .info_e[data-v-ab4779f4] {\n      color: #f15353;\n}\n.goods .info .info_e span[data-v-ab4779f4] {\n        font-size: 20px;\n        font-weight: bold;\n}\n.goods .info .info_e font[data-v-ab4779f4]:last-child {\n        color: #8c8c8c;\n}\n.goods .info .info_e .boder-btn[data-v-ab4779f4] {\n        letter-spacing: 1px;\n        margin: 0.65rem 0 0 0.6rem;\n        background-color: #f15353;\n        font-size: 16px;\n        font-weight: 500;\n        width: 3.6rem;\n        height: 1.4rem;\n        line-height: 1.4rem;\n        text-align: center;\n        border-radius: 0.2rem;\n        border: 1px solid #f15353;\n        color: #ffffff;\n}\n",""])},bEs6:function(o,t,e){var n=e("n3QI");"string"==typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);e("rjj0")("65dcee0a",n,!0,{})},cyVG:function(o,t,e){var n=e("aJuV");"string"==typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);e("rjj0")("14386ba4",n,!0,{})},dNXT:function(o,t,e){"use strict";var n={render:function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",o._l(o.datas,function(t,n){return e("div",{key:n,staticClass:"goods",staticStyle:{display:"flex"},on:{click:function(e){return o.gotoHomePage(t)}}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.thumb}})]),o._v(" "),e("ul",{staticClass:"info"},[e("li",{staticClass:"info_a"},[o._v("\n        "+o._s(t.hotel_name)+"\n        "),e("font",[o._v(o._s(t.has_one_category.name))])],1),o._v(" "),e("li",{staticClass:"info_b"},[o._e(),o._v(o._s(t.order_total)+"+人消费\n      ")]),o._v(" "),e("li",{staticClass:"info_c"},[o._v("距我"+o._s(t.distance)+o._s(t.unit))]),o._v(" "),o.fun.isTextEmpty(t.order_time)?o._e():e("li",{staticClass:"info_d"},[o._v("\n        最新预定："+o._s(o.getTime(t.order_time))+"\n      ")]),o._v(" "),e("li",{staticClass:"info_e"},[e("font",[o._v("¥")]),e("span",[o._v(o._s(t.room_amount))]),o._v(" "),e("font",[o._v("起")])],1)])])}),0)},staticRenderFns:[]};var i=e("VU/8")({data:function(){},props:{datas:{default:[]},show:{default:!1},start:{default:""},end:{default:""}},methods:{gotoHomePage:function(o){this.$router.push(this.fun.getUrl("HotelHome",{id:o.id},{city:o.address.city,start:this.start,end:this.end}))},getTime:function(o){return 0==o.day?0==o.hour?0==o.min?"一分钟之前":o.min+"分钟之前":o.hour+"小时之前":o.day+"天之前"}}},n,!1,function(o){e("cyVG")},"data-v-ab4779f4",null);t.a=i.exports},n3QI:function(o,t,e){(o.exports=e("FZ+f")(!1)).push([o.i,"\n#hotel_search[data-v-694801e4] {\n  padding-top: 40px;\n}\n#hotel_search #content[data-v-694801e4] {\n    background: #fff;\n}\n#hotel_search #content .search_box[data-v-694801e4] {\n      width: 100%;\n      border-bottom: solid 0.0625rem #ebebeb;\n      padding: 0.375rem 0.9375rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n}\n#hotel_search #content .search_box .box[data-v-694801e4] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        width: 18.75rem;\n        height: 1.875rem;\n        border-radius: 0.375rem;\n        background: #f5f5f5;\n        padding: 0 0.625rem;\n}\n#hotel_search #content .search_box .box i[data-v-694801e4] {\n          font-size: 1rem;\n          color: #999;\n          line-height: 1.875rem;\n          margin-right: 0.625rem;\n}\n#hotel_search #content .search_box .box input[data-v-694801e4] {\n          width: 15rem;\n          border: none;\n          font-size: 15px;\n}\n#hotel_search #content .search_box span[data-v-694801e4] {\n        font-size: 15px;\n        line-height: 1.875rem;\n}\n#hotel_search #content .like_box[data-v-694801e4] {\n      background: #fff;\n}\n#hotel_search #content .like_box .title[data-v-694801e4] {\n        height: 2.5rem;\n        line-height: 2.5rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n}\n#hotel_search #content .like_box .title .line_left[data-v-694801e4] {\n          width: 3.125rem;\n          height: 0.0625rem;\n          border: dashed 0.0625rem #ebebeb;\n          margin-right: 0.625rem;\n}\n#hotel_search #content .like_box .title h2[data-v-694801e4] {\n          font-size: 18px;\n}\n#hotel_search #content .like_box .title .line_right[data-v-694801e4] {\n          width: 3.125rem;\n          height: 0.0625rem;\n          border: dashed 0.0625rem #ebebeb;\n          margin-left: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box[data-v-694801e4] {\n        padding: 0.625rem 0;\n}\n#hotel_search #content .like_box .goods_box .goods[data-v-694801e4] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          margin-bottom: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .img[data-v-694801e4] {\n            width: 6.25rem;\n            height: 8.75rem;\n            background: #f8f8f8;\n            overflow: hidden;\n            margin: 0 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .img img[data-v-694801e4] {\n              width: 100%;\n}\n#hotel_search #content .like_box .goods_box .goods .info[data-v-694801e4] {\n            text-align: left;\n            width: 16rem;\n            padding-right: 0.625rem;\n            border-bottom: solid 0.0625rem #ebebeb;\n            padding-bottom: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_a[data-v-694801e4] {\n              font-size: 16px;\n              font-weight: bold;\n              line-height: 1.5rem;\n              max-height: 3rem;\n              display: -webkit-box;\n              -webkit-box-orient: vertical;\n              -webkit-line-clamp: 2;\n              overflow: hidden;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_a font[data-v-694801e4] {\n                font-size: 12px;\n                color: #8c8c8c;\n                font-weight: normal;\n                margin-left: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_b[data-v-694801e4] {\n              font-size: 14px;\n              color: #8c8c8c;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_b span[data-v-694801e4] {\n                font-size: 20px;\n                color: #337ef9;\n                font-weight: bold;\n                margin-right: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_b span font[data-v-694801e4] {\n                  font-size: 12px;\n                  font-weight: normal;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box[data-v-694801e4] {\n              padding: 0.625rem 0;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods[data-v-694801e4] {\n                display: -webkit-box;\n                display: -ms-flexbox;\n                display: flex;\n                margin-bottom: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .img[data-v-694801e4] {\n                  width: 6.25rem;\n                  height: 6.25rem;\n                  background: #f8f8f8;\n                  overflow: hidden;\n                  margin: 0 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .img img[data-v-694801e4] {\n                    width: 100%;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info[data-v-694801e4] {\n                  text-align: left;\n                  width: 16rem;\n                  padding-right: 0.625rem;\n                  border-bottom: solid 0.0625rem #ebebeb;\n                  padding-bottom: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_a[data-v-694801e4] {\n                    font-size: 16px;\n                    font-weight: bold;\n                    line-height: 1.5rem;\n                    max-height: 3rem;\n                    display: -webkit-box;\n                    -webkit-box-orient: vertical;\n                    -webkit-line-clamp: 2;\n                    overflow: hidden;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_a font[data-v-694801e4] {\n                      font-size: 12px;\n                      color: #8c8c8c;\n                      font-weight: normal;\n                      margin-left: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_b[data-v-694801e4] {\n                    font-size: 14px;\n                    color: #8c8c8c;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_b span[data-v-694801e4] {\n                      font-size: 20px;\n                      color: #337ef9;\n                      font-weight: bold;\n                      margin-right: 0.625rem;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_b span font[data-v-694801e4] {\n                        font-size: 12px;\n                        font-weight: normal;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_c[data-v-694801e4] {\n                    font-size: 12px;\n                    color: #8c8c8c;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_d[data-v-694801e4] {\n                    font-size: 12px;\n                    color: #259b24;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_e[data-v-694801e4] {\n                    color: #f15353;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_e span[data-v-694801e4] {\n                      font-size: 20px;\n                      font-weight: bold;\n}\n#hotel_search #content .like_box .goods_box .goods .info .goods_box .goods .info .info_e font[data-v-694801e4]:last-child {\n                      color: #8c8c8c;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_d[data-v-694801e4] {\n              font-size: 12px;\n              color: #259b24;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_e[data-v-694801e4] {\n              color: #f15353;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_e span[data-v-694801e4] {\n                font-size: 20px;\n                font-weight: bold;\n}\n#hotel_search #content .like_box .goods_box .goods .info .info_e font[data-v-694801e4]:last-child {\n                color: #8c8c8c;\n}\n#hotel_search #content .y5[data-v-694801e4] {\n      position: fixed;\n      z-index: 1000;\n      right: 0;\n      bottom: 3.75rem;\n      width: 2.25rem;\n      height: 2.25rem;\n      background: rgba(0, 0, 0, 0.8) url(//static-o2o.360buyimg.com/daojia/new/images/menu/bm.png) 0.4375rem 0.4375rem no-repeat;\n      background-size: 4.0625rem 1.25rem;\n      border: 0.0625rem solid #757575;\n      border-radius: 0.25rem 0 0 0.25rem;\n}\n#hotel_search #content .y6[data-v-694801e4] {\n      position: absolute;\n      right: -0.0625rem;\n      bottom: 2.25rem;\n      width: 5.9375rem;\n      border: 0.0625rem solid #757575;\n      background: rgba(0, 0, 0, 0.8);\n}\n#hotel_search #content .y6 a[data-v-694801e4] {\n      display: block;\n      border-bottom: 0.0625rem solid #4b4b4b;\n      line-height: 2.1875rem;\n      height: 2.1875rem;\n      color: #fff;\n      background-image: url(//static-o2o.360buyimg.com/daojia/new/images/icon/bmenu.png);\n      background-repeat: no-repeat;\n      background-size: 1rem 18.75rem;\n}\n",""])}});