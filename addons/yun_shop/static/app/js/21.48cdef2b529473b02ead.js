webpackJsonp([21],{Dhqq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("fZjL"),n=i.n(o),s=i("woOf"),a=i.n(s),r=i("Pexp"),l=i("Tg7E"),c=i("bOdI"),d=i.n(c),u=document.createElement("canvas"),h=u.getContext("2d"),p={components:{},props:{DataInfo:{type:[String,Number,Object],default:[]}},data:function(){return{photosize:4194304,goodsHandle_1:{},dateshow_1:!1,regional:"请选择商品分类",onConfirmbtnIndex:[],titleTest:"商品发布",isType:!1,columns:[{values:[],className:"column1",defaultIndex:0},{values:[],className:"column2",defaultIndex:0},{values:[],className:"column3",defaultIndex:0}],cargon_data:{title:"",sku:"",thumb:"",price:"",market_price:"",cost_price:"",stock:""},imageUrl:"",uploadUrl:"",fileList1:[],fileList2:[],upNumMax:0,upNumMaxOther:0,fileList3:[],fileList4:[],options:[],selectedOptions3:[],sectionOptions:[],jumpState:!0,number:1,show1:!1,show2:!1,checkbox3:["2"],radio1:1,radio:"1",list:["a","b","c"],result:["a","b"]}},activated:function(){this.init(),this.urlUp(),this.getJson()},mounted:function(){this.init(),this.urlUp(),this.getJson();var e=document.body.clientHeight;"store"==this.$route.params.store?document.getElementById("basicInformation").style.height=e-126+"px":"supplier"==this.$route.params.store&&(document.getElementById("basicInformation").style.height=e-40+"px")},methods:{clearSrcoll:function(){var e,t;t=setInterval(function(){e=document.documentElement.scrollTop||document.body.scrollTop,e-=1,window.scrollTo(0,e),e+=1,window.scrollTo(0,e),clearInterval(t)},1)},init:function(){for(var e in this.cargon_data)this.cargon_data[e]="";this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.selectedOptions3=[],this.imageUrl="",this.fileList1=[],this.fileList2=[],this.fileList3=[],this.fileList4=[],this.upNumMax=0,this.upNumMaxOther=0,this.regional="请选择商品分类"},getGoodsJson:function(){var e=this;if(e.isType)console.log("goods_id为空，商品发布");else{if(e.selectedOptions3=[],e.selectedOptions3=[Number(e.DataInfo.category_ids.parentid),Number(e.DataInfo.category_ids.childid),Number(e.DataInfo.category_ids.thirdid)],Number(e.DataInfo.category_ids.parentid)){var t=[],i=0,o=0;if(e.options.forEach(function(o,n,s){o.id==e.DataInfo.category_ids.parentid&&(i=n,t.push(o.label))}),e.columns[0].defaultIndex=i,Number(e.DataInfo.category_ids.childid)&&(e.options[i].children.forEach(function(i,n,s){i.id==e.DataInfo.category_ids.childid&&(o=n,t.push(i.label))}),t.length>0&&(e.columns[1].values=e.goodsHandle_1[t[0]].map(function(e,t){return n()(e)[0]})),e.columns[1].defaultIndex=o,Number(e.DataInfo.category_ids.thirdid))){e.options[i].children[o].children.forEach(function(i,o,n){i.id==e.DataInfo.category_ids.thirdid&&(o,t.push(i.label))});var s=[];if(t.length>0)for(var a=0;a<e.goodsHandle_1[t[0]].length;a++)n()(e.goodsHandle_1[t[0]][a])[0]==t[1]&&(s=e.goodsHandle_1[t[0]][a][t[1]]);e.columns[2].values=s,e.columns[2].defaultIndex=o}e.regional=t.join("/")}if(e.cargon_data.title=e.DataInfo.title.replace(/&#60;/g,"<").replace(/&#062;/g,">").replace(/&#038;/g,"&").replace(/&#034;/g,'"').replace(/&#039;/g,"'"),e.cargon_data.sku=e.DataInfo.sku,e.imageUrl=e.DataInfo.thumb,e.cargon_data.thumb=e.DataInfo.thumb,null!=e.DataInfo.thumb_url&&""!=e.DataInfo.thumb_url){e.fileList3=[],e.fileList4=[],e.upNumMax=e.DataInfo.thumb_url.length;for(var r=0;r<e.DataInfo.thumb_url.length;r++)e.fileList3.push({url:e.DataInfo.thumb_url[r]}),e.fileList4.push({url:e.DataInfo.thumb_url[r]})}e.cargon_data.price=e.DataInfo.price,e.cargon_data.market_price=e.DataInfo.market_price,e.cargon_data.cost_price=e.DataInfo.cost_price,e.cargon_data.stock=e.DataInfo.stock}},getJson:function(){var e=this;if("store"==e.$route.params.store){var t={store_id:e.$route.params.store_id};$http.get("plugin.store-cashier.frontend.store.goods-category.get-category-by-store-id",t,"加载中").then(function(t){if(1===t.result){e.sectionOptions=[];for(var i=0;i<t.data.list.length;i++){e.sectionOptions.push({id:t.data.list[i].id,value:t.data.list[i].id,label:t.data.list[i].name,children:[]});for(var o=0;o<t.data.list[i].childrens.length;o++)e.sectionOptions[i].children.push({id:t.data.list[i].childrens[o].id,value:t.data.list[i].childrens[o].id,label:t.data.list[i].childrens[o].name})}console.log("---option----",e.sectionOptions),e.options=e.sectionOptions,e.goodsHandle_1=e.goodsHandlefunction_1(e.options)}else e.$notify(t.msg);e.getGoodsJson()},function(e){console.log(e)})}else if("supplier"==e.$route.params.store){$http.post("plugin.supplier.frontend.goods.get-category",{},"加载中").then(function(t){if(1===t.result){e.sectionOptions=[];for(var i=0;i<t.data.length;i++)if(e.sectionOptions.push({id:t.data[i].id,value:t.data[i].id,label:t.data[i].name,children:[]}),!t.data[i].childrens||t.data[i].childrens.length<1);else for(var o=0;o<t.data[i].childrens.length;o++)if(e.sectionOptions[i].children.push({id:t.data[i].childrens[o].id,value:t.data[i].childrens[o].id,label:t.data[i].childrens[o].name,children:[]}),!t.data[i].childrens[o].childrens||t.data[i].childrens[o].childrens.length<1);else for(var n=0;n<t.data[i].childrens[o].childrens.length;n++)e.sectionOptions[i].children[o].children.push({id:t.data[i].childrens[o].childrens[n].id,value:t.data[i].childrens[o].childrens[n].id,label:t.data[i].childrens[o].childrens[n].name});console.log("---option----",e.sectionOptions),e.options=e.sectionOptions,e.goodsHandle_1=e.goodsHandlefunction_1(e.options)}else e.$notify(t.msg);e.getGoodsJson()},function(e){console.log(e)})}},classifyChange:function(e){console.log("选择分类返回值",e),this.selectedOptions3=e},parentHandleclick:function(){var e=this;this.jumpEvent();var t=[];if(0!=this.fileList1.length)for(var i=0;i<this.fileList1.length;i++)t.push(this.fileList1[i].url);else t=[];var o=[];if(0!=this.fileList3.length)for(var n=0;n<this.fileList3.length;n++)o.push(this.fileList3[n].url);else o=[];var s={};if("store"==this.$route.params.store)s={store_id:this.$route.params.store_id,category_pid:this.selectedOptions3[0],category_cid:this.selectedOptions3[1],title:this.cargon_data.title,thumb:this.cargon_data.thumb,thumb_url:o,cost_price:this.cargon_data.cost_price,market_price:this.cargon_data.market_price,price:this.cargon_data.price,sku:this.cargon_data.sku,stock:this.cargon_data.stock},this.isType&&(s.good_content=t);else if("supplier"==this.$route.params.store){if(s={title:this.cargon_data.title,thumb:this.cargon_data.thumb,thumb_url:o,cost_price:this.cargon_data.cost_price,market_price:this.cargon_data.market_price,price:this.cargon_data.price,sku:this.cargon_data.sku,stock:this.cargon_data.stock},this.isType&&(s.good_content=t),this.selectedOptions3.length<2)return document.documentElement.scrollTop=0,document.body.scrollTop=0,this.$refs.classify.className="classify",setTimeout(function(){e.$refs.classify.className=""},3e3),void this.$notify("必须选择二级分类");this.selectedOptions3.length<3?(s.category_pid=this.selectedOptions3[0],s.category_cid=this.selectedOptions3[1]):(s.category_pid=this.selectedOptions3[0],s.category_cid=this.selectedOptions3[1],s.category_tid=this.selectedOptions3[2])}this.$emit("getChildoneData",s)},jumpEvent:function(){for(var e in this.jumpState=!0,this.cargon_data)""==this.cargon_data[e]&&(this.jumpState=!1);0==this.selectedOptions3.length&&(this.jumpState=!1),""==this.imageUrl&&(this.jumpState=!1)},urlUp:function(){"store"==this.$route.params.store?this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}):"supplier"==this.$route.params.store&&(this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}))},handleStoreSuccess:function(e,t){console.log("------param-----",e,t),this.imageUrl=URL.createObjectURL(t.raw),1==e.result?(this.cargon_data.thumb=e.data.img,console.log("url-fabu",this.imageUrl)):Object(l.Toast)(e.msg)},beforeUpload:function(e){var t="image/png"===e.type||"image/jpeg"===e.type,i=e.size/1024/1024<2;return t||this.$notify("上传头像图片只能是 JPG或PNG 格式!"),i||this.$notify("上传头像图片大小不能超过 2MB!"),t&&i},handleAptiSuccess:function(e,t){console.log("------param-----",e,t),1==e.result?this.fileList1.push({url:e.data.img}):Object(l.Toast)(e.msg)},handleAptiRemove:function(e,t){console.log("handleStoreRemove:",e,t),this.upNumMax=t.length;var i=e.url;if(i){var o="";this.fileList1.forEach(function(e,t,n){e.url==i&&(o=t)}),this.fileList1.splice(o,1)}},occlusion:function(){this.$notify({background:"#fef0f0",message:"图片数量已达到上限",color:"#f56c6c"})},handleChange:function(e,t){console.log("change--u",e,t),this.upNumMax=t.length},handleAptiSuccessOther:function(e,t){console.log("------param-----",e,t),1==e.result?this.fileList3.push({url:e.data.img}):Object(l.Toast)(e.msg)},handleAptiRemoveOther:function(e,t){console.log("handleStoreRemove:",e,t),this.upNumMaxOther=t.length;var i=e.url;if(i){var o="";this.fileList3.forEach(function(e,t,n){e.url==i&&(o=t)}),this.fileList3.splice(o,1)}},occlusionOther:function(){this.$notify({background:"#fef0f0",message:"图片数量已达到上限",color:"#f56c6c"})},handleChangeOther:function(e,t){console.log("change--u",e,t),this.upNumMaxOther=t.length},imgPreview:function(e,t){var i=this;if(e&&window.FileReader&&/^image/.test(e.type)){var o=new FileReader;o.readAsDataURL(e),o.onloadend=function(){var o=this.result,n=new Image;n.src=o,n.onload=function(){var o=this.width,s=this.height,a=o,r=s;(o>400||s>400)&&(o/s>1?(a=400,r=Math.round(s/o*400)):(r=400,a=Math.round(o/s*400))),u.width=a,u.height=r,h.clearRect(0,0,a,r),h.drawImage(n,0,0,a,r),u.toBlob(function(e){console.log(e),1===t?i.onRead(e,!0):2===t?i.multipleMethod_1(e,!0):i.multipleMethod_2(e,!0)},e.type||"image/png")}}}},onRead:function(e,t){if(!0!==t&&e.file.size>this.photosize)return this.imgPreview(e.file,1),!1;var i=new FormData;!0===t?i.append("file",e):i.append("file",e.file);var o=this;axios.post(this.uploadUrl,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){var n=i.data;1==n.result?(o.imageUrl=!0===t?URL.createObjectURL(e):URL.createObjectURL(e.file),o.cargon_data.thumb=n.data.img,console.log("url-fabu",o.imageUrl)):Object(l.Toast)(n.msg)}).catch(function(e){console.log(e)})},multipleMethod_1:function(e,t){if(e&&e.length)for(var i=0;i<e.length;i++)this.onRead_1(e[i],t);else this.onRead_1(e,t)},multipleMethod_2:function(e,t){if(e&&e.length)for(var i=0;i<e.length;i++)this.onRead_2(e[i],t);else this.onRead_2(e,t)},onRead_1:function(e,t){var i=this;if(!0!==t)if(e&&e.length)e.forEach(function(e){if(e.file.size>i.photosize)return i.imgPreview(e.file,2),!1});else if(e.file.size>this.photosize)return this.imgPreview(e.file,2),!1;l.Indicator.open("上传中");var o=this,n=new FormData;!0===t?n.append("file",e):n.append("file",e.file),n.append("attach","upload"),axios.post(this.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){var n=i.data;1==n.result?(l.Indicator.close(),o.fileList1.push({url:n.data.img}),!0===t?o.fileList2.push({url:URL.createObjectURL(e)}):o.fileList2.push({url:URL.createObjectURL(e.file)})):(l.Indicator.close(),Object(l.Toast)(n.msg))}).catch(function(e){l.Indicator.close(),console.log(e)})},removeImg:function(e){this.fileList1.splice(e,1),this.fileList2.splice(e,1)},onRead_2:function(e,t){var i=this;if(!0!==t)if(e&&e.length)e.forEach(function(e){if(e.file.size>i.photosize)return i.imgPreview(e.file,3),!1});else if(e.file.size>this.photosize)return this.imgPreview(e.file,3),!1;l.Indicator.open("上传中");var o=this,n=new FormData;!0===t?n.append("file",e):n.append("file",e.file),n.append("attach","upload"),axios.post(this.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(i){var n=i.data;1==n.result?(l.Indicator.close(),o.fileList3.push({url:n.data.img}),!0===t?o.fileList4.push({url:URL.createObjectURL(e)}):o.fileList4.push({url:URL.createObjectURL(e.file)})):(l.Indicator.close(),Object(l.Toast)(n.msg))}).catch(function(e){l.Indicator.close(),console.log(e)})},removeImg_1:function(e){this.fileList3.splice(e,1),this.fileList4.splice(e,1)},goodsHandlefunction_1:function(e){var t={},i=e.map(function(e,t){return e.label});this.columns[0].values=i,Array.isArray(e[0].children)?(this.columns[1].values=e[0].children.map(function(e,t){return e.label}),e[0].children[0]&&(Array.isArray(e[0].children[0].children)?this.columns[2].values=e[0].children[0].children.map(function(e,t){return e.label}):this.columns[2].values=[])):this.columns[1].values=[];for(var o=0;o<i.length;o++){Array.isArray(e[o].children)?t[i[o]]=e[o].children.map(function(e,t){return e.label}):t[i[o]]=[];for(var n=0;n<e[o].children.length;n++)if(Array.isArray(e[o].children[n].children)){var s=e[o].children[n].children.map(function(e,t){return e.label});t[i[o]][n]=d()({},t[i[o]][n],s)}else t[i[o]][n]=d()({},t[i[o]][n],[])}return t},seleRegional:function(){this.dateshow_1=!0,this.$emit("CoverLayer",!0)},onChange:function(e,t,i){var o=e.getColumnValue(0),s=e.getColumnValue(1);e.getColumnValue(2);if(0==i)if(this.goodsHandle_1[t[0]].length>0){var a=this.goodsHandle_1[t[0]].map(function(e,t){return n()(e)[0]});e.setColumnValues(1,a),e.setColumnValues(2,this.goodsHandle_1[t[0]][0][a[0]])}else e.setColumnValues(1,[]),e.setColumnValues(2,[]);else if(1==i){for(var r=[],l=0;l<this.goodsHandle_1[o].length;l++)n()(this.goodsHandle_1[o][l])[0]==s&&(r=this.goodsHandle_1[o][l][s]);e.setColumnValues(2,r)}},onCancelbtn:function(e,t){this.dateshow_1=!1,this.$emit("CoverLayer",!1)},onConfirmbtn:function(e,t){var i=[],o=this.options;if(Array.isArray(o)&&o.length>0&&Array.isArray(t)){if(i.push(o[t[0]].id),!(Array.isArray(o[t[0]].children)&&o[t[0]].children.length>0))return this.$notify("至少要选择二级分类"),this.dateshow_1=!1,void this.$emit("CoverLayer",!1);i.push(o[t[0]].children[t[1]].id),Array.isArray(o[t[0]].children[t[1]].children)&&o[t[0]].children[t[1]].children.length>0&&i.push(o[t[0]].children[t[1]].children[t[2]].id)}this.selectedOptions3=i,this.dateshow_1=!1,this.$emit("CoverLayer",!1),Array.isArray(e)?this.regional=e.join("/"):this.regional=e,this.onConfirmbtnIndex=t},isCoverLayer:function(){this.$emit("CoverLayer",!1)}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{supplierClass:"supplier"==this.$route.params.store},attrs:{id:"basicInformation"}},[o("section",{attrs:{id:"edit-a"}},[o("ul",{staticClass:"number_power"},[o("li",[o("span",[e._v("商品名称:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.title,expression:"cargon_data.title"}],attrs:{type:"text",placeholder:"请输入商品名称"},domProps:{value:e.cargon_data.title},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"title",t.target.value)}}})]),e._v(" "),o("li",[o("span",[e._v("商品单位:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.sku,expression:"cargon_data.sku"}],attrs:{type:"text",placeholder:"请输入商品单位"},domProps:{value:e.cargon_data.sku},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"sku",t.target.value)}}})])])]),e._v(" "),o("section",{ref:"classify",staticStyle:{height:"48px",background:"white","margin-top":"10px","line-height":"48px"}},[o("span",{staticStyle:{float:"left","font-size":"16px","padding-left":"10px","box-sizing":"border-box"}},[e._v("商品分类：")]),e._v(" "),o("span",{staticClass:"block",staticStyle:{float:"left"}},[o("van-button",{staticStyle:{"max-width":"15rem",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","border-radius":"5px",color:"#1f2d3d",border:"1px solid #bfcbd9","min-width":"5rem"},attrs:{plain:"",type:"primary"},on:{click:e.seleRegional}},[e._v(e._s(e.regional)+"\n        ")])],1)]),e._v(" "),o("section",{attrs:{id:"edit-b"}},[o("div",{staticClass:"top"},[e._m(0),e._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("div",[o("van-uploader",{attrs:{"after-read":e.onRead}},[o("div",{staticStyle:{padding:"1rem",width:"6rem",height:"6rem",border:"1px dashed #c0ccda",margin:"0 auto"}},[o("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:e.imageUrl?e.imageUrl:i("/n1I")}})])])],1)])])]),e._v(" "),this.$route.params.goods_id?e._e():o("section",{staticClass:"otherphoto",staticStyle:{background:"white","margin-top":"0.625rem","padding-bottom":"10px","box-sizing":"border-box"}},[e._m(1),e._v(" "),o("div",{staticClass:"clearfloat imgflex",staticStyle:{"text-align":"center"}},[e._l(e.fileList2,function(t,i){return[o("div",{staticClass:"photobox"},[o("img",{staticStyle:{width:"100%"},attrs:{src:t.url}}),e._v(" "),o("i",{on:{click:function(t){return e.removeImg(i)}}})])]}),e._v(" "),o("van-uploader",{attrs:{"after-read":e.multipleMethod_1,multiple:""}},[o("div",{staticStyle:{padding:"1rem",width:"5rem",height:"5rem",border:"1px dashed #c0ccda","margin-left":"0.2rem","margin-right":"0.2rem"}},[o("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:i("/n1I")}})])])],2)]),e._v(" "),o("section",{staticClass:"otherphoto",staticStyle:{background:"white","margin-top":"0.625rem","padding-bottom":"10px","box-sizing":"border-box"}},[e._m(2),e._v(" "),o("div",{staticClass:"clearfloat  imgflex",staticStyle:{"text-align":"center"}},[e._l(e.fileList4,function(t,i){return[o("div",{staticClass:"photobox"},[o("img",{staticStyle:{width:"100%"},attrs:{src:t.url}}),e._v(" "),o("i",{on:{click:function(t){return e.removeImg_1(i)}}})])]}),e._v(" "),o("van-uploader",{attrs:{"after-read":e.multipleMethod_2,multiple:""}},[o("div",{staticStyle:{padding:"1rem",width:"5rem",height:"5rem",border:"1px dashed #c0ccda","margin-left":"0.2rem","margin-right":"0.2rem"}},[o("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:i("/n1I")}})])])],2)]),e._v(" "),o("section",{attrs:{id:"edit-c"}},[o("ul",{staticClass:"number_power"},[o("li",[o("span",[e._v("商品现价:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.price,expression:"cargon_data.price"}],attrs:{type:"number",placeholder:"请输入商品现价"},domProps:{value:e.cargon_data.price},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"price",t.target.value)}}})]),e._v(" "),o("li",[o("span",[e._v("商品原价:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.market_price,expression:"cargon_data.market_price"}],attrs:{type:"number",placeholder:"请输入商品原价"},domProps:{value:e.cargon_data.market_price},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"market_price",t.target.value)}}})]),e._v(" "),o("li",[o("span",[e._v("商品成本:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.cost_price,expression:"cargon_data.cost_price"}],attrs:{type:"number",placeholder:"请输入商品原价"},domProps:{value:e.cargon_data.cost_price},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"cost_price",t.target.value)}}})])])]),e._v(" "),o("section",{attrs:{id:"edit-d"}},[o("ul",{staticClass:"number_power"},[o("li",[o("span",[e._v("商品库存:")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cargon_data.stock,expression:"cargon_data.stock"}],attrs:{type:"number",placeholder:"请输入商品库存"},domProps:{value:e.cargon_data.stock},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||e.$set(e.cargon_data,"stock",t.target.value)}}})])])]),e._v(" "),o("div",{staticClass:"bottomPlaceholder"}),e._v(" "),o("van-popup",{staticClass:"fenleiDiv",attrs:{position:"bottom",overlay:!0},on:{"click-overlay":e.isCoverLayer},model:{value:e.dateshow_1,callback:function(t){e.dateshow_1=t},expression:"dateshow_1"}},[o("van-picker",{attrs:{columns:e.columns,"show-toolbar":""},on:{change:e.onChange,cancel:e.onCancelbtn,confirm:e.onConfirmbtn}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"3.125rem","text-align":"left","line-height":"3.125rem","padding-left":"10px","box-size":"border-box"}},[t("span",{staticStyle:{"font-size":"16px"}},[this._v("商品图片：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"50px","text-align":"left","padding-left":"13px","line-height":"50px"}},[t("span",{staticStyle:{"font-size":"16px"}},[this._v("商品详情：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"50px","text-align":"left","padding-left":"13px","line-height":"50px"}},[t("span",{staticStyle:{"font-size":"16px"}},[this._v("其他图片：")])])}]};var f=i("VU/8")(p,m,!1,function(e){i("ep/9")},"data-v-73628643",null).exports,_={props:{DataInfo:{type:[String,Number,Object],default:[]},GoodSetData:{type:[String,Number,Object],default:[]}},data:function(){return{show_levels_CheckedAll:!1,buy_levels_CheckedAll:!1,show_groups_CheckedAll:!1,buy_groups_CheckedAll:!1,isType:!1,show1:!1,show2:!1,show3:!1,show4:!1,levelsList:[],buy_levels:[],show_levels:[],groupsList:[],show_groups:[],buy_groups:[],once_buy_limit:"",total_buy_limit:"",day_buy_limit:"",week_buy_limit:"",month_buy_limit:"",hyll_Model:[],hygm_Model:[],hyzll_Model:[],hyzgm_Model:[]}},activated:function(){this.init(),this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.getDataInfo()},mounted:function(){this.init(),this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.getDataInfo();var e=document.body.clientHeight;document.getElementById("Permissions").style.height=e-82+"px"},methods:{clearSrcoll:function(){var e,t;t=setInterval(function(){e=document.documentElement.scrollTop||document.body.scrollTop,e-=1,window.scrollTo(0,e),e+=1,window.scrollTo(0,e),clearInterval(t)},1)},init:function(){this.show_levels_CheckedAll=!1,this.buy_levels_CheckedAll=!1,this.show_groups_CheckedAll=!1,this.buy_groups_CheckedAll=!1,this.show1=!1,this.show2=!1,this.show3=!1,this.show4=!1},getDataInfo:function(){var e=this;if(e.levelsList=e.GoodSetData.member_level,e.groupsList=e.GoodSetData.member_group,e.isType)console.log("发布55555",e.GoodSetData.member_level,e.GoodSetData.member_group);else{console.log("编辑55555",e.GoodSetData.member_level,e.GoodSetData.member_group),e.show_levels=this.DataInfo.privilege.show_levels,e.show_groups=this.DataInfo.privilege.show_groups,e.buy_levels=this.DataInfo.privilege.buy_levels,e.buy_groups=this.DataInfo.privilege.buy_groups,e.once_buy_limit=this.DataInfo.privilege.once_buy_limit,e.total_buy_limit=this.DataInfo.privilege.total_buy_limit,e.day_buy_limit=this.DataInfo.privilege.day_buy_limit,e.week_buy_limit=this.DataInfo.privilege.week_buy_limit,e.month_buy_limit=this.DataInfo.privilege.month_buy_limit;var t=e.levelsList.filter(function(t){return-1!==e.DataInfo.privilege.show_levels.indexOf(t.id)});e.hyll_Model=t.map(function(e){return e.level_name});var i=e.levelsList.filter(function(t){return-1!==e.DataInfo.privilege.buy_levels.indexOf(t.id)});e.hygm_Model=i.map(function(e){return e.level_name});var o=e.groupsList.filter(function(t){return-1!==e.DataInfo.privilege.show_groups.indexOf(t.id)});e.hyzll_Model=o.map(function(e){return e.group_name});var n=e.groupsList.filter(function(t){return-1!==e.DataInfo.privilege.buy_groups.indexOf(t.id)});e.hyzgm_Model=n.map(function(e){return e.group_name})}},change:function(e,t){this.show_levels_CheckedAll=t;var i=this,o=this.levelsList.filter(function(e){return-1!==i.show_levels.indexOf(e.id)});this.hyll_Model=o.map(function(e){return e.level_name})},listCheckAllChange:function(e,t){this.buy_levels_CheckedAll=t;var i=this,o=this.levelsList.filter(function(e){return-1!==i.buy_levels.indexOf(e.id)});this.hygm_Model=o.map(function(e){return e.level_name})},showGroupsChange:function(e,t){this.show_groups_CheckedAll=t;var i=this,o=this.groupsList.filter(function(e){return-1!==i.show_groups.indexOf(e.id)});this.hyzll_Model=o.map(function(e){return e.group_name})},buyGroupsChange:function(e,t){this.buy_groups_CheckedAll=t;var i=this,o=this.groupsList.filter(function(e){return-1!==i.buy_groups.indexOf(e.id)});this.hyzgm_Model=o.map(function(e){return e.group_name})},checkAll:function(){this.show_levels_CheckedAll=!this.show_levels_CheckedAll,this.$refs.checklistDemo.$emit("ydui.checklist.checkall",this.show_levels_CheckedAll)},checkAllBuyLevels:function(){this.buy_levels_CheckedAll=!this.buy_levels_CheckedAll,this.$refs.checklistCheckAll.$emit("ydui.checklist.checkall",this.buy_levels_CheckedAll)},checkAllShowGroups:function(){this.show_groups_CheckedAll=!this.show_groups_CheckedAll,this.$refs.ShowGroupsCheckAll.$emit("ydui.checklist.checkall",this.show_groups_CheckedAll)},checkAllBuyGroups:function(){this.buy_groups_CheckedAll=!this.buy_groups_CheckedAll,this.$refs.buyGroupsCheckAll.$emit("ydui.checklist.checkall",this.buy_groups_CheckedAll)},PermissionsJson:function(){var e={};"1"==this.GoodSetData.goods_widgets.tab_privilege&&(e={show_levels:this.show_levels,buy_levels:this.buy_levels,show_groups:this.show_groups,buy_groups:this.buy_groups,once_buy_limit:this.once_buy_limit,total_buy_limit:this.total_buy_limit,day_buy_limit:this.day_buy_limit,week_buy_limit:this.week_buy_limit,month_buy_limit:this.month_buy_limit}),this.$emit("getChildtwoData",e)},showPopup:function(e){switch(this.$emit("CoverLayer",!0),e){case 1:this.show1=!0;break;case 2:this.show2=!0;break;case 3:this.show3=!0;break;case 4:this.show4=!0;break;default:this.show1=!1,this.show2=!1,this.show3=!1,this.show4=!1,this.$emit("CoverLayer",!1)}},isCoverLayer:function(){this.$emit("CoverLayer",!1)}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Permissions"}},[i("div",{staticClass:"power_box"},[i("ul",{staticClass:"member_power"},[i("li",[i("span",[e._v("会员等级浏览权限：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hyll_Model,expression:"hyll_Model"}],attrs:{type:"text",readonly:"",placeholder:"请选择"},domProps:{value:e.hyll_Model},on:{click:function(t){return e.showPopup(1)},input:function(t){t.target.composing||(e.hyll_Model=t.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-angle-right"})]),e._v(" "),i("li",[i("span",[e._v("会员等级购买权限：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hygm_Model,expression:"hygm_Model"}],attrs:{type:"text",readonly:"",placeholder:"请选择"},domProps:{value:e.hygm_Model},on:{click:function(t){return e.showPopup(2)},input:function(t){t.target.composing||(e.hygm_Model=t.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-angle-right"})]),e._v(" "),i("li",[i("span",[e._v("会员组浏览权限：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hyzll_Model,expression:"hyzll_Model"}],attrs:{type:"text",readonly:"",placeholder:"请选择"},domProps:{value:e.hyzll_Model},on:{click:function(t){return e.showPopup(3)},input:function(t){t.target.composing||(e.hyzll_Model=t.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-angle-right"})]),e._v(" "),i("li",[i("span",[e._v("会员组购买权限：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hyzgm_Model,expression:"hyzgm_Model"}],attrs:{type:"text",readonly:"",placeholder:"请选择"},domProps:{value:e.hyzgm_Model},on:{click:function(t){return e.showPopup(4)},input:function(t){t.target.composing||(e.hyzgm_Model=t.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-angle-right"})])]),e._v(" "),i("ul",{staticClass:"number_power"},[i("li",[i("span",[e._v("每次限购数量：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.once_buy_limit,expression:"once_buy_limit"}],attrs:{type:"text",placeholder:"请输入每次下单限购数量"},domProps:{value:e.once_buy_limit},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||(e.once_buy_limit=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("会员限购总数：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.total_buy_limit,expression:"total_buy_limit"}],attrs:{type:"text",placeholder:"请输入会员限购的总数"},domProps:{value:e.total_buy_limit},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||(e.total_buy_limit=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("会员每天限购总数：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.day_buy_limit,expression:"day_buy_limit"}],attrs:{type:"text",placeholder:"请输入会员每天限购数量"},domProps:{value:e.day_buy_limit},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||(e.day_buy_limit=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("会员每周期限购数量：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.week_buy_limit,expression:"week_buy_limit"}],attrs:{type:"text",placeholder:"请输入会员每周期限购数量"},domProps:{value:e.week_buy_limit},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||(e.week_buy_limit=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("会员每月限购数量：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.month_buy_limit,expression:"month_buy_limit"}],attrs:{type:"text",placeholder:"请输入会员每月限购数",id:"inputs"},domProps:{value:e.month_buy_limit},on:{blur:function(t){return e.clearSrcoll()},input:function(t){t.target.composing||(e.month_buy_limit=t.target.value)}}})])])]),e._v(" "),e.show1?i("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":e.isCoverLayer},model:{value:e.show1,callback:function(t){e.show1=t},expression:"show1"}},[i("div",{staticClass:"select_box"},[i("div",{staticClass:"title"},[i("h2",[e._v("会员等级浏览权限")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:e.showPopup}})]),e._v(" "),i("div",{staticClass:"list"},[e.levelsList.length?i("yd-checkbox",{attrs:{shape:"circle",change:e.checkAll},model:{value:e.show_levels_CheckedAll,callback:function(t){e.show_levels_CheckedAll=t},expression:"show_levels_CheckedAll"}},[e._v("全选 ")]):e._e(),e._v(" "),i("yd-checklist",{ref:"checklistDemo",attrs:{color:"#f15353",callback:e.change},model:{value:e.show_levels,callback:function(t){e.show_levels=t},expression:"show_levels"}},e._l(e.levelsList,function(t,o){return i("yd-checklist-item",{key:o,staticClass:"deletaAtfer",attrs:{val:t.id}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[e._v(e._s(t.level_name))])])}),1),e._v(" "),e.levelsList.length?e._e():i("h2",{staticStyle:{"text-align":"center",margin:"15px 0"}},[e._v("暂无数据")])],1),e._v(" "),i("div",{staticClass:"select_btn",on:{click:e.showPopup}},[i("button",{attrs:{type:"button"}},[e._v("完成")])])])]):e._e(),e._v(" "),e.show2?i("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":e.isCoverLayer},model:{value:e.show2,callback:function(t){e.show2=t},expression:"show2"}},[i("div",{staticClass:"select_box"},[i("div",{staticClass:"title"},[i("h2",[e._v("会员等级购买权限")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:e.showPopup}})]),e._v(" "),i("div",{staticClass:"list"},[e.levelsList.length?i("yd-checkbox",{attrs:{shape:"circle",change:e.checkAllBuyLevels},model:{value:e.buy_levels_CheckedAll,callback:function(t){e.buy_levels_CheckedAll=t},expression:"buy_levels_CheckedAll"}},[e._v("全选 ")]):e._e(),e._v(" "),i("yd-checklist",{ref:"checklistCheckAll",attrs:{color:"#f15353",callback:e.listCheckAllChange},model:{value:e.buy_levels,callback:function(t){e.buy_levels=t},expression:"buy_levels"}},e._l(e.levelsList,function(t,o){return i("yd-checklist-item",{key:o,staticClass:"deletaAtfer",attrs:{val:t.id}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[e._v(e._s(t.level_name))])])}),1),e._v(" "),e.levelsList.length?e._e():i("h2",{staticStyle:{"text-align":"center",margin:"15px 0"}},[e._v("暂无数据")])],1),e._v(" "),i("div",{staticClass:"select_btn",on:{click:e.showPopup}},[i("button",{attrs:{type:"button"}},[e._v("完成")])])])]):e._e(),e._v(" "),e.show3?i("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":e.isCoverLayer},model:{value:e.show3,callback:function(t){e.show3=t},expression:"show3"}},[i("div",{staticClass:"select_box"},[i("div",{staticClass:"title"},[i("h2",[e._v("会员组浏览权限")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:e.showPopup}})]),e._v(" "),i("div",{staticClass:"list"},[e.groupsList.length?i("yd-checkbox",{attrs:{shape:"circle",change:e.checkAllShowGroups},model:{value:e.show_groups_CheckedAll,callback:function(t){e.show_groups_CheckedAll=t},expression:"show_groups_CheckedAll"}},[e._v("全选 ")]):e._e(),e._v(" "),i("yd-checklist",{ref:"ShowGroupsCheckAll",attrs:{color:"#f15353",callback:e.showGroupsChange},model:{value:e.show_groups,callback:function(t){e.show_groups=t},expression:"show_groups"}},e._l(e.groupsList,function(t,o){return i("yd-checklist-item",{key:o,staticClass:"deletaAtfer",attrs:{val:t.id}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[e._v(e._s(t.group_name))])])}),1),e._v(" "),e.groupsList.length?e._e():i("h2",{staticStyle:{"text-align":"center",margin:"15px 0"}},[e._v("暂无数据")])],1),e._v(" "),i("div",{staticClass:"select_btn",on:{click:e.showPopup}},[i("button",{attrs:{type:"button"}},[e._v("完成")])])])]):e._e(),e._v(" "),e.show4?i("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":e.isCoverLayer},model:{value:e.show4,callback:function(t){e.show4=t},expression:"show4"}},[i("div",{staticClass:"select_box"},[i("div",{staticClass:"title"},[i("h2",[e._v("会员组购买权限")]),e._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:e.showPopup}})]),e._v(" "),i("div",{staticClass:"list"},[e.groupsList.length?i("yd-checkbox",{attrs:{shape:"circle",change:e.checkAllBuyGroups},model:{value:e.buy_groups_CheckedAll,callback:function(t){e.buy_groups_CheckedAll=t},expression:"buy_groups_CheckedAll"}},[e._v("全选 ")]):e._e(),e._v(" "),i("yd-checklist",{ref:"buyGroupsCheckAll",attrs:{color:"#f15353",callback:e.buyGroupsChange},model:{value:e.buy_groups,callback:function(t){e.buy_groups=t},expression:"buy_groups"}},e._l(e.groupsList,function(t,o){return i("yd-checklist-item",{key:o,staticClass:"deletaAtfer",attrs:{val:t.id}},[i("div",{staticStyle:{height:"50px","line-height":"50px"}},[e._v(e._s(t.group_name))])])}),1),e._v(" "),e.groupsList.length?e._e():i("h2",{staticStyle:{"text-align":"center",margin:"15px 0"}},[e._v("暂无数据")])],1),e._v(" "),i("div",{staticClass:"select_btn",on:{click:e.showPopup}},[i("button",{attrs:{type:"button"}},[e._v("完成")])])])]):e._e()],1)},staticRenderFns:[]};var v=i("VU/8")(_,g,!1,function(e){i("UtcW")},"data-v-5c427b30",null).exports,b={props:{DataInfo:{type:[String,Number,Object],default:[]},GoodSetData:{type:[String,Number,Object],default:[]}},data:function(){return{isType:!1,levelsList:[],discount_value:{},level_discount_type:!0,discount_method:"1"}},activated:function(){this.levelsList=[],this.discount_value={},this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.getDataInfo()},mounted:function(){this.levelsList=[],this.discount_value={},this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.getDataInfo();var e=document.body.clientHeight;document.getElementById("discount").style.height=e-82+"px"},methods:{clearSrcoll:function(){var e,t;t=setInterval(function(){e=document.documentElement.scrollTop||document.body.scrollTop,e-=1,window.scrollTo(0,e),e+=1,window.scrollTo(0,e),clearInterval(t)},1)},getDataInfo:function(){this.levelsList=this.GoodSetData.member_level,this.isType||(this.level_discount_type=Boolean(this.DataInfo.discount.level_discount_type),this.discount_method=this.DataInfo.discount.discount_method.toString(),this.discount_value=this.DataInfo.discount.discount_value)},dddd:function(){console.log(this.discount_value)},DiscountJson:function(){var e={};"1"==this.GoodSetData.goods_widgets.tab_discount&&(e={level_discount_type:this.level_discount_type?1:0,discount_method:"1"==this.discount_method?1:2,discount_value:this.discount_value}),this.$emit("getChildthreeData",e),this.$emit("getSignthree",this.levelsList.length)}},computed:{}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"discount"}},[i("div",{staticClass:"rebate_box"},[i("ul",{staticClass:"type"},[i("li",[i("span",[e._v("折扣类型：")]),e._v(" "),i("van-checkbox",{attrs:{"checked-color":"#f15353"},model:{value:e.level_discount_type,callback:function(t){e.level_discount_type=t},expression:"level_discount_type"}},[e._v("\n          会员等级\n        ")])],1),e._v(" "),i("li",[i("span",[e._v("折扣方式：")]),e._v(" "),i("van-radio-group",{model:{value:e.discount_method,callback:function(t){e.discount_method=t},expression:"discount_method"}},[i("van-radio",{attrs:{name:"1"}},[e._v("折扣")]),e._v(" "),i("van-radio",{attrs:{name:"2"}},[e._v("固定金额")])],1)],1)]),e._v(" "),i("ul",{staticClass:"member_number"},e._l(e.levelsList,function(t,o){return i("li",{key:o},[i("span",[e._v(e._s(t.level_name))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.discount_value[t.id],expression:"discount_value[item.id]"}],attrs:{type:"text",placeholder:"请输入等级折扣"},domProps:{value:e.discount_value[t.id]},on:{blur:function(t){return e.clearSrcoll()},input:function(i){i.target.composing||e.$set(e.discount_value,t.id,i.target.value)}}})])}),0)])])},staticRenderFns:[]};var x=i("VU/8")(b,y,!1,function(e){i("GoT8")},"data-v-92cf3504",null).exports,w={components:{cTitle:r.a,BasicInformation:f,Permissions:v,Discounts:x},data:function(){return{DataInfo:[],isQuesetOk:!1,GoodSetData:[],postJson:{},titleTest:"商品发布",isType:!1,showCoverLayer:!1,Signthree:0,options:[],selectedOptions3:[],sectionOptions:[],jumpState:!0,number:1,show1:!1,show2:!1,checkbox3:["2"],radio1:1,radio:"1",list:["a","b","c"],result:["a","b"],isShowprivilege:!1,isShowdiscount:!1}},activated:function(){this.init(),this.isType=this.fun.isTextEmpty(this.$route.params.goods_id),this.getGoodsJson(),this._setTitle()},mounted:function(){if("store"==this.$route.params.store){var e=document.body.clientHeight;document.getElementById("navContetH").style.height=e-40+"px",document.getElementById("navId").style.height=e-40+"px"}},updated:function(){},methods:{init:function(){this.DataInfo=[],this.GoodSetData=[],this.isQuesetOk=!1,this.postJson={}},_setTitle:function(){this.isType?this.titleTest="发布":(this.fun.setWXTitle("商品编辑"),this.titleTest="编辑")},isCoverLayer:function(e){this.showCoverLayer=e},getChildoneData:function(e){this.postJson=a()(this.postJson,e)},getGoodsJson:function(){var e=this,t="",i={};e.isType?("store"==e.$route.params.store?e.getGoodSetting():e.isQuesetOk=!0,console.log("goods_id为空，当前为商品发布")):("store"==e.$route.params.store?(t="plugin.store-cashier.frontend.store.goods.get-goods-detail",i={goods_id:e.$route.params.goods_id}):"supplier"==e.$route.params.store&&(t="plugin.supplier.frontend.goods.goods-detail",i={goods_id:e.$route.params.goods_id}),$http.post(t,i,"加载中").then(function(t){1===t.result?(e.DataInfo=t.data,"store"==e.$route.params.store?e.getGoodSetting():e.isQuesetOk=!0):e.$notify(t.msg)},function(e){console.log(e)}))},getGoodSetting:function(){var e=this;$http.post("plugin.store-cashier.frontend.store.goods.get-store-goods-setting",{},"加载中").then(function(t){1===t.result&&(e.isQuesetOk=!0,e.GoodSetData=t.data,"1"==t.data.goods_widgets.tab_privilege&&(e.isShowprivilege=!0),"1"==t.data.goods_widgets.tab_discount&&(e.isShowdiscount=!0))},function(e){console.log(e)})},getSignthree:function(e){this.Signthree=e},publishEvent:function(){var e=this,t="",i={};if(e.$refs.mychild.parentHandleclick(),"store"==e.$route.params.store&&(e.isShowprivilege&&e.$refs.mychildTwo.PermissionsJson(),e.isShowdiscount&&e.$refs.mychildThree.DiscountJson()),i=e.postJson,this.fun.isTextEmpty(i.title))Object(l.Toast)("请填写商品名称");else if(this.fun.isTextEmpty(i.sku))Object(l.Toast)("请填写商品单位");else if(this.fun.isTextEmpty(i.category_cid))Object(l.Toast)("请填写商品分类");else if(this.fun.isTextEmpty(i.thumb))Object(l.Toast)("请上传商品图片");else if(this.fun.isTextEmpty(i.good_content)&&this.isType)Object(l.Toast)("请上传商品详情图片");else if(this.fun.isTextEmpty(i.thumb_url))Object(l.Toast)("请上传商品其他图片");else if(this.fun.isTextEmpty(i.price))Object(l.Toast)("请填写商品现价");else if(this.fun.isTextEmpty(i.market_price))Object(l.Toast)("请填写商品原价");else if(this.fun.isTextEmpty(i.cost_price))Object(l.Toast)("请填写商品成本价");else if(this.fun.isTextEmpty(i.stock))Object(l.Toast)("请填写库存");else{if("store"==e.$route.params.store){if(e.isShowprivilege){if(this.fun.isTextEmpty(i.show_levels))return void Object(l.Toast)("请选择会员等级浏览权限");if(this.fun.isTextEmpty(i.buy_levels))return void Object(l.Toast)("请选择会员等级购买权限");if(this.fun.isTextEmpty(i.show_groups))return void Object(l.Toast)("请选择会员组浏览权限");if(this.fun.isTextEmpty(i.buy_groups))return void Object(l.Toast)("请选择会员组购买权限");if(this.fun.isTextEmpty(i.once_buy_limit))return void Object(l.Toast)("请输入每次限购数量");if(this.fun.isTextEmpty(i.total_buy_limit))return void Object(l.Toast)("请输入会员限购总数");if(this.fun.isTextEmpty(i.day_buy_limit))return void Object(l.Toast)("请输入会员每天限购总数");if(this.fun.isTextEmpty(i.week_buy_limit))return void Object(l.Toast)("请输入会员每周期限购数量");if(this.fun.isTextEmpty(i.month_buy_limit))return void Object(l.Toast)("请输入会员每月限购数量")}if(e.isShowdiscount){if("0"==n()(i.discount_value).length)return void Object(l.Toast)("请填写各等级折扣");if(n()(i.discount_value).length<this.Signthree)return void Object(l.Toast)("等级折扣填写不完整")}}this.isType?"store"==e.$route.params.store?t="plugin.store-cashier.frontend.store.goods.add-goods":"supplier"==e.$route.params.store&&(t="plugin.supplier.frontend.goods.add-goods"):(i.goods_id=e.$route.params.goods_id,"store"==e.$route.params.store?t="plugin.store-cashier.frontend.store.goods.edit-goods":"supplier"==e.$route.params.store&&(t="plugin.supplier.frontend.goods.edit-goods")),$http.post(t,i,"正在上传中").then(function(t){1===t.result?(l.Indicator.close(),e.$router.go(-1),e.$notify({message:"上传成功"})):e.$notify(t.msg)},function(e){console.log(e)})}}}},k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"goods-release"}},[i("c-title",{attrs:{hide:!1,text:"商品"+e.titleTest}}),e._v(" "),"store"==this.$route.params.store?i("yd-tab",{staticClass:"navClass",attrs:{id:"navId"}},[i("yd-tab-panel",{staticClass:"navContet",attrs:{label:"基本信息",id:"navContetH"}},[e.isQuesetOk?i("BasicInformation",{ref:"mychild",attrs:{DataInfo:e.DataInfo},on:{CoverLayer:e.isCoverLayer,getChildoneData:e.getChildoneData}}):e._e()],1),e._v(" "),e.isShowprivilege?i("yd-tab-panel",{staticClass:"navContet",attrs:{label:"权限",id:"navContetH"}},[e.isQuesetOk?i("Permissions",{ref:"mychildTwo",attrs:{DataInfo:e.DataInfo,GoodSetData:e.GoodSetData},on:{CoverLayer:e.isCoverLayer,getChildtwoData:e.getChildoneData}}):e._e(),e._v(" "),e.isShowprivilege?e._e():i("h2",[e._v("暂无权限")])],1):e._e(),e._v(" "),e.isShowdiscount?i("yd-tab-panel",{staticClass:"navContet",attrs:{label:"折扣",id:"navContetH"}},[e.isQuesetOk?i("Discounts",{ref:"mychildThree",attrs:{DataInfo:e.DataInfo,GoodSetData:e.GoodSetData},on:{getChildthreeData:e.getChildoneData,getSignthree:e.getSignthree}}):e._e(),e._v(" "),e.isShowdiscount?e._e():i("h2",[e._v("暂无权限")])],1):e._e()],1):e._e(),e._v(" "),"supplier"==this.$route.params.store?i("div",{staticClass:"supplierContent"},[e.isQuesetOk?i("BasicInformation",{ref:"mychild",attrs:{DataInfo:e.DataInfo},on:{CoverLayer:e.isCoverLayer,getChildoneData:e.getChildoneData}}):e._e()],1):e._e(),e._v(" "),e.showCoverLayer?e._e():i("section",{class:{upzIndex:e.showCoverLayer,supplierBtn:"supplier"==this.$route.params.store,andriodClass:"1"!=this.fun.getPhoneEnv()},style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"},attrs:{id:"btn"}},[i("button",{attrs:{type:"button"},on:{click:function(t){return e.publishEvent()}}},[e._v("确认"+e._s(e.titleTest))])]),e._v(" "),e.showCoverLayer?i("div",{staticClass:"cover-layer",class:{supplierCoverL:"supplier"==this.$route.params.store}}):e._e()],1)},staticRenderFns:[]};var C=i("VU/8")(w,k,!1,function(e){i("fBNt")},"data-v-05e9fdc4",null);t.default=C.exports},Fx6u:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n#discount[data-v-92cf3504] {\n  padding-bottom: 3.3125rem;\n  overflow: scroll;\n  z-index: 9999;\n}\n#discount .rebate_box .type[data-v-92cf3504], #discount .rebate_box .member_number[data-v-92cf3504] {\n    margin-top: 0.625rem;\n    background: #fff;\n    padding: 0.625rem 0.875rem;\n}\n#discount .rebate_box .type li[data-v-92cf3504], #discount .rebate_box .member_number li[data-v-92cf3504] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      height: 2.5rem;\n      position: relative;\n      font-size: 15px;\n}\n#discount .rebate_box .type li span[data-v-92cf3504], #discount .rebate_box .member_number li span[data-v-92cf3504] {\n        width: 6.875rem;\n}\n#discount .rebate_box .type li input[data-v-92cf3504], #discount .rebate_box .member_number li input[data-v-92cf3504] {\n        border: none;\n        width: 11.25rem;\n}\n#discount .rebate_box .type li .fa[data-v-92cf3504], #discount .rebate_box .member_number li .fa[data-v-92cf3504] {\n        position: absolute;\n        right: 0;\n        font-size: 1.125rem;\n        color: #c9c9c9;\n}\n#discount .rebate_box .type .list_box[data-v-92cf3504], #discount .rebate_box .member_number .list_box[data-v-92cf3504] {\n      padding: 0.625rem 0.875rem;\n}\n",""])},GoT8:function(e,t,i){var o=i("Fx6u");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("4a79d3ca",o,!0,{})},JJvU:function(e,t,i){var o=i("kxFB");(e.exports=i("FZ+f")(!1)).push([e.i,"\n.avatar[data-v-73628643] {\n  width: 100%;\n  height: 100%;\n}\n.el-cascader[data-v-73628643] {\n  width: 15.625rem;\n}\n#basicInformation[data-v-73628643] {\n  width: 100%;\n  padding-bottom: 6.8rem;\n  overflow: scroll;\n  z-index: 999;\n  background-color: #f5f5f5;\n  height: 100%;\n  -webkit-overflow-scrolling: touch;\n}\n#basicInformation #edit-b[data-v-73628643] {\n    background-color: #fff;\n    margin-top: 0.625rem;\n}\n#basicInformation #edit-b .top[data-v-73628643],\n    #basicInformation #edit-b .bottom[data-v-73628643] {\n      -padding: 0 0.875rem;\n      font-size: 14px;\n      padding-bottom: 0.625rem;\n}\n#basicInformation #edit-b .top h1[data-v-73628643],\n      #basicInformation #edit-b .bottom h1[data-v-73628643] {\n        line-height: 2.25rem;\n        text-align: left;\n        font-weight: normal;\n}\n#basicInformation #edit-b .top .icon[data-v-73628643],\n      #basicInformation #edit-b .bottom .icon[data-v-73628643] {\n        padding-top: 1.125rem;\n        width: 4.5rem;\n        height: 4.5rem;\n        background-color: #fafafa;\n        font-size: 12px;\n}\n#basicInformation #edit-b .top .icon i[data-v-73628643],\n        #basicInformation #edit-b .bottom .icon i[data-v-73628643] {\n          padding: 0.125rem;\n          background-color: #fff;\n          border: solid 0.0625rem #ebebeb;\n          border-radius: 1.25rem;\n}\n#basicInformation #edit-b .top .icon span[data-v-73628643],\n        #basicInformation #edit-b .bottom .icon span[data-v-73628643] {\n          display: block;\n          margin-top: 0.25rem;\n}\n#basicInformation #edit-b .bottom[data-v-73628643] {\n      border-bottom: none;\n}\n#basicInformation .otherphoto .photobox[data-v-73628643] {\n    position: relative;\n    width: 5rem;\n    height: 5rem;\n    border: 1px dashed #c0ccda;\n    /*float: left;*/\n    margin-right: 0.2rem;\n    margin-left: 0.2rem;\n    margin-bottom: 0.2rem;\n}\n#basicInformation .otherphoto .photobox img[data-v-73628643] {\n      width: 100%;\n      height: 100%;\n}\n#basicInformation .otherphoto .photobox i[data-v-73628643] {\n      width: 1.2rem;\n      height: 1.2rem;\n      position: absolute;\n      top: 0.1rem;\n      right: 0.1rem;\n      background: url("+o(i("Gq6R"))+");\n      background-size: 100%;\n}\n#basicInformation #edit-c[data-v-73628643],\n  #basicInformation #edit-a[data-v-73628643] {\n    margin-top: 0.625rem;\n    background-color: #fff;\n}\n#basicInformation #edit-c ul li[data-v-73628643],\n    #basicInformation #edit-a ul li[data-v-73628643] {\n      height: 2.75rem;\n      line-height: 2.75rem;\n      padding: 0 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      font-size: 16px;\n      text-align: left;\n}\n#basicInformation #edit-c ul li input[data-v-73628643],\n      #basicInformation #edit-a ul li input[data-v-73628643] {\n        border: none;\n        color: #8c8c8c;\n        width: 74%;\n}\n#basicInformation #edit-a ul li[data-v-73628643]:last-child {\n    border: none;\n}\n#basicInformation #edit-a ul li:last-child i[data-v-73628643] {\n      font-size: 1.5rem;\n      color: #c9c9c9;\n      position: absolute;\n      right: 0.875rem;\n      line-height: 2.75rem;\n}\n#basicInformation #edit-a ul li:last-child input[data-v-73628643] {\n      font-size: 14px;\n}\n#basicInformation #edit-d[data-v-73628643] {\n    margin-top: 0.625rem;\n    background-color: #fff;\n}\n#basicInformation #edit-d ul li[data-v-73628643] {\n      height: 2.75rem;\n      line-height: 2.75rem;\n      padding: 0 0.875rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      font-size: 16px;\n      text-align: left;\n}\n#basicInformation #edit-d ul li input[data-v-73628643] {\n        border: none;\n}\n#basicInformation #edit-d ul li[data-v-73628643]:last-child {\n      border: none;\n}\n#basicInformation .bottomPlaceholder[data-v-73628643] {\n    margin-top: 0.6875rem;\n    height: 2.75rem;\n    display: block;\n}\n#basicInformation .fenleiDiv[data-v-73628643] {\n    min-height: 60%;\n    z-index: 9999 !important;\n}\n#basicInformation .imgflex[data-v-73628643] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n",""])},UtcW:function(e,t,i){var o=i("o0TJ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("58f3ab3e",o,!0,{})},"ep/9":function(e,t,i){var o=i("JJvU");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("51b6f1ee",o,!0,{})},fBNt:function(e,t,i){var o=i("tIbL");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("0056de9f",o,!0,{})},o0TJ:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n#Permissions[data-v-5c427b30] {\n  width: 100%;\n  padding-bottom: 3.3125rem;\n  overflow: scroll;\n  z-index: 9999;\n}\n#Permissions .power_box .member_power[data-v-5c427b30], #Permissions .power_box .number_power[data-v-5c427b30] {\n    margin-top: 0.625rem;\n    background: #fff;\n    padding: 0.625rem 0.875rem;\n}\n#Permissions .power_box .member_power li[data-v-5c427b30], #Permissions .power_box .number_power li[data-v-5c427b30] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      height: 2.5rem;\n      position: relative;\n      font-size: 15px;\n}\n#Permissions .power_box .member_power li span[data-v-5c427b30], #Permissions .power_box .number_power li span[data-v-5c427b30] {\n        width: 9.75rem;\n}\n#Permissions .power_box .member_power li input[data-v-5c427b30], #Permissions .power_box .number_power li input[data-v-5c427b30] {\n        border: none;\n        width: 11.25rem;\n}\n#Permissions .power_box .member_power li .fa[data-v-5c427b30], #Permissions .power_box .number_power li .fa[data-v-5c427b30] {\n        position: absolute;\n        right: 0;\n        font-size: 1.125rem;\n        color: #c9c9c9;\n}\n#Permissions .power_box .member_power .list_box[data-v-5c427b30], #Permissions .power_box .number_power .list_box[data-v-5c427b30] {\n      padding: 0.625rem 0.875rem;\n}\n#Permissions .select_box[data-v-5c427b30] {\n    background: #fff;\n    width: 100%;\n    padding-top: 50px;\n    padding-bottom: 60px;\n}\n#Permissions .select_box .title[data-v-5c427b30] {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 3.125rem;\n      line-height: 3.125rem;\n      text-align: center;\n      font-size: 16px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      border-bottom: solid 0.0625rem #ebebeb;\n      z-index: 9999;\n      background-color: #ffffff;\n}\n#Permissions .select_box .title i[data-v-5c427b30] {\n        position: absolute;\n        right: 0.625rem;\n        font-size: 1rem;\n        color: #c9c9c9;\n}\n#Permissions .select_box .list[data-v-5c427b30] {\n      max-height: 25rem;\n      position: relative;\n      overflow: scroll;\n      padding: 0.625rem 0 3.125rem 0.875rem;\n}\n#Permissions .select_box .list .van-checkbox[data-v-5c427b30] {\n        line-height: 2.875rem;\n        border-bottom: solid 0.0625rem #ebebeb;\n        font-size: 15px;\n}\n#Permissions .select_box .list .deletaAtfer[data-v-5c427b30]::after {\n        display: none;\n}\n#Permissions .select_box .select_btn[data-v-5c427b30] {\n      position: fixed;\n      width: 100%;\n      padding: 0.375rem 0.875rem;\n      bottom: 0;\n      border-top: solid 0.0625rem #ebebeb;\n      z-index: 9999;\n      background-color: #ffffff;\n}\n#Permissions .select_box .select_btn button[data-v-5c427b30] {\n        margin: 0 auto;\n        width: 100%;\n        height: 2.5rem;\n        background: #f15353;\n        border-radius: 0.1875rem;\n        color: #fff;\n        border: none;\n        font-size: 16px;\n}\n",""])},tIbL:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,'\n@charset "UTF-8";\n.avatar[data-v-05e9fdc4] {\n  width: 100%;\n  height: 100%;\n}\n.el-cascader[data-v-05e9fdc4] {\n  width: 15.625rem;\n}\n#goods-release[data-v-05e9fdc4] {\n  text-align: left;\n  padding-top: 40px;\n  /*清除浮动代码*/\n}\n#goods-release .navClass[data-v-05e9fdc4] {\n    overflow: hidden;\n}\n#goods-release .navClass .yd-tab-panel[data-v-05e9fdc4] {\n      z-index: 999;\n}\n#goods-release .navClass .yd-tab-panel .navContet[data-v-05e9fdc4] {\n        z-index: 999;\n        background-color: whitesmoke;\n        width: 100%;\n        height: 100%;\n}\n#goods-release .supplierContent[data-v-05e9fdc4] {\n    position: relative;\n}\n#goods-release .classify[data-v-05e9fdc4] {\n    -webkit-animation: myfirst-data-v-05e9fdc4 3s;\n            animation: myfirst-data-v-05e9fdc4 3s;\n}\n@-webkit-keyframes myfirst-data-v-05e9fdc4 {\nfrom {\n    background: #f15353;\n}\nto {\n    background: #fff;\n}\n}\n@keyframes myfirst-data-v-05e9fdc4 {\nfrom {\n    background: #f15353;\n}\nto {\n    background: #fff;\n}\n}\n#goods-release #btn[data-v-05e9fdc4] {\n    background-color: #fff;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    z-index: 999;\n    border-top: solid 0.0625rem #ebebeb;\n    padding: 0 0.875rem;\n    margin-top: 1.25rem;\n}\n#goods-release #btn button[data-v-05e9fdc4] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      border-radius: 0.1875rem;\n      margin: 0.375rem 0;\n      width: 100%;\n      color: #fff;\n      font-size: 16px;\n      border: none;\n      background-color: #f15353;\n}\n#goods-release .supplierBtn[data-v-05e9fdc4] {\n    z-index: 99 !important;\n}\n#goods-release .upzIndex[data-v-05e9fdc4] {\n    visibility: hidden;\n}\n#goods-release .andriodClass[data-v-05e9fdc4] {\n    position: fixed !important;\n}\n#goods-release .cover-layer[data-v-05e9fdc4] {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-color: rgba(0, 0, 0, 0.7);\n    z-index: 99;\n}\n#goods-release .supplierCoverL[data-v-05e9fdc4] {\n    height: 40px;\n    background-color: rgba(0, 0, 0, 0);\n}\n#goods-release .clearfloat[data-v-05e9fdc4]:after {\n    display: block;\n    clear: both;\n    content: "";\n    visibility: hidden;\n    height: 0;\n}\n#goods-release .clearfloat[data-v-05e9fdc4] {\n    zoom: 1;\n}\n#goods-release .select_box[data-v-05e9fdc4] {\n    background: #fff;\n    width: 100%;\n    padding-top: 50px;\n    padding-bottom: 60px;\n}\n#goods-release .select_box .title[data-v-05e9fdc4] {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 3.125rem;\n      line-height: 3.125rem;\n      text-align: center;\n      font-size: 16px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#goods-release .select_box .title i[data-v-05e9fdc4] {\n        position: absolute;\n        right: 0.625rem;\n        font-size: 1rem;\n        color: #c9c9c9;\n}\n#goods-release .select_box .list[data-v-05e9fdc4] {\n      padding: 0.625rem 0 0.625rem 0.875rem;\n}\n#goods-release .select_box .list .van-checkbox[data-v-05e9fdc4] {\n        line-height: 2.875rem;\n        border-bottom: solid 0.0625rem #ebebeb;\n        font-size: 15px;\n}\n#goods-release .select_box .select_btn[data-v-05e9fdc4] {\n      position: fixed;\n      width: 100%;\n      padding: 0.375rem 0.875rem;\n      bottom: 0;\n      border-top: solid 0.0625rem #ebebeb;\n}\n#goods-release .select_box .select_btn button[data-v-05e9fdc4] {\n        margin: 0 auto;\n        width: 100%;\n        height: 2.5rem;\n        background: #f15353;\n        border-radius: 0.1875rem;\n        color: #fff;\n        border: none;\n        font-size: 16px;\n}\n#goods-release .power_box .member_power[data-v-05e9fdc4],\n  #goods-release .power_box .number_power[data-v-05e9fdc4] {\n    margin-top: 0.625rem;\n    background: #fff;\n    padding: 0.625rem 0.875rem;\n}\n#goods-release .power_box .member_power li[data-v-05e9fdc4],\n    #goods-release .power_box .number_power li[data-v-05e9fdc4] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      height: 2.5rem;\n      position: relative;\n      font-size: 15px;\n}\n#goods-release .power_box .member_power li span[data-v-05e9fdc4],\n      #goods-release .power_box .number_power li span[data-v-05e9fdc4] {\n        width: 9.75rem;\n}\n#goods-release .power_box .member_power li input[data-v-05e9fdc4],\n      #goods-release .power_box .number_power li input[data-v-05e9fdc4] {\n        border: none;\n        width: 11.25rem;\n}\n#goods-release .power_box .member_power li .fa[data-v-05e9fdc4],\n      #goods-release .power_box .number_power li .fa[data-v-05e9fdc4] {\n        position: absolute;\n        right: 0;\n        font-size: 1.125rem;\n        color: #c9c9c9;\n}\n#goods-release .power_box .member_power .list_box[data-v-05e9fdc4],\n    #goods-release .power_box .number_power .list_box[data-v-05e9fdc4] {\n      padding: 0.625rem 0.875rem;\n}\n',""])}});