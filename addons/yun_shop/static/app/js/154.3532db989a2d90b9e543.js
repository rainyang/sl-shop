webpackJsonp([154],{E2cz:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n#line-up[data-v-76e8f100] {\n  padding-top: 40px;\n}\n#line-up #nav[data-v-76e8f100] {\n    padding: 0.625rem 0.875rem;\n}\n#line-up #nav li[data-v-76e8f100] {\n      width: calc(50% - 0.125rem);\n      display: inline-block;\n      text-align: center;\n      font-size: 14px;\n      padding: 0.375rem 0;\n      line-height: 1rem;\n      background: #fff;\n      color: #f15353;\n      border-radius: 0.3125rem;\n}\n#line-up #nav .active[data-v-76e8f100] {\n      background-color: #f15353;\n      color: #fff;\n}\n#line-up #rank-list .box[data-v-76e8f100] {\n    background-color: #fff;\n}\n#line-up #rank-list .box .nav[data-v-76e8f100] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 2.5rem;\n      font-size: 14px;\n      color: #333;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#line-up #rank-list .box .nav .nav-b[data-v-76e8f100],\n      #line-up #rank-list .box .nav .nav-c[data-v-76e8f100],\n      #line-up #rank-list .box .nav .nav-d[data-v-76e8f100],\n      #line-up #rank-list .box .nav .nav-e[data-v-76e8f100] {\n        width: 5rem;\n        line-height: 2.5rem;\n}\n#line-up #rank-list .box .nav .nav-a[data-v-76e8f100] {\n        line-height: 2.5rem;\n        width: 3.4375rem;\n}\n#line-up #rank-list .box ul[data-v-76e8f100]:last-child {\n      border: none;\n}\n#line-up #rank-list .box .list[data-v-76e8f100] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      background-color: #fff;\n      padding: 0.625rem 0;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#line-up #rank-list .box .list .nav-a[data-v-76e8f100] {\n        width: 3.4375rem;\n        font-size: 14px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n}\n#line-up #rank-list .box .list .nav-b[data-v-76e8f100],\n      #line-up #rank-list .box .list .nav-c[data-v-76e8f100],\n      #line-up #rank-list .box .list .nav-d[data-v-76e8f100],\n      #line-up #rank-list .box .list .nav-e[data-v-76e8f100] {\n        width: 5rem;\n}\n#line-up #rank-list .box .list .nav-b .img[data-v-76e8f100] {\n        width: 2.25rem;\n        height: 2.25rem;\n        border-radius: 1.125rem;\n        background-color: #f15353;\n        margin: 0 auto;\n        overflow: hidden;\n}\n#line-up #rank-list .box .list .nav-b span[data-v-76e8f100] {\n        display: block;\n        margin-top: 0.375rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n}\n#line-up #rank-list .box .list .nav-d span[data-v-76e8f100] {\n        display: block;\n        line-height: 1.25rem;\n        color: #8c8c8c;\n}\n#line-up #rank-list .box .list .nav-d span[data-v-76e8f100]:first-child {\n        color: #f15353;\n        font-size: 14px;\n}\n#line-up #rank-list .box .list .nav-e span[data-v-76e8f100] {\n        display: block;\n        line-height: 1.25rem;\n        font-size: 14px;\n        color: #8c8c8c;\n}\n#line-up #reward-box .reward[data-v-76e8f100] {\n    background-color: #f15353;\n    color: #fff;\n    padding: 0.625rem 0;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 0.625rem;\n}\n#line-up #reward-box .reward li[data-v-76e8f100] {\n      width: 33.3%;\n      line-height: 1.5rem;\n}\n#line-up #reward-box .reward li span[data-v-76e8f100] {\n        display: block;\n}\n#line-up #reward-box .reward li span[data-v-76e8f100]:first-child {\n        font-size: 18px;\n}\n#line-up #reward-box #reward-list .list[data-v-76e8f100] {\n    margin-top: 0.375rem;\n    background-color: #fff;\n}\n#line-up #reward-box #reward-list .list h1[data-v-76e8f100] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      padding: 0 0.875rem;\n      font-size: 16px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#line-up #reward-box #reward-list .list h1 span[data-v-76e8f100]:last-child {\n        font-weight: normal;\n        color: #f15353;\n}\n#line-up #reward-box #reward-list .list li[data-v-76e8f100]:nth-child(2) {\n      height: 1.625rem;\n      line-height: 1.625rem;\n      margin-top: 0.625rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      color: #8c8c8c;\n      font-size: 14px;\n      padding: 0 0.875rem;\n}\n#line-up #reward-box #reward-list .list li[data-v-76e8f100]:last-child {\n      height: 2.75rem;\n      line-height: 2.75rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      font-size: 14px;\n      padding: 0 0.875rem;\n}\n#line-up #reward-box #reward-list .list li:last-child i[data-v-76e8f100] {\n        font-size: 1.5rem;\n        color: #c9c9c9;\n        line-height: 2.75rem;\n}\n",""])},QTxh:function(t,e,a){var n=a("E2cz");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("2af8493e",n,!0,{})},XjpJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Pexp"),i=(a("OMJi"),a("i6aR"),{components:{cTitle:n.a},activated:function(){this.init(),this.getBuyData(),this.getMemberData(),this.getTitle()},data:function(){return{tabOption:["关注会员","加盟店"],currentIndex:0,allMemberShow:!0,buyMemberShow:!1,buyList:[],allMember:[],title:"",m_loading:!1,m_allLoaded:!1,m_goload:!0,m_isLoadMore:!0,m_page:1,m_total_page:0,b_loading:!1,b_allLoaded:!1,b_goload:!0,b_isLoadMore:!0,b_page:1,b_total_page:0,m_total:0,b_total:0}},methods:{awardEvent:function(t){1==t?this.$router.push(this.fun.getUrl("AwardRanking")):2==t&&this.$router.push(this.fun.getUrl("RecordOfAwards"))},tabChoose:function(t){if(1==t)this.allMemberShow=!0,this.buyMemberShow=!1;else{if(2!=t)return;this.allMemberShow=!1,this.buyMemberShow=!0}},init:function(){this.buyList=[],this.allMember=[],this.allMemberShow=!0,this.buyMemberShow=!1,this.currentIndex=0,this.initData("member"),this.initData("buy")},getBuyData:function(){var t=this;$http.get("plugin.member-return.frontend.ranking.index",{page:this.b_page},"...").then(function(e){1==e.result&&(t.buyList=e.data.data,t.buyList.forEach(function(t){for(var e="",a=0;a<t.star;a++)e+="<i class='iconfont icon-extension-stars icon-custom-undefined' style='font-size: 1.25rem; color: rgb(241, 83, 83);'></i>";t.star_count=e}),t.b_total_page=e.data.lastPage,t.b_total=e.data.total)}).catch(function(t){console.log(t)})},getMemberData:function(){var t=this;$http.get("plugin.member-return.frontend.follow.index",{page:this.m_page}).then(function(e){1==e.result&&(t.allMember=e.data.data,t.allMember.forEach(function(e){if(t.fun.isTextEmpty(e.has_one_queue))e.star_count="";else{for(var a="",n=0;n<e.has_one_queue.star;n++)a+="<i class='iconfont icon-extension-stars icon-custom-undefined' style='font-size: 1.25rem; color: rgb(241, 83, 83);'></i>";e.star_count=a}}),t.m_total_page=e.data.lastPage,t.m_total=e.data.total)}).catch(function(t){console.log(t)})},getMoreData:function(t,e){var a=this;if("member"==t){if(this.m_page==this.m_total_page)return;if(this.m_page>=this.m_total_page)return this.m_loading=!0,void(this.m_allLoaded=!0);this.m_page=this.m_page+1,$http.get("plugin.member-return.frontend.follow.index",{page:this.m_page},"加载中...").then(function(t){if(1!=t.result)return a.m_page=a.m_page-1,a.m_loading=!0,a.m_allLoaded=!0,void(a.m_isLoadMore=!1);a.m_loading=!1,a.m_allLoaded=!1,a.allMember=a.allMember.concat(t.data.data),a.allMember.forEach(function(t){if(a.fun.isTextEmpty(t.has_one_queue))t.star_count="";else{for(var e="",n=0;n<t.has_one_queue.star;n++)e+="<i class='iconfont icon-extension-stars icon-custom-undefined' style='font-size: 1.25rem; color: rgb(241, 83, 83);'></i>";t.star_count=e}})}).catch(function(t){console.log(t)})}else if("buy"==t){if(this.b_page==this.b_total_page)return;if(this.b_page>=this.b_total_page)return this.b_loading=!0,void(this.b_allLoaded=!0);this.b_page=this.b_page+1,$http.get("plugin.member-return.frontend.ranking.index",{page:this.b_page},"加载中...").then(function(t){if(1!=t.result)return a.b_page=a.b_page-1,a.b_loading=!0,a.b_allLoaded=!0,void(a.b_isLoadMore=!1);a.b_loading=!1,a.b_allLoaded=!1,a.buyList=a.buyList.concat(t.data.data),a.buyList.forEach(function(t){if(a.fun.isTextEmpty(t.star))t.star_count="";else{for(var e="",n=0;n<t.star;n++)e+="<i class='iconfont icon-extension-stars icon-custom-undefined' style='font-size: 1.25rem; color: rgb(241, 83, 83);'></i>";t.star_count=e}})}).catch(function(t){console.log(t)})}},loadTop1:function(){this.initData("member"),this.getMemberData(),this.$refs.member_loadmore.onTopLoaded()},loadTop2:function(){this.initData("buy"),this.getBuyData(),this.$refs.buy_loadmore.onTopLoaded()},loadBottom1:function(){this.m_isLoadMore?(this.getMoreData("member",this.m_page),this.$refs.member_loadmore.onBottomLoaded()):console.log("没有更多数据")},loadBottom2:function(){this.b_isLoadMore?(this.getMoreData("buy",this.b_page),this.$refs.buy_loadmore.onBottomLoaded()):console.log("没有更多数据")},initData:function(t){"member"==t?(this.m_loading=!1,this.m_allLoaded=!1,this.m_goload=!0,this.m_isLoadMore=!0,this.m_page=1,this.m_total_page=0,this.allMember=[]):"buy"==t&&(this.b_loading=!1,this.b_allLoaded=!1,this.b_goload=!0,this.b_isLoadMore=!0,this.b_page=1,this.b_total_page=0,this.buyList=[])},getTitle:function(){var t=this;$http.get("plugin.member-return.frontend.set.get-name",{}).then(function(e){1==e.result&&(console.log(e),t.title=e.data.p_name)}).catch(function(t){console.log(t)})},b64Decode:function(t){var e,a,n,i,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)e=l.indexOf(t.charAt(d++))<<2|(i=l.indexOf(t.charAt(d++)))>>4,a=(15&i)<<4|(o=l.indexOf(t.charAt(d++)))>>2,n=(3&o)<<6|(s=l.indexOf(t.charAt(d++))),r+=String.fromCharCode(e),64!=o&&(r+=String.fromCharCode(a)),64!=s&&(r+=String.fromCharCode(n));return r=this.utf8_decode(r)},utf8_decode:function(t){for(var e,a,n,i="",o=0;o<t.length;)(e=t.charCodeAt(o))<128?(i+=String.fromCharCode(e),o++):e>191&&e<224?(a=t.charCodeAt(o+1),i+=String.fromCharCode((31&e)<<6|63&a),o+=2):(a=t.charCodeAt(o+1),n=t.charCodeAt(o+2),i+=String.fromCharCode((15&e)<<12|(63&a)<<6|63&n),o+=3);return i}},computed:{},filters:{b64Name:function(t){return this.base64decode(t)}}}),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"line-up"}},[n("c-title",{attrs:{hide:!1,text:t.title,tolink:"QueueRecord",totext:"奖励记录"}}),t._v(" "),n("section",{attrs:{id:"nav"}},[n("ul",[n("li",{class:{active:t.allMemberShow},on:{click:function(e){return t.tabChoose(1)}}},[n("span",[t._v("关注(考察)会员")]),n("br"),t._v(" "),n("span",[t._v("("+t._s(t.m_total)+")人")])]),t._v(" "),n("li",{class:{active:t.buyMemberShow},on:{click:function(e){return t.tabChoose(2)}}},[n("span",[t._v("已加盟店")]),n("br"),t._v(" "),n("span",[t._v("("+t._s(t.b_total)+")人")])])])]),t._v(" "),t.allMemberShow?n("section",{attrs:{id:"rank-list"}},[n("div",{staticClass:"box"},[t._m(0),t._v(" "),t.m_goload?n("mt-loadmore",{ref:"member_loadmore",attrs:{"top-method":t.loadTop1,"bottom-method":t.loadBottom1,"bottom-all-loaded":t.m_allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1,id:"olis"}},t._l(t.allMember,function(e,i){return n("ul",{key:i,staticClass:"list"},[n("li",{staticClass:"nav-a"},[t._v(t._s(e.uid))]),t._v(" "),n("li",{staticClass:"nav-b"},[n("div",{staticClass:"img"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.avatar?e.avatar:a("UF3h")}})]),t._v(" "),n("span",[t._v(t._s(t.b64Decode(e.nickname)))])]),t._v(" "),n("li",{staticClass:"nav-c",staticStyle:{"word-wrap":"break-word","word-break":"normal"},domProps:{innerHTML:t._s(e.star_count)}}),t._v(" "),n("li",{staticClass:"nav-d"},[n("span",[t._v(t._s(e.has_one_queue?e.has_one_queue.amount_finish:""))]),t._v(" "),n("span",[t._v(t._s(e.has_one_queue?e.has_one_queue.status_name:""))])]),t._v(" "),n("li",{staticClass:"nav-e"},[n("span",[t._v(t._s(e.create_at))])])])}),0):t._e()],1)]):t._e(),t._v(" "),t.buyMemberShow?n("section",{attrs:{id:"rank-list"}},[n("div",{staticClass:"box"},[t._m(1),t._v(" "),t.b_goload?n("mt-loadmore",{ref:"buy_loadmore",attrs:{"top-method":t.loadTop2,"bottom-method":t.loadBottom2,"bottom-all-loaded":t.b_allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},t._l(t.buyList,function(e,i){return n("ul",{key:i,staticClass:"list"},[n("li",{staticClass:"nav-a"},[t._v(t._s(i+1))]),t._v(" "),n("li",{staticClass:"nav-b"},[n("div",{staticClass:"img"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.has_one_member.avatar?e.has_one_member.avatar:a("UF3h")}})]),t._v(" "),n("span",[t._v(t._s(e.has_one_member.nickname))])]),t._v(" "),n("li",{staticClass:"nav-c",staticStyle:{"word-wrap":"break-word","word-break":"normal"},domProps:{innerHTML:t._s(e.star_count)}}),t._v(" "),n("li",{staticClass:"nav-d"},[n("span",[t._v(t._s(e.amount_finish))]),t._v(" "),n("span",[t._v(t._s(e.status_name))])]),t._v(" "),n("li",{staticClass:"nav-e"},[n("span",[t._v(t._s(e.created_at))])])])}),0):t._e()],1)]):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-a"},[t._v("ID")]),t._v(" "),a("li",{staticClass:"nav-b"},[t._v("微信昵称")]),t._v(" "),a("li",{staticClass:"nav-c"},[t._v("星级加盟店")]),t._v(" "),a("li",{staticClass:"nav-d"},[t._v("拼团积分")]),t._v(" "),a("li",{staticClass:"nav-e"},[t._v("关注时间")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-a"},[t._v("编号")]),t._v(" "),a("li",{staticClass:"nav-b"},[t._v("微信昵称")]),t._v(" "),a("li",{staticClass:"nav-c"},[t._v("星级加盟店")]),t._v(" "),a("li",{staticClass:"nav-d"},[t._v("拼团积分")]),t._v(" "),a("li",{staticClass:"nav-e"},[t._v("加盟时间")])])}]};var s=a("VU/8")(i,o,!1,function(t){a("QTxh")},"data-v-76e8f100",null);e.default=s.exports},i6aR:function(t,e,a){"use strict";(function(t){}).call(e,a("63KW").Buffer)}});