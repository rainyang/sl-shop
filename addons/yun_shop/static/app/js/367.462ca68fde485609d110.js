webpackJsonp([367],{ECGN:function(e,t,n){var s=n("ol2Y");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n("rjj0")("3a2a0aed",s,!0,{})},SHnk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Pexp"),i=n("Tg7E"),a={data:function(){return{start:!1,newAddress:"",is_default:!1,mobile:"",id:"",oldAddress:"",code:"",imgCode:"",captcha:"",qr:""}},activated:function(){this.inniData(),this.id=this.$route.params.id,this.getMobbile()},methods:{inniData:function(){this.start=!1,this.newAddress="",this.is_default=!1,this.mobbile="",this.id="",this.oldAddress="",this.code="",this.imgCode="",this.captcha="",this.qr=""},changeImg:function(){this.getMobbile()},afterRead:function(e){var t=this,n=new FormData;n.append("file",e.file);this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}),axios.post(this.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.qr=e.data.data.img_url}).catch(function(e){console.log(e)})},getMobbile:function(){var e=this,t={address_id:this.id};$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.fillInAddress",t).then(function(t){if(1==t.result){if(e.fun.isTextEmpty(t.data.mobile))return Object(i.Toast)(t.msg),void e.$router.push(e.fun.getUrl("editmobile"));e.mobile=t.data.mobile,e.imgCode=e.fun.isTextEmpty(t.data.captcha)?"":t.data.captcha.img,e.oldAddress=t.data.address,e.qr=t.data.qr,e.is_default=1==t.data.is_default}else Object(i.Toast)(t.msg)}).catch(function(e){console.log(e)})},sendCode:function(){var e=this,t={mobile:this.mobile,captcha:this.captcha};!this.fun.isTextEmpty(this.captcha)||this.fun.isTextEmpty(this.imgCode)?$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.sendNewCode",t).then(function(t){if(1==t.result)return Object(i.Toast)(t.msg),void setTimeout(function(){e.start=!0,e.$yddialog.loading.close()},1e3);e.getMobbile(),Object(i.Toast)(t.msg)}).catch(function(e){console.log(e)}):Object(i.Toast)("请输入图形验证码")},revise:function(){var e=this;if(this.fun.isTextEmpty(this.code))Object(i.Toast)("请输入验证码");else if(!/^0x((?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{1,62}$)/.test(this.newAddress)&&this.newAddress.length>0)Object(i.Toast)("请输入以0x开头加字母和数字组合的新提币地址");else{var t={address_id:this.id,address:this.newAddress.length>0?this.newAddress:this.oldAddress,is_default:!0===this.is_default?1:0,code:this.code,mobile:this.mobile,qr:this.qr};$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.updateAddress",t,"提交中").then(function(t){1==t.result?(Object(i.Toast)(t.msg),e.$router.push(e.fun.getUrl("addressManage"))):Object(i.Toast)(t.msg)}).catch(function(e){console.log(e)})}}},components:{cTitle:s.a}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"revise-address"}},[n("c-title",{attrs:{hide:!1,text:"修改提币地址"}}),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"top"},[n("yd-cell-group",[n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[e._v("手机号：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{slot:"right",type:"number",readonly:"readonly",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}},slot:"right"})]),e._v(" "),e.imgCode?n("yd-cell-item",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],staticClass:"imgInput",attrs:{slot:"left",type:"text",placeholder:"请输入图形验证码"},domProps:{value:e.captcha},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}},slot:"left"}),e._v(" "),n("img",{attrs:{slot:"right",src:e.imgCode},on:{click:e.changeImg},slot:"right"})]):e._e(),e._v(" "),n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[e._v("验证码：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{slot:"right",type:"number",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}},slot:"right"}),e._v(" "),n("yd-sendcode",{attrs:{slot:"right",second:"60",type:"warning"},nativeOn:{click:function(t){return e.sendCode(t)}},slot:"right",model:{value:e.start,callback:function(t){e.start=t},expression:"start"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"bottom"},[n("yd-cell-group",[n("div",{staticClass:"origin"},[n("div",[e._v("原提币地址：")]),e._v(" "),n("div",{staticClass:"text"},[e._v(e._s(e.oldAddress))])]),e._v(" "),n("div",{staticClass:"new"},[n("div",[e._v("新提币地址：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddress,expression:"newAddress"}],attrs:{type:"text",placeholder:"请输入新的提币地址"},domProps:{value:e.newAddress},on:{input:function(t){t.target.composing||(e.newAddress=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"new"},[n("div",[e._v("原提币二维码(可修改)：")]),e._v(" "),n("van-uploader",{staticClass:"up-photo",attrs:{"after-read":e.afterRead}},[e.fun.isTextEmpty(e.qr)?e._e():n("img",{staticClass:"show",attrs:{src:e.qr}})])],1),e._v(" "),n("yd-cell-item",[n("span",{attrs:{slot:"left"},slot:"left"},[e._v("设置默认地址：")]),e._v(" "),n("span",{attrs:{slot:"right"},slot:"right"},[n("mt-switch",{model:{value:e.is_default,callback:function(t){e.is_default=t},expression:"is_default"}})],1)])],1)],1),e._v(" "),n("div",{staticClass:"confirm",on:{click:e.revise}},[n("span",{staticClass:"btn"},[e._v("确定")])])])],1)},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(e){n("ECGN")},"data-v-618722ec",null);t.default=r.exports},ol2Y:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n#revise-address[data-v-618722ec] {\n  padding-top: 40px;\n}\n#revise-address .content .yd-cell-item[data-v-618722ec] {\n    padding-left: 0;\n    margin-left: 12px;\n    border-bottom: solid 1px #ebebeb;\n}\n#revise-address .content .yd-cell-item .yd-cell-left .imgInput[data-v-618722ec] {\n      outline: none;\n      border: none;\n}\n#revise-address .content .yd-cell-item .yd-cell-right img[data-v-618722ec] {\n      margin: 0;\n}\n#revise-address .content .top .yd-btn-warning[data-v-618722ec] {\n    background-color: #f15353;\n    border-radius: 4px;\n}\n#revise-address .content .top .yd-cell-item[data-v-618722ec]:last-child {\n    border-bottom: none;\n}\n#revise-address .content .bottom[data-v-618722ec] {\n    margin-top: 1rem;\n}\n#revise-address .content .bottom .origin[data-v-618722ec] {\n      text-align: left;\n      padding: 10px 0;\n      margin-left: 12px;\n      border-bottom: solid 1px #ebebeb;\n      font-size: 14px;\n}\n#revise-address .content .bottom .origin .text[data-v-618722ec] {\n        margin-top: 5px;\n        word-break: break-word;\n}\n#revise-address .content .bottom .new[data-v-618722ec] {\n      text-align: left;\n      padding: 10px 0;\n      margin-left: 12px;\n      border-bottom: solid 1px #ebebeb;\n      font-size: 14px;\n}\n#revise-address .content .bottom .new input[data-v-618722ec] {\n        outline: none;\n        margin-top: 5px;\n        width: 100%;\n        border: none;\n}\n#revise-address .content .bottom .new .up-photo[data-v-618722ec] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        width: 6rem;\n        height: 6rem;\n        overflow: hidden;\n        margin: 0 auto;\n        margin-top: 0.5rem;\n        margin-bottom: 0.5rem;\n        border: dashed 1px #ccc;\n        border-radius: 0.125rem;\n        position: relative;\n}\n#revise-address .content .bottom .new .up-photo .up_icon[data-v-618722ec] {\n          width: 2rem;\n          height: 2rem;\n}\n#revise-address .content .bottom .new .up-photo .show[data-v-618722ec] {\n          width: 100%;\n          height: 100%;\n}\n#revise-address .content .bottom .yd-cell-item[data-v-618722ec]:last-child {\n      border-bottom: none;\n}\n#revise-address .content .confirm[data-v-618722ec] {\n    margin-top: 20px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n#revise-address .content .confirm .btn[data-v-618722ec] {\n      border-radius: 0.5rem;\n      width: 90%;\n      height: 40px;\n      font-size: 16px;\n      text-align: center;\n      color: #fff;\n      background-color: #f15353;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n}\n",""])}});