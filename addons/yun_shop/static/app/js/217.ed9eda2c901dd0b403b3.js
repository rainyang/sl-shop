webpackJsonp([217],{GteD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Pexp"),o=a("Tg7E"),i={mixins:[a("vsZy").a],data:function(){return{show:!1,card_id:"",collectNum:0,collectList:[],showTitle:"",showContent:"",showID:"",isLoadMore:!0,page:1,total_page:0}},activated:function(){this.card_id=this.$route.params.card_id,this.getNumber(),this.getDate()},methods:{initData:function(){this.showID="",this.isLoadMore=!0,this.page=1,this.total_page=0},toCard:function(t){this.$router.push(this.fun.getUrl("BusinessCard",{},{mark_id:t.card_id,mark:"card"}))},showMore:function(t){t===this.showID?this.showID="":this.showID=t},showWeChat:function(t,e){this.show=!0,this.showTitle=e,"微信"===e?this.showContent=t.card.card_wechat:"电话"===e&&(this.showContent=t.card.card_mobile)},getNumber:function(){var t=this;$http.get("plugin.business-card.frontend.controllers.statistics.my-collection.index",{card_id:this.card_id}," ").then(function(e){1===e.result?t.collectNum=e.data:Object(o.Toast)(e.msg)},function(t){console.log(t)}).catch(function(t){console.log(t)})},getDate:function(){var t=this;$http.get("plugin.business-card.frontend.controllers.statistics.my-collection.get-list",{card_id:this.card_id,page:1}," ").then(function(e){1===e.result&&1===e.result?(t.isLoadMore=!0,t.total_page=e.data.last_page,t.total_page||(t.total_page=0),t.collectList=e.data.data):Object(o.Toast)(e.msg)},function(t){console.log(t)}).catch(function(t){console.log(t)})},getMoreData:function(){var t=this;t.isLoadMore=!1,this.page>=this.total_page||(this.page=this.page+1,$http.get("plugin.business-card.frontend.controllers.statistics.my-collection.get-list",{card_id:t.card_id,page:t.page}," ").then(function(e){if(t.isLoadMore=!0,1===e.result){var a=e.data.data;t.collectList=t.collectList.concat(a)}else t.page=t.page-1,t.isLoadMore=!1},function(t){}).catch(function(t){console.log(t)}))}},components:{cTitle:n.a}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"card_collect"}},[a("c-title",{attrs:{hide:!1,text:"名片收藏"}}),t._v(" "),a("div",{staticClass:"collect"},[a("div",{staticClass:"title"},[a("div",{staticClass:"block"}),t._v(" "),a("span",[t._v("我收藏的名片："+t._s(t.collectNum)+"个")])]),t._v(" "),a("div",{staticClass:"other_list"},t._l(t.collectList,function(e,n){return a("div",{key:n,staticClass:"header_box",on:{click:function(a){return a.stopPropagation(),t.toCard(e)}}},[a("div",{staticClass:"header"},[a("img",{attrs:{src:e.card.card_avatar}})]),t._v(" "),a("ul",{staticClass:"text"},[a("li",{staticClass:"name"},[a("span",[t._v(t._s(e.card.card_name))]),t._v(" "),e.is_child?a("i",{staticClass:"iconfont icon-card_relation",staticStyle:{color:"#f66747"}}):t._e(),t._v(" "),e.is_new?a("i",{staticClass:"iconfont icon-card_new",staticStyle:{color:"#f6c347"}}):t._e(),t._v(" "),e.mutual_save?a("button",{attrs:{type:"button"}},[t._v("互存名片")]):t._e()]),t._v(" "),e.card.member.yz_member&&e.card.member.yz_member.level?a("li",{staticClass:"grade"},[t._v("\n            "+t._s(e.card.member.yz_member.level.level_name)+"\n          ")]):t._e()]),t._v(" "),e.card.card_mobile||e.card.card_wechat?a("div",{staticClass:"icon_right"},[a("i",{staticClass:"iconfont icon-more",on:{click:function(a){return t.showMore(e.id)}}})]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.id===t.showID,expression:"item.id === showID"}],staticClass:"more_box"},[a("ul",{staticClass:"list"},[e.card.card_wechat?a("li",{on:{click:function(a){return t.showWeChat(e,"微信")}}},[a("i",{staticClass:"iconfont icon-card_weixin1"}),t._v(" "),a("span",[t._v("微信")])]):t._e(),t._v(" "),e.card.card_mobile?a("li",{on:{click:function(a){return t.showWeChat(e,"电话")}}},[a("i",{staticClass:"iconfont icon-card_phone"}),t._v(" "),a("span",[t._v("电话")])]):t._e()]),t._v(" "),a("i",{staticClass:"iconfont icon-up",on:{click:function(a){return t.showMore(e.id)}}})])])}),0)]),t._v(" "),a("van-popup",{staticStyle:{width:"80%",height:"5rem"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"popup"},[a("i",{directives:[{name:"show",rawName:"v-show",value:"微信"===t.showTitle,expression:"showTitle === '微信'"}],staticClass:"iconfont icon-card_weixin1"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"电话"===t.showTitle,expression:"showTitle === '电话'"}],staticClass:"iconfont icon-card_phone"}),t._v("\n      "+t._s(t.showTitle)+"："+t._s(t.showContent)+"\n    ")])])],1)},staticRenderFns:[]};var l=a("VU/8")(i,c,!1,function(t){a("dSBh")},"data-v-b9aa4410",null);e.default=l.exports},bs7c:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n#card_collect[data-v-b9aa4410] {\n  padding-top: 40px;\n}\n#card_collect .popup[data-v-b9aa4410] {\n    line-height: 4.9rem;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 18px;\n}\n#card_collect .popup .iconfont[data-v-b9aa4410] {\n      font-size: 30px;\n      vertical-align: middle;\n}\n#card_collect .collect[data-v-b9aa4410] {\n    background: #fff;\n    padding: 0.625rem 0.875rem;\n}\n#card_collect .collect .title[data-v-b9aa4410] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n#card_collect .collect .title .block[data-v-b9aa4410] {\n        width: 0.25rem;\n        height: 1rem;\n        background: #50a6f9;\n        border-radius: 0.0625rem;\n        margin-right: 0.375rem;\n}\n#card_collect .collect .title span[data-v-b9aa4410] {\n        font-weight: bold;\n        font-size: 16px;\n}\n#card_collect .collect .other_list .header_box[data-v-b9aa4410] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      padding: 1rem 0;\n      border-bottom: solid 0.0625rem #ebebeb;\n      position: relative;\n}\n#card_collect .collect .other_list .header_box .header[data-v-b9aa4410] {\n        width: 3rem;\n        height: 3rem;\n        border-radius: 3rem;\n        background: #f2f2f2;\n        overflow: hidden;\n        margin-right: 0.625rem;\n}\n#card_collect .collect .other_list .header_box .header img[data-v-b9aa4410] {\n          width: 100%;\n}\n#card_collect .collect .other_list .header_box .text[data-v-b9aa4410] {\n        text-align: left;\n}\n#card_collect .collect .other_list .header_box .text .name[data-v-b9aa4410] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          line-height: 1.5rem;\n}\n#card_collect .collect .other_list .header_box .text .name span[data-v-b9aa4410] {\n            font-size: 15px;\n            margin-right: 0.25rem;\n            max-width: 6.25rem;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n}\n#card_collect .collect .other_list .header_box .text .name .iconfont[data-v-b9aa4410] {\n            font-size: 1.5rem;\n            margin-right: 0.25rem;\n}\n#card_collect .collect .other_list .header_box .text .name button[data-v-b9aa4410] {\n            border: solid 0.0625rem #50a6f9;\n            font-size: 12px;\n            color: #50a6f9;\n            border-radius: 0.1875rem;\n            padding: 0.0625rem 0.375rem;\n}\n#card_collect .collect .other_list .header_box .text .grade[data-v-b9aa4410] {\n          line-height: 1.5rem;\n          color: #8c8c8c;\n          font-size: 13px;\n}\n#card_collect .collect .other_list .header_box .icon_right[data-v-b9aa4410] {\n        position: absolute;\n        right: 0;\n}\n#card_collect .collect .other_list .header_box .icon_right .iconfont[data-v-b9aa4410] {\n          display: block;\n          width: 2.5rem;\n          height: 2.5rem;\n          line-height: 2.5rem;\n          font-size: 18px;\n          color: #999;\n}\n#card_collect .collect .other_list .header_box .more_box[data-v-b9aa4410] {\n        position: absolute;\n        right: 0;\n        top: 3.125rem;\n        background: rgba(51, 51, 51, 0.8);\n        border-radius: 0.25rem;\n        z-index: 10;\n}\n#card_collect .collect .other_list .header_box .more_box .list[data-v-b9aa4410] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n#card_collect .collect .other_list .header_box .more_box .list li[data-v-b9aa4410] {\n            padding: 0.125rem 0.625rem;\n}\n#card_collect .collect .other_list .header_box .more_box .list li span[data-v-b9aa4410] {\n              display: block;\n              font-size: 12px;\n              color: #fff;\n}\n#card_collect .collect .other_list .header_box .more_box .list li .iconfont[data-v-b9aa4410] {\n              font-size: 1.25rem;\n              color: #fff;\n}\n#card_collect .collect .other_list .header_box .more_box .icon-up[data-v-b9aa4410] {\n          color: rgba(51, 51, 51, 0.8);\n          font-size: 1.25rem;\n          position: absolute;\n          top: -0.875rem;\n          right: 0.625rem;\n}\n",""])},dSBh:function(t,e,a){var n=a("bs7c");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("72dc915f",n,!0,{})}});