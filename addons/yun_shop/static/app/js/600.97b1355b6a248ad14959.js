webpackJsonp([600],{"4udk":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.top-spare[data-v-0523c419] {\n  width: 100%;\n  height: 2.75rem;\n}\n.pay-box[data-v-0523c419] {\n  background-color: #fff;\n  border-top: solid 0.0625rem #e2e2e2;\n  border-bottom: solid 0.0625rem #e2e2e2;\n  width: 100%;\n  padding: 0 0.75rem;\n}\n.pay-box .order-info[data-v-0523c419] {\n    width: 100%;\n    border-bottom: solid 0.0625rem #e2e2e2;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.pay-box .order-info span[data-v-0523c419] {\n    line-height: 2.75rem;\n    text-align: start;\n    font-size: 14px;\n    color: #333;\n}\n.pay-box .pay-pro[data-v-0523c419] {\n    width: 100%;\n    margin-top: 0.75rem;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    border-bottom: solid 0.0625rem #e2e2e2;\n    padding-bottom: 0.75rem;\n}\n.pay-box .pay-pro .img[data-v-0523c419] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      width: 4rem;\n      height: 5.5rem;\n      background-color: green;\n}\n.pay-box .pay-pro .img img[data-v-0523c419] {\n        width: 100%;\n        height: 100%;\n}\n.pay-box .pay-pro .title[data-v-0523c419] {\n      -webkit-box-flex: 3;\n          -ms-flex: 3;\n              flex: 3;\n      margin-left: 0.625rem;\n      font-size: 14px;\n}\n.pay-box .pay-pro .title .top[data-v-0523c419] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        width: 100%;\n}\n.pay-box .pay-pro .title .top .title-left[data-v-0523c419] {\n          -webkit-box-flex: 3;\n              -ms-flex: 3;\n                  flex: 3;\n          text-align: left;\n}\n.pay-box .pay-pro .title .top .title-right[data-v-0523c419] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: right;\n}\n.pay-box .pay-pro .title .bottom[data-v-0523c419] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        margin-top: 0.625rem;\n        width: 100%;\n        color: #888;\n}\n.pay-box .pay-pro .title .bottom .title-left[data-v-0523c419] {\n          -webkit-box-flex: 3;\n              -ms-flex: 3;\n                  flex: 3;\n          text-align: left;\n}\n.pay-box .pay-pro .title .bottom .title-right[data-v-0523c419] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: right;\n}\n.pay-box .pay-sum[data-v-0523c419] {\n    line-height: 2.75rem;\n    text-align: right;\n    font-size: 14px;\n}\n.pay-box .pay-sum .money[data-v-0523c419] {\n      font-weight: bold;\n      color: #f15353;\n      font-size: 18px;\n}\n.massage-box[data-v-0523c419] {\n  border-bottom: solid 0.0625rem #e2e2e2;\n  border-top: solid 0.0625rem #e2e2e2;\n  margin-top: 0.25rem;\n  background-color: #fff;\n  width: 100%;\n  padding: 1.25rem 0.625rem 0.625rem;\n}\n.massage-box textarea[data-v-0523c419] {\n    border: none;\n    background-color: #f9f9f9;\n    border: solid 0.0625rem #e2e2e2;\n    border-radius: 0.25rem;\n    width: 100%;\n    line-height: 1.5rem;\n    height: 6.25rem;\n    color: #333;\n    margin-top: 1.25rem;\n    padding-left: 0.375rem;\n}\n.bottom-but[data-v-0523c419] {\n  padding: 0 0.9375rem;\n}\n.bottom-but button[data-v-0523c419] {\n    border: none;\n    width: 100%;\n    height: 2.25rem;\n    line-height: 2.25rem;\n    background-color: #f15353;\n    border-radius: 0.25rem;\n    color: #fff;\n    font-size: 14px;\n    margin-top: 0.625rem;\n}\n",""])},FOnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Pexp"),o=n("Tg7E"),i={data:function(){return{goodList:[],totalNum:0,goodNum:0,totalPrice:0,shareContent:"",shareTit:"",shareUrl:"",shareImg:"",isMiniprogram:!1}},watch:{shareContent:function(t,e){console.log(t,e),t!=e&&(this.fun.isTextEmpty(t)||this.getShareInfo1())}},methods:{getOrderDetail:function(){var t=this;$http.get("order.another-pay-detail",{order_id:this.$route.params.order_id,pid:window.localStorage.getItem("uid")}).then(function(e){if(1===e.result){t.goodList=e.data;var n=0;e.data.forEach(function(t){return n+=t.goods_total}),t.totalNum=n,t.getPrice()}else o.MessageBox.alert(e.msg,"提示"),t.$router.go(-1)}).catch(function(t){console.log(t)})},shareTip:function(){o.MessageBox.alert("请点击右上角分享！")},miniPay:function(){window.location.href=this.shareUrl},getShareInfo:function(){var t=this;window.isMiniprogram&&(this.isMiniprogram=!0),$http.get("member.member.anotherShare",{order_ids:this.$route.params.order_id}).then(function(e){1===e.result&&(t.shareTit=e.data.title,t.shareUrl=e.data.url,t.shareImg=e.data.img,t.shareContent=e.data.content,t.initShare())}).catch(function(t){console.log(t)})},initShare:function(){var t=this,e={url:this.shareUrl};$http.post("member.member.wxJsSdkConfig",e).then(function(e){1===e.result&&e.data.config&&t.share(e.data)},function(t){console.log(t)})},share:function(t){var e=this;wx.config(t.config),wx.ready(function(){var t=e.shareTit,n=e.shareUrl,a=e.shareImg,i=e.shareContent;wx.showOptionMenu(),wx.onMenuShareTimeline({title:t,link:n,imgUrl:a,success:function(){Object(o.Toast)("分享成功")},cancel:function(){Object(o.Toast)("取消分享")}}),wx.onMenuShareAppMessage({title:t,desc:i,link:n,imgUrl:a,type:"link",dataUrl:"",success:function(){Object(o.Toast)("分享成功")},cancel:function(){Object(o.Toast)("取消分享")}})})},init:function(){this.goodList=[],this.totalNum=0,this.totalPrice=0,this.goodNum=0,this.shareContent="",this.shareTit="",this.shareUrl="",this.shareImg=""},getShareInfo1:function(){var t=this;$http.get("member.member.anotherShare",{order_ids:this.$route.params.order_id}).then(function(e){1===e.result&&(t.shareTit=e.data.title,t.shareUrl=e.data.url,t.shareImg=e.data.img,t.initShare())}).catch(function(t){console.log(t)})},getPrice:function(){var t=this;$http.get("order.merge-pay.anotherPayOrder",{order_ids:this.$route.params.order_id,pid:window.localStorage.getItem("uid")}).then(function(e){1===e.result&&(t.totalPrice=e.data.order_pay.amount)}).catch(function(t){console.log(t)})}},activated:function(){this.init(),this.getShareInfo(),this.getOrderDetail()},components:{cTitle:a.a}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"pay-another"}},[n("c-title",{attrs:{hide:!1,text:"代付"}}),t._v(" "),n("div",{staticClass:"top-spare"}),t._v(" "),n("div",{staticClass:"pay-box"},[t._m(0),t._v(" "),t._l(t.goodList,function(e,a){return n("div",{key:a},t._l(e.has_many_order_goods,function(e,a){return n("div",{key:a,staticClass:"pay-pro"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.thumb}})]),t._v(" "),n("div",{staticClass:"title"},[n("div",{staticClass:"top"},[n("span",{staticClass:"title-left"},[t._v(t._s(t._f("escapeTitle")(e.title)))]),n("br"),t._v(" "),n("span",{staticClass:"title-right"},[t._v("￥"+t._s(e.price))]),n("br")]),t._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticClass:"title-left"},[t._v("规格:"+t._s(e.goods_option_title))]),n("br"),t._v(" "),n("span",{staticClass:"title-right"},[t._v("x"+t._s(e.total))])])])])}),0)}),t._v(" "),n("div",{staticClass:"pay-sum"},[n("span",[t._v("共"+t._s(t.totalNum)+"件商品  实付：￥"),n("span",{staticClass:"money"},[t._v(t._s(t.totalPrice))])])])],2),t._v(" "),n("div",{staticClass:"massage-box"},[n("yd-step",{attrs:{current:"1"}},[n("yd-step-item",{staticStyle:{color:"#f15353"}},[n("span",{attrs:{slot:"bottom"},slot:"bottom"},[t._v("留言并分享")])]),t._v(" "),n("yd-step-item",{staticStyle:{color:"#f15353"}},[n("span",{attrs:{slot:"bottom"},slot:"bottom"},[t._v("好友参与并付款")])]),t._v(" "),n("yd-step-item",{staticStyle:{color:"#f15353"}},[n("span",{attrs:{slot:"bottom"},slot:"bottom"},[t._v("代付成功")])])],1),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.shareContent,expression:"shareContent",modifiers:{lazy:!0}}],attrs:{name:"留言给好友",id:"",cols:"30",rows:"10"},domProps:{value:t.shareContent},on:{change:function(e){t.shareContent=e.target.value}}})],1),t._v(" "),n("div",{staticClass:"bottom-but"},[t.isMiniprogram?t._e():n("Button",{on:{click:t.shareTip}},[t._v("找小伙伴帮忙付款")]),t._v(" "),t.isMiniprogram?n("Button",{on:{click:t.miniPay}},[t._v("找小伙伴帮忙付款")]):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"order-info"},[e("span",[this._v("订单信息")])])}]};var s=n("VU/8")(i,r,!1,function(t){n("K1mJ")},"data-v-0523c419",null);e.default=s.exports},K1mJ:function(t,e,n){var a=n("4udk");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("04a2ea0c",a,!0,{})}});