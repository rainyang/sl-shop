webpackJsonp([325],{"3mHI":function(o,t,n){(o.exports=n("FZ+f")(!1)).push([o.i,"\n#group_detail[data-v-6f7291cc] {\n  padding-top: 40px;\n  padding-bottom: 60px;\n}\n#group_detail .content .goods_list[data-v-6f7291cc] {\n    background: #fff;\n    padding-left: 0.625rem;\n}\n#group_detail .content .goods_list .goods_box[data-v-6f7291cc] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0.625rem 0.625rem 0;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#group_detail .content .goods_list .goods_box .goods_img[data-v-6f7291cc] {\n        width: 7.5rem;\n        height: 7.5rem;\n        background: #f2f2f2;\n        overflow: hidden;\n        border-radius: 0.25rem;\n        margin-right: 0.625rem;\n}\n#group_detail .content .goods_list .goods_box .goods_img img[data-v-6f7291cc] {\n          width: 100%;\n}\n#group_detail .content .goods_list .goods_box .goods_info[data-v-6f7291cc] {\n        width: 14.0625rem;\n        text-align: left;\n}\n#group_detail .content .goods_list .goods_box .goods_info .name[data-v-6f7291cc] {\n          font-size: 14px;\n          line-height: 1.25rem;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 2;\n}\n#group_detail .content .goods_list .goods_box .goods_info .price[data-v-6f7291cc] {\n          font-size: 16px;\n          margin-top: 0.375rem;\n          color: #f15353;\n}\n#group_detail .content .goods_list .goods_box .goods_info .price span[data-v-6f7291cc] {\n            font-size: 12px;\n}\n#group_detail .content .goods_list .goods_box .goods_info .price span[data-v-6f7291cc]:last-child {\n            color: #8c8c8c;\n            margin-left: 0.625rem;\n}\n#group_detail .content .goods_list .goods_box .goods_info .number[data-v-6f7291cc] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          -webkit-box-pack: start;\n              -ms-flex-pack: start;\n                  justify-content: flex-start;\n          margin-top: 1.625rem;\n}\n#group_detail .content .goods_list .goods_box .goods_info .number .left[data-v-6f7291cc] {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n}\n#group_detail .content .goods_list .goods_box .goods_info .number .left .iconfont[data-v-6f7291cc] {\n              font-size: 1.5rem;\n              color: #f15353;\n              margin-right: 0.375rem;\n}\n#group_detail .content .goods_list .goods_box .goods_info .number .left span[data-v-6f7291cc] {\n              font-size: 14px;\n              padding-left: 0.375rem;\n}\n#group_detail .content .goods_list .goods_box .goods_info .number .go_group[data-v-6f7291cc] {\n            height: 1.75rem;\n            border-radius: 0.25rem;\n            border: solid 0.0625rem #f15353;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-pack: center;\n                -ms-flex-pack: center;\n                    justify-content: center;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            margin-left: 0.625rem;\n            color: #f15353;\n            padding: 0 0.85rem;\n}\n#group_detail .content .goods_list .goods_box[data-v-6f7291cc]:last-child {\n      border: none;\n}\n#group_detail .content .into_group[data-v-6f7291cc] {\n    margin-top: 0.625rem;\n    background: #fff;\n    padding: 0.875rem;\n}\n#group_detail .content .into_group .title[data-v-6f7291cc] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      margin-bottom: 0.625rem;\n}\n#group_detail .content .into_group .title .line_left[data-v-6f7291cc],\n      #group_detail .content .into_group .title .line_right[data-v-6f7291cc] {\n        border: solid 0.0625rem #f15353;\n        width: 3.75rem;\n}\n#group_detail .content .into_group .title span[data-v-6f7291cc] {\n        margin: 0 1.25rem;\n        font-size: 16px;\n        color: #f15353;\n}\n#group_detail .content .into_group .time em[data-v-6f7291cc] {\n      background-color: #f15353;\n      color: #fff;\n}\n#group_detail .content .into_group p[data-v-6f7291cc] {\n      margin-top: 0.875rem;\n      font-size: 14px;\n}\n#group_detail .content .into_group p span[data-v-6f7291cc] {\n        color: #f15353;\n}\n#group_detail .content .into_group .btn[data-v-6f7291cc] {\n      margin-top: 1.25rem;\n      width: 18.75rem;\n      height: 2.5rem;\n      border-radius: 0.375rem;\n      color: #fff;\n      font-size: 16px;\n      background: #f15353;\n      border: none;\n}\n#group_detail .content .into_group .endClass[data-v-6f7291cc] {\n      background-color: #969799;\n}\n#group_detail .content .group_user[data-v-6f7291cc] {\n    background: #fff;\n    margin-top: 0.625rem;\n    padding: 0.875rem 0.875rem 1.75rem 0.875rem;\n}\n#group_detail .content .group_user h2[data-v-6f7291cc] {\n      font-weight: normal;\n      font-size: 15px;\n      margin-bottom: 0.625rem;\n      text-align: left;\n}\n#group_detail .content .group_user .user_box[data-v-6f7291cc] {\n      margin-top: 1.25rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n      max-height: 8.5rem;\n      overflow: scroll;\n}\n#group_detail .content .group_user .user_box .user[data-v-6f7291cc] {\n        position: relative;\n        margin: 0 0.375rem 0.85rem;\n}\n#group_detail .content .group_user .user_box .user .img[data-v-6f7291cc] {\n          width: 3rem;\n          height: 3rem;\n          background: #fafafa;\n          border-radius: 2rem;\n          border: dashed 0.0625rem #ebebeb;\n          overflow: hidden;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n#group_detail .content .group_user .user_box .user .img img[data-v-6f7291cc] {\n            width: 100%;\n}\n#group_detail .content .group_user .user_box .user .iconfont[data-v-6f7291cc] {\n          width: 3rem;\n          height: 3rem;\n          font-size: 1.5rem;\n          color: #ebebeb;\n          position: absolute;\n          line-height: 3rem;\n          top: 0;\n          left: 0;\n}\n#group_detail .content .group_user .user_box .user span[data-v-6f7291cc] {\n          width: 3rem;\n          height: 1.25rem;\n          line-height: 1.25rem;\n          border-radius: 2rem;\n          background: #ff8340;\n          font-size: 12px;\n          color: #fff;\n          display: block;\n          position: absolute;\n          bottom: -0.625rem;\n}\n#group_detail .content .group_user .user_box .user .current[data-v-6f7291cc] {\n          border: solid 0.0625rem #ff8340;\n}\n#group_detail .content .look_btn[data-v-6f7291cc] {\n    background: #fff;\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    border-top: solid 0.0625rem #ebebeb;\n    padding: 0 0.875rem;\n}\n#group_detail .content .look_btn button[data-v-6f7291cc] {\n      border: none;\n      background: #f15353;\n      font-size: 16px;\n      color: #fff;\n      width: 100%;\n      height: 2.5rem;\n      border-radius: 0.375rem;\n      margin: 0.375rem auto;\n}\n#group_detail .mint-popup-4[data-v-6f7291cc] {\n    width: 100%;\n}\n#group_detail .one_open[data-v-6f7291cc] {\n    padding-bottom: 3.75rem;\n}\n#group_detail .one_open .img_price[data-v-6f7291cc] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.875rem;\n}\n#group_detail .one_open .img_price .goods[data-v-6f7291cc] {\n        width: 5.875rem;\n        height: 5.875rem;\n        background: #f2f2f2;\n        border: solid 0.0625rem #ebebeb;\n        overflow: hidden;\n        border-radius: 0.1875rem;\n        position: absolute;\n        top: -1.875rem;\n}\n#group_detail .one_open .img_price .goods img[data-v-6f7291cc] {\n          width: 100%;\n}\n#group_detail .one_open .img_price .price[data-v-6f7291cc] {\n        margin-left: 6.875rem;\n        text-align: left;\n}\n#group_detail .one_open .img_price .price .price_a[data-v-6f7291cc] {\n          color: #f15353;\n          font-size: 18px;\n}\n#group_detail .one_open .img_price .price .price_b[data-v-6f7291cc] {\n          color: #8c8c8c;\n          font-size: 12px;\n}\n#group_detail .one_open .icon_close[data-v-6f7291cc] {\n      position: absolute;\n      top: 0.25rem;\n      right: 0;\n      width: 2.5rem;\n      height: 2.5rem;\n}\n#group_detail .one_open .icon_close .iconfont[data-v-6f7291cc] {\n        line-height: 2.5rem;\n        font-size: 1.125rem;\n        color: #999;\n}\n#group_detail .one_open .select_box[data-v-6f7291cc] {\n      padding: 0.875rem 0.875rem 0 0.875rem;\n}\n#group_detail .one_open .select_box .select[data-v-6f7291cc] {\n        border-top: solid 0.0625rem #ebebeb;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n        padding: 0.875rem 0;\n}\n#group_detail .one_open .select_box .select li[data-v-6f7291cc] {\n          width: 6.75rem;\n          padding: 0.625rem 0;\n          border: solid 0.0625rem #ebebeb;\n          border-radius: 0.25rem;\n          margin-right: 0.625rem;\n          margin-bottom: 0.625rem;\n}\n#group_detail .one_open .select_box .select li span[data-v-6f7291cc] {\n            display: block;\n            font-size: 14px;\n}\n#group_detail .one_open .select_box .select li span font[data-v-6f7291cc] {\n              font-size: 18px;\n}\n#group_detail .one_open .select_box .select li[data-v-6f7291cc]:nth-child(3n) {\n          margin-right: 0;\n}\n#group_detail .one_open .select_box .select .current[data-v-6f7291cc] {\n          border: solid 0.0625rem #f15353;\n          color: #f15353;\n}\n#group_detail .one_open .select_box .van-radio-group[data-v-6f7291cc] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n}\n#group_detail .one_open .select_box .van-radio-group .van-radio[data-v-6f7291cc] {\n          margin-right: 0.3125rem;\n          margin-bottom: 0.3125rem;\n          background: #fff;\n          border: 1px solid #bfcbd9;\n          text-align: center;\n          -webkit-box-sizing: border-box;\n                  box-sizing: border-box;\n          border-radius: 0.25rem;\n}\n#group_detail .one_open .select_box .van-radio-group .vantRadioshow[data-v-6f7291cc] {\n          background-color: #f15353;\n          border-color: #f15353;\n          -webkit-box-shadow: #f15353 -1px 0px 0px 0px;\n                  box-shadow: #f15353 -1px 0px 0px 0px;\n}\n#group_detail .one_open .noVantRadio[data-v-6f7291cc] {\n      padding: 0 1.25rem;\n}\n#group_detail .one_open .noVantRadio .van-radio-group .van-radio__label[data-v-6f7291cc] {\n        padding: 2rem !important;\n}\n#group_detail .one_open .noVantRadio dl[data-v-6f7291cc] {\n        margin-bottom: 0.8rem;\n        text-align: left;\n}\n#group_detail .one_open .noVantRadio dl dt[data-v-6f7291cc] {\n          margin-bottom: 0.5rem;\n}\n#group_detail .one_open .noVantRadio dl .van-radio-group[data-v-6f7291cc] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex-wrap: wrap;\n              flex-wrap: wrap;\n}\n#group_detail .one_open .noVantRadio dl .van-radio-group .van-radio[data-v-6f7291cc] {\n            margin-right: 0.3125rem;\n            margin-bottom: 0.3125rem;\n            background: #fff;\n            border: 1px solid #bfcbd9;\n            text-align: center;\n            -webkit-box-sizing: border-box;\n                    box-sizing: border-box;\n            border-radius: 0.25rem;\n}\n#group_detail .one_open .noVantRadio dl .van-radio-group .vantRadioshow[data-v-6f7291cc] {\n            background-color: #f15353;\n            border-color: #f15353;\n            -webkit-box-shadow: #f15353 -1px 0px 0px 0px;\n                    box-shadow: #f15353 -1px 0px 0px 0px;\n}\n#group_detail .one_open .buy_number[data-v-6f7291cc] {\n      margin: 0 0.875rem;\n      height: 3.75rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      border-top: solid 0.0625rem #ebebeb;\n      border-bottom: solid 0.0625rem #ebebeb;\n}\n#group_detail .one_open .buy_number .num[data-v-6f7291cc] {\n        border-radius: 0.1875rem;\n        float: right;\n        background-color: #fff;\n}\n#group_detail .one_open .buy_number .num .leftnav[data-v-6f7291cc] {\n          height: 1.75rem;\n          width: 1.75rem;\n          float: left;\n          background-color: #f2f2f2;\n          color: #999;\n          text-align: center;\n          border-radius: 0.1875rem;\n          line-height: 1.75rem;\n          font-size: 18px;\n          font-weight: bold;\n}\n#group_detail .one_open .buy_number .num .shownum[data-v-6f7291cc] {\n          height: 1.75rem;\n          width: 2.25rem;\n          float: left;\n          border: 0rem;\n          margin: 0rem;\n          padding: 0rem;\n          text-align: center;\n          color: #333;\n}\n#group_detail .one_open .buy_number .num .rightnav[data-v-6f7291cc] {\n          height: 1.75rem;\n          width: 1.75rem;\n          float: right;\n          background-color: #f2f2f2;\n          color: #999;\n          text-align: center;\n          border-radius: 0.1875rem;\n          line-height: 1.75rem;\n          font-size: 18px;\n          font-weight: bold;\n}\n#group_detail .one_open .btn[data-v-6f7291cc] {\n      background: #f15353;\n      height: 3.125rem;\n      width: 100%;\n      color: #fff;\n      font-size: 16px;\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      border: none;\n}\n",""])},FfdT:function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("Pexp"),i=n("Tg7E"),s=[],a="",r=1,d={data:function(){return{info:{has_one_group:{has_one_goods:{thumb:"",market_price:""}},has_one_level:{group_price:""}},id:"",showOpenGroup:!1,goodsInfo:{},goodsDescription:"",popPrice:0,level_id:0,goodsCount:1,goodsId:"",activityId:"",isOpen:0,status:0,action:0,activityTest:"",btnTest:"",btnStatus:!1,option_level_id:""}},activated:function(){this.init(),this.id=this.$route.params.id,this.getData()},methods:{init:function(){this.info={has_one_group:{has_one_goods:{thumb:"",market_price:""}},has_one_level:{group_price:""}},this.id="",this.showOpenGroup=!1,this.goodsInfo={},this.goodsDescription="",this.popPrice=0,this.level_id=0,this.goodsCount=1,this.goodsId="",this.activityId="",this.option_level_id="",this.isOpen=0,this.status=0,this.action=0,this.activityTest="",this.btnTest="邀请好友",this.btnStatus=!1,a="",s=[],r=1},getData:function(){var o=this,t=this;console.log("团队id",this.id),$http.get("plugin.fight-groups.frontend.controllers.team.index",{team_id:t.id},"加载中").then(function(n){1===n.result?(t.info=n.data,t.goodsInfo=n.data.has_one_group.has_one_goods,t.level_id=n.data.has_one_level.id,t.goodsId=n.data.has_one_group.goods_id,t.isOpen=n.data.has_one_group.status,t.status=n.data.status,t.action=n.data.action,t.activityId=n.data.has_one_group.id,t.setStatusBtn(),t.initPopView(),1!=o.goodsInfo.has_option&&o.selectGroup()):Object(i.Toast)(n.msg)},function(o){}).then(function(t){setTimeout(function(){o.share()},1e3)})},initPopView:function(){if(1==this.goodsInfo.has_option){this.popPrice=this.info.has_one_group.min_price+"起",this.popStock=this.goodsInfo.stock,this.goodsDescription="选择";for(var o=0;o<this.goodsInfo.has_many_specs.length;o++)this.goodsDescription+=" "+this.goodsInfo.has_many_specs[o].title}else this.popPrice=this.info.has_one_group.min_price+"起----",r=this.info.has_one_group.has_many_options[0].buy_limit,this.popStock=this.info.has_one_group.has_many_options[0].stock,this.groupStock=this.info.has_one_group.has_many_options[0].stock},groupEnd:function(){console.log("已到达结束时间时触发回调"),this.isOpen,this.activityTest="很抱歉，活动已结束！",this.btnTest="已结束",this.btnStatus=!0},setStatusBtn:function(){if(0==this.isOpen)this.activityTest="当前活动未开始",this.btnTest="更多拼团进行中",this.btnStatus=!0;else if(1==this.isOpen)0==this.status?1==this.action?(this.activityTest="支付成功后拼团活动开始！",this.btnTest="去支付"):4==this.action?(this.activityTest="活动正在进行中",this.btnTest="我要开团"):2==this.action&&(this.btnTest="邀请好友"):1==this.status?2==this.action?this.btnTest="邀请好友":1==this.action?this.btnTest="去支付":3==this.action&&(this.btnTest="我要参团"):2==this.status&&4==this.action?(this.activityTest="该团已拼团成功！",this.btnTest="我要开团"):3==this.status&&4==this.action&&(this.activityTest="未达到拼团人数，拼团失败!",this.btnTest="我要开团");else{if(2!=this.isOpen)return console.log("遇到未知的活动状态，response.data.has_one_group.status"),!1;this.activityTest="很抱歉，该活动已结束！",this.btnTest="更多拼团进行中",this.btnStatus=!0}},clickOpenGroup:function(){this.btnStatus?this.$router.push(this.fun.getUrl("group_list")):4==this.action?this.$router.push(this.fun.getUrl("GroupGoods",{id:this.activityId})):3==this.action?this.showOpenGroup=!0:2==this.action?this.shareWeixin():1==this.action&&this.$router.push(this.fun.getUrl("orderpay",{status:"2",order_ids:this.info.order_id}))},selectSpecs:function(o){o.specid;this.manageSpecs(o),this.setGoodsSpecs(o),this.setGoodsSpecsChangeInfo(),this.getMaxCount()},getMaxCount:function(){s.length==this.goodsInfo.has_many_specs.length&&(0==r&&(this.goodsCount=0),this.goodsCount>r&&(this.goodsCount=r))},setGoodsSpecsChangeInfo:function(){if(s.sort(function(o,t){return o.id-t.id}),s.length==this.goodsInfo.has_many_specs.length){for(var o="",t=0;t<s.length;t++)o+=s[t].id+"_";o=o.substring(0,o.length-1);for(var n=0;n<this.goodsInfo.has_many_options.length;n++)if(o==this.setGoodsSpecsBySort(this.goodsInfo.has_many_options[n].specs)){this.popPrice=this.goodsInfo.has_many_options[n].product_price,this.popThumb=this.fun.isTextEmpty(this.goodsInfo.has_many_options[n].thumb)?this.goodsInfo.thumb:this.goodsInfo.has_many_options[n].thumb,this.popStock=this.goodsInfo.has_many_options[n].stock,a=this.goodsInfo.has_many_options[n].id,(r=this.goodsInfo.has_many_options[n].stock)>0&&(this.goodsCount=1),this.setGroupInfo(a);break}console.log("options",a)}},setGoodsSpecsBySort:function(o){var t=o.split("_");t.sort(function(o,t){return o-t});for(var n="",e=0;e<t.length;e++)n+=t[e]+"_";return n=n.substring(0,n.length-1)},manageSpecs:function(o){var t={};if(t.id=o.id,t.specid=o.specid,t.title=o.title,s.length>0){for(var n=0;n<s.length;n++)s[n].specid==t.specid&&s.splice(n,1);s.push(t)}else s.push(t);if(s.length==this.goodsInfo.has_many_specs.length){for(var e=[],i=0;i<this.goodsInfo.has_many_specs.length;i++)for(var a=0;a<s.length;a++)if(this.goodsInfo.has_many_specs[i].id==s[a].specid){e.push(s[a]);break}s=e}this.setGoodsDescription()},setGoodsDescription:function(){var o="";if(s.length==this.goodsInfo.has_many_specs.length){o="已选择 ";for(var t=0;t<s.length;t++)o+=s[t].title+" ";this.goodsDescription=o}else{o="请选择 ";for(var n=0;n<this.goodsInfo.has_many_specs.length;n++)for(var e=0;e<s.length;e++)if(this.goodsInfo.has_many_specs[n].id!=s[e].specid){o+=this.goodsInfo.has_many_specs[n].title+" ";break}this.goodsDescription=o}},setGoodsSpecs:function(o){for(var t=0;t<this.goodsInfo.has_many_specs.length;t++)o.specid!=this.goodsInfo.has_many_specs[t].id&&this.setGoodsSpecsStatus(this.goodsInfo.has_many_specs[t].has_many_specs_item,o.id)},setGoodsSpecsStatus:function(o,t){for(var n=[],e=0;e<this.goodsInfo.has_many_options.length;e++)for(var i=this.goodsInfo.has_many_options[e].specs.split("_"),s=0;s<i.length;s++)if(i[s]==t)return void n.push(this.goodsInfo.has_many_options[e]);for(var a=0;a<n.length;a++)for(var r=n[a].specs.split("_"),d=0;d<r.length;d++)if(r[d]!=t&&0==n[a].stock){for(var c=0;c<o.length;c++)if(r[d]==o[c].id)return void(o[c].c=!0)}else if(r[d]!=t&&n[a].stock>0)for(var p=0;p<o.length;p++)if(r[d]==o[p].id)return void(o[p].c=!1);console.log(n)},setGroupInfo:function(o){for(var t=0;t<this.info.has_one_group.has_many_options.length;t++){if(this.info.has_one_group.has_many_options[t].option_id==a)return this.selectGroupInfo=this.info.has_one_group.has_many_options[t].has_many_option_level,r=this.info.has_one_group.has_many_options[t].buy_limit,this.groupStock=this.info.has_one_group.has_many_options[t].stock,this.popStock=this.groupStock,void this.selectGroup()}},selectGroup:function(o){var t=this;if(1==this.goodsInfo.has_option){var n=t.selectGroupInfo.filter(function(o){if(o.level_id==t.level_id)return o});t.popPrice=n[0].group_price,t.option_level_id=n[0].id}else{t.selectGroupInfo=t.info.has_one_group.has_many_options[0].has_many_option_level;n=t.selectGroupInfo.filter(function(o){if(o.level_id==t.level_id)return o.group_price});t.popPrice=n[0].group_price,t.option_level_id=n[0].id}},addGoods:function(){return console.log("增加",this.groupStock,r),1==this.goodsInfo.has_option&&this.fun.isTextEmpty(a)?(console.log("请选择商品规格！"),void Object(i.Toast)("请选择商品规格！")):this.goodsCount>=this.groupStock?(Object(i.Toast)("库存不足"),void(this.goodsCount=this.groupStock)):0!=r&&this.goodsCount>=r?(Object(i.Toast)("数量超出范围"),void(this.goodsCount=r)):void this.goodsCount++},reduceGoods:function(){1!=this.goodsCount&&0!=this.goodsCount&&this.goodsCount--},changeCount:function(){return this.goodsCount>=this.groupStock?(Object(i.Toast)("库存不足"),void(this.goodsCount=this.groupStock)):0!=r&&this.goodsCount>=r?(Object(i.Toast)("数量超出范围"),void(this.goodsCount=r)):this.goodsCount<=0?(Object(i.Toast)("商品数量不能小于0"),void(this.goodsCount=1)):void 0},joinTeam:function(){return this.goodsCount>=this.groupStock?(Object(i.Toast)("库存不足"),void(this.goodsCount=this.groupStock)):0!=r&&this.goodsCount>=r?(Object(i.Toast)("数量超出范围"),void(this.goodsCount=r)):this.goodsCount<=0?(Object(i.Toast)("商品数量不能小于0"),void(this.goodsCount=1)):void this.$router.push(this.fun.getUrl("goodsorder",{tag:"-2",goodsId:this.goodsId,optionsId:a,total:this.goodsCount,team_id:this.$route.params.id,option_level_id:this.option_level_id}))},share:function(o){var t=this;wx.ready(function(){var o=t.info.has_one_group.desc_title,n=t.info.share_url,e=t.info.has_one_group.has_one_goods.thumb,s=t.info.has_one_group.desc_content;wx.showOptionMenu(),wx.onMenuShareTimeline({title:o,link:n,imgUrl:e,success:function(){Object(i.Toast)("分享成功")},cancel:function(){Object(i.Toast)("取消分享")}}),wx.onMenuShareAppMessage({title:o,desc:s,link:n,imgUrl:e,success:function(){Object(i.Toast)("分享成功")},cancel:function(){Object(i.Toast)("取消分享")}})})},goHome:function(){this.$router.push(this.fun.getUrl("home",{}))},gotoGoods:function(){this.$router.push(this.fun.getUrl("GroupGoods",{id:this.activityId}))},shareWeixin:function(){5!=this.fun.getTyep()&&(7!=this.fun.getTyep()?Object(i.MessageBox)({title:"提示",message:"请点击右上角微信分享",showCancelButton:!0}):this.appSharesinit())},appSharesinit:function(){var o=this,t={url:document.location.href,i:this.fun.getKeyByI(),type:this.fun.getTyep()};$http.post("member.member.wxJsSdkConfig",t).then(function(t){1==t.result&&o.appShare(t.data)},function(o){console.log(o)})},appShare:function(o){var t=this.info.has_one_group.desc_title,n=this.info.share_url,e=this.info.has_one_goods.thumb,i=this.info.has_one_group.desc_content;YDB.Share(t,i,e,n,"Sharesback")}},computed:{},components:{cTitle:e.a}},c={render:function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("div",{attrs:{id:"group_detail"}},[n("c-title",{attrs:{hide:!1,text:"拼团详情"}}),o._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"goods_list"},[n("div",{staticClass:"goods_box"},[n("div",{staticClass:"goods_img"},[n("img",{attrs:{src:o.info.has_one_group.has_one_goods.thumb},on:{click:o.gotoGoods}})]),o._v(" "),n("ul",{staticClass:"goods_info"},[n("li",{staticClass:"name",staticStyle:{"-webkit-box-orient":"vertical"}},[o._v("\n            "+o._s(o.info.has_one_group.title)+"\n          ")]),o._v(" "),n("li",{staticClass:"price"},[n("span",[o._v("¥")]),o._v(o._s(o.popPrice)),n("span",{staticStyle:{"text-decoration":"line-through"}},[o._v("¥"+o._s(o.info.has_one_group.max_price))])]),o._v(" "),n("li",{staticClass:"number"},[n("div",{staticClass:"left"},[3!=this.status&&4!=this.action?n("span",[o._v(o._s(o.info.has_many_success_member_count)+"人付款")]):o._e()]),o._v(" "),n("div",{staticClass:"go_group"},[o._v("\n              "+o._s(o.info.has_one_level.member_num)+"人拼团\n            ")])])])])]),o._v(" "),n("div",{staticClass:"into_group"},[1==this.isOpen&&4!=this.action?[o._m(0),o._v(" "),n("div",{staticClass:"time"},[n("yd-countdown",{staticClass:"bottom_time",attrs:{slot:"right",timetype:"timestamp",time:o.info.end_time,callback:o.groupEnd},slot:"right"},[n("em",{staticStyle:{padding:"0.125rem","border-radius":"0.125rem"}},[o._v("{%d1} "),n("em",[o._v("{%d2}")])]),o._v("天\n            "),n("em",{staticStyle:{padding:"0.125rem","border-radius":"0.125rem"}},[o._v("{%h1}\n              "),n("em",[o._v("{%h2}")])]),o._v(" "),n("b",[o._v(":")]),o._v(" "),n("em",{staticStyle:{padding:"0.125rem","border-radius":"0.125rem"}},[o._v("{%m1}\n              "),n("em",[o._v("{%m2}")])]),o._v(" "),n("b",[o._v(":")]),o._v(" "),n("em",{staticStyle:{padding:"0.125rem","border-radius":"0.125rem"}},[o._v("{%s1}\n              "),n("em",[o._v("{%s2}")])])])],1),o._v(" "),n("p",[o._v("拼团中，离成团还差"),n("span",[o._v(o._s(o.info.has_one_level.member_num-o.info.has_many_success_member_count))]),o._v("人")])]:[n("h2",{staticStyle:{color:"#f15353"}},[o._v(o._s(o.activityTest))])],o._v(" "),n("button",{staticClass:"btn",class:{endClass:2==this.isOpen},attrs:{type:"button"},on:{click:function(t){return o.clickOpenGroup()}}},[o._v(o._s(o.btnTest))])],2),o._v(" "),1==this.isOpen&&3!=this.status?n("div",{staticClass:"group_user"},[n("h2",[o._v("参团的人")]),o._v(" "),this.fun.isTextEmpty(o.info.has_many_success_member)?o._e():n("div",{staticClass:"user_box"},[o._l(o.info.has_many_success_member,function(t,e){return n("div",{key:e,staticClass:"user"},[n("div",{staticClass:"img",class:{current:1==t.is_leader}},[n("img",{attrs:{src:t.has_one_member.avatar_image}})]),o._v(" "),"1"==t.is_leader?n("span",[o._v("团长")]):o._e()])}),o._v(" "),o._l(o.info.has_one_level.member_num-o.info.has_many_success_member_count,function(t,e){return n("div",{key:e,staticClass:"user"},[o._m(1,!0),o._v(" "),n("i",{staticClass:"iconfont icon-group_wenhao"})])})],2)]):o._e(),o._v(" "),n("div",{staticClass:"look_btn",style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"},on:{click:o.goHome}},[n("button",{attrs:{type:"button"}},[o._v(" 去商城逛逛")])])]),o._v(" "),n("mt-popup",{staticClass:"mint-popup-4",attrs:{position:"bottom",closeOnClickModal:"true"},model:{value:o.showOpenGroup,callback:function(t){o.showOpenGroup=t},expression:"showOpenGroup"}},[n("div",{staticClass:"one_open"},[n("div",{staticClass:"img_price"},[n("div",{staticClass:"goods"},[n("img",{attrs:{src:o.info.has_one_group.has_one_goods.thumb}})]),o._v(" "),n("ul",{staticClass:"price"},[n("li",{staticClass:"price_a"},[o._v("¥"+o._s(o.popPrice))]),o._v(" "),n("li",{staticClass:"price_b"},[o._v("库存："+o._s(o.popStock)+"件")]),o._v(" "),n("li",{staticClass:"price_b"},[o._v(o._s(o.goodsDescription))])])]),o._v(" "),n("div",{staticClass:"icon_close",on:{click:function(t){o.showOpenGroup=!1}}},[n("i",{staticClass:"iconfont icon-close11"})]),o._v(" "),1==this.goodsInfo.has_option?n("div",{staticClass:"shopinfo noVantRadio"},o._l(o.goodsInfo.has_many_specs,function(t,e){return void 0!==o.goodsInfo.has_many_specs&&o.goodsInfo.has_many_specs.length>0?n("dl",{key:e},[n("dt",[o._v(o._s(t.title))]),o._v(" "),n("dd",[n("van-radio-group",{attrs:{"checked-color":"#f15353"},on:{change:o.selectSpecs},model:{value:t.description,callback:function(n){o.$set(t,"description",n)},expression:"specs.description"}},o._l(t.has_many_specs_item,function(e,i){return n("van-radio",{key:i,class:{vantRadioshow:t.description==e},attrs:{disabled:e.c,name:e}},[o._v("\n                "+o._s(e.title)+"\n              ")])}),1)],1)]):o._e()}),0):o._e(),o._v(" "),n("div",{staticClass:"buy_number"},[n("span",[o._v("购买数量：")]),o._v(" "),n("div",{staticClass:"num"},[n("div",{staticClass:"leftnav",on:{click:o.reduceGoods}},[o._v("-")]),o._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:o.goodsCount,expression:"goodsCount",modifiers:{lazy:!0}}],staticClass:"shownum",attrs:{type:"number",placeholder:""},domProps:{value:o.goodsCount},on:{blur:function(t){return o.changeCount()},change:function(t){o.goodsCount=t.target.value}}}),o._v(" "),n("div",{staticClass:"rightnav",on:{click:o.addGoods}},[o._v("+")])])]),o._v(" "),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return o.joinTeam()}}},[o._v("确定")])])])],1)},staticRenderFns:[function(){var o=this.$createElement,t=this._self._c||o;return t("div",{staticClass:"title"},[t("div",{staticClass:"line_left"}),this._v(" "),t("span",[this._v("距结束")]),this._v(" "),t("div",{staticClass:"line_right"})])},function(){var o=this.$createElement,t=this._self._c||o;return t("div",{staticClass:"img"},[t("img",{attrs:{src:""}})])}]};var p=n("VU/8")(d,c,!1,function(o){n("vE1B")},"data-v-6f7291cc",null);t.default=p.exports},vE1B:function(o,t,n){var e=n("3mHI");"string"==typeof e&&(e=[[o.i,e,""]]),e.locals&&(o.exports=e.locals);n("rjj0")("221520be",e,!0,{})}});