webpackJsonp([546],{UxQK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Pexp"),a=n("Tg7E"),r={data:function(){return{activityName:"",average:"",personNumber:"",credit1:0,clicktag:0,integral:window.localStorage.integral}},computed:{total:function(){return Number(this.average)*Number(this.personNumber)}},methods:{getIntegral:function(){var e=this;$http.get("finance.point-page.index",{},"").then(function(t){1===t.result?e.credit1=t.data.credit1:a.MessageBox.alert(t.msg)},function(e){a.MessageBox.alert(e)})},checkScore:function(){return!(this.total>Number(this.credit1))||(Object(a.Toast)({message:"您的"+this.integral+"不够",duration:1500}),!1)},createActivity:function(){if(this.activityName&&this.average&&this.personNumber){if(this.checkScore()){var e=this;0===this.clicktag&&(this.clicktag=1,$http.post("plugin.point-activity.Frontend.Modules.Activity.Controllers.create.index",{name:e.activityName,average:e.average,total:e.personNumber}).then(function(t){var n=this;1===t.result?(e.activityName="",e.average="",e.personNumber="",Object(a.Toast)({message:"创建成功",duration:1500}),setTimeout(function(){e.$router.go(-1),n.clicktag=0},1e3)):a.MessageBox.alert(t.msg)},function(e){}))}}else Object(a.Toast)({message:"信息不能为空",duration:1500})}},activated:function(){this.clicktag=0,this.getIntegral()},components:{cTitle:i.a}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"build_active"}},[n("c-title",{attrs:{hide:!1,text:e.integral?e.integral:"积分"}}),e._v(" "),n("div",{staticStyle:{height:"40px"}}),e._v(" "),n("div",{attrs:{id:"content"}},[n("ul",{staticClass:"need_active"},[n("li",[n("h1",[e._v("-"+e._s(e.total)),n("span",[e._v(e._s(e.integral?e.integral:"积分"))])])]),e._v(" "),n("li",[e._v("当前创建活动所需要的"+e._s(e.integral?e.integral:"积分"))])]),e._v(" "),n("ul",{staticClass:"active_info"},[n("li",[n("span",[e._v("当前"+e._s(e.integral?e.integral:"积分")+"：")]),e._v(" "),n("span",[e._v(e._s(e.credit1))])]),e._v(" "),n("li",[n("span",[e._v("活动名称：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.activityName,expression:"activityName"}],attrs:{type:"text",placeholder:"填写名称"},domProps:{value:e.activityName},on:{input:function(t){t.target.composing||(e.activityName=t.target.value)}}})]),e._v(" "),n("li",[n("span",[e._v("每人赠送：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.average,expression:"average"}],attrs:{type:"tel",placeholder:"填写数量"},domProps:{value:e.average},on:{keyup:function(t){e.average=e.average.replace(/[^\d]/g,"")},input:function(t){t.target.composing||(e.average=t.target.value)}}})]),e._v(" "),n("li",[n("span",[e._v("赠送数量：")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.personNumber,expression:"personNumber"}],attrs:{type:"tel",placeholder:"填写人数"},domProps:{value:e.personNumber},on:{keyup:function(t){e.personNumber=e.personNumber.replace(/[^\d]/g,"")},input:function(t){t.target.composing||(e.personNumber=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"btn"},[n("button",{attrs:{type:"button"},on:{click:e.createActivity}},[e._v("确认创建")])])])],1)},staticRenderFns:[]};var c=n("VU/8")(r,o,!1,function(e){n("rsd/")},"data-v-1c6571e8",null);t.default=c.exports},ePip:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n#build_active #content .need_active[data-v-1c6571e8] {\n  background-color: #fff;\n  margin-top: 0.625rem;\n  padding: 0.625rem 0.875rem;\n  text-align: left;\n}\n#build_active #content .need_active li[data-v-1c6571e8] {\n    line-height: 1.875rem;\n    font-size: 14px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n#build_active #content .need_active li span[data-v-1c6571e8] {\n      font-size: 14px;\n      font-weight: normal;\n}\n#build_active #content .need_active li h1[data-v-1c6571e8] {\n      font-size: 24px;\n}\n#build_active #content .need_active li[data-v-1c6571e8]:last-child {\n    color: #8c8c8c;\n}\n#build_active #content .active_info[data-v-1c6571e8] {\n  background-color: #fff;\n  padding-left: 0.875rem;\n  margin-top: 0.625rem;\n}\n#build_active #content .active_info li[data-v-1c6571e8] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    padding-right: 0.875rem;\n    border-bottom: solid 0.0625rem #ebebeb;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    font-size: 16px;\n}\n#build_active #content .active_info li span[data-v-1c6571e8]:first-child {\n      text-align: left;\n      width: 7.75rem;\n      white-space: nowrap;\n      overflow: hidden;\n}\n#build_active #content .active_info li span[data-v-1c6571e8]:last-child {\n      width: 15.4375rem;\n      text-align: left;\n      font-size: 18px;\n      color: #f15353;\n}\n#build_active #content .active_info li input[data-v-1c6571e8] {\n      width: 15.4375rem;\n      border: none;\n}\n#build_active #content .active_info li[data-v-1c6571e8]:last-child {\n    border: none;\n}\n#build_active #content .btn[data-v-1c6571e8] {\n  margin-top: 1.25rem;\n}\n#build_active #content .btn button[data-v-1c6571e8] {\n    color: #fff;\n    width: 90%;\n    height: 2.875rem;\n    background-color: #f15353;\n    border-radius: 0.375rem;\n    font-size: 16px;\n    border: none;\n}\n",""])},"rsd/":function(e,t,n){var i=n("ePip");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("4b683392",i,!0,{})}});