webpackJsonp([405],{"/NiL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Pexp"),o=n("Tg7E"),s={data:function(){return{start:!1,address:"",is_default:!1,mobile:"",code:"",imgCode:"",captcha:"",qr:""}},activated:function(){this.inniData(),this.getMobbile()},methods:{inniData:function(){this.start=!1,this.address="",this.is_default=!1,this.mobile="",this.code="",this.imgCode="",this.captcha="",this.qr=""},changeImg:function(){this.getMobbile()},afterRead:function(t){var e=this,n=new FormData;n.append("file",t.file);this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{}),axios.post(this.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.qr=t.data.data.img_url}).catch(function(t){console.log(t)})},getMobbile:function(){var t=this;$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.fillInAddress").then(function(e){if(1==e.result){if(t.fun.isTextEmpty(e.data.mobile))return Object(o.Toast)(e.msg),void t.$router.push(t.fun.getUrl("editmobile"));t.mobile=e.data.mobile,t.imgCode=t.fun.isTextEmpty(e.data.captcha)?"":e.data.captcha.img}else Object(o.Toast)(e.msg)}).catch(function(t){console.log(t)})},sendCode:function(){var t=this,e={mobile:this.mobile,captcha:this.captcha};!this.fun.isTextEmpty(this.captcha)||this.fun.isTextEmpty(this.imgCode)?$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.sendNewCode",e).then(function(e){if(1==e.result)return Object(o.Toast)(e.msg),void setTimeout(function(){t.start=!0,t.$yddialog.loading.close()},1e3);t.getMobbile(),Object(o.Toast)(e.msg)}).catch(function(t){console.log(t)}):Object(o.Toast)("请输入图形验证码")},add:function(){var t=this;if(this.fun.isTextEmpty(this.code))Object(o.Toast)("请输入验证码");else if(/^0x((?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{1,62}$)/.test(this.address))if(this.fun.isTextEmpty(this.qr))Object(o.Toast)("请上传提币二维码");else{var e={address:this.address,is_default:!0===this.is_default?1:0,code:this.code,mobile:this.mobile,qr:this.qr};$http.get("plugin.integral.Frontend.Modules.Integral.Controllers.integral-currency-withdraw-address.store",e,"提交中").then(function(e){1==e.result?(Object(o.Toast)("提币地址添加成功"),t.$router.go(-1)):Object(o.Toast)(e.msg)}).catch(function(t){console.log(t)})}else Object(o.Toast)("请输入以0x开头加字母和数字组合的地址")}},components:{cTitle:a.a}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"address-add"}},[a("c-title",{attrs:{hide:!1,text:"新增提币地址"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("手机号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{slot:"right",type:"number",placeholder:"请输入手机号",readonly:"readonly"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}},slot:"right"})]),t._v(" "),t.imgCode?a("yd-cell-item",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],staticClass:"imgInput",attrs:{slot:"left",type:"text",placeholder:"请输入图形验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}},slot:"left"}),t._v(" "),a("img",{attrs:{slot:"right",src:t.imgCode},on:{click:t.changeImg},slot:"right"})]):t._e(),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("验证码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{slot:"right",type:"number",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}},slot:"right"}),t._v(" "),a("yd-sendcode",{attrs:{slot:"right",second:"60",type:"warning"},nativeOn:{click:function(e){return t.sendCode(e)}},slot:"right",model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"bottom"},[a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("提币地址：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{slot:"right",type:"text",placeholder:"请输入提币地址"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}},slot:"right"})]),t._v(" "),a("div",{staticClass:"qr-code"},[a("div",[t._v("上传提币二维码:")]),t._v(" "),a("van-uploader",{staticClass:"up-photo",attrs:{"after-read":t.afterRead}},[t.fun.isTextEmpty(t.qr)?a("img",{staticClass:"up_icon",attrs:{src:n("/n1I")}}):t._e(),t._v(" "),t.fun.isTextEmpty(t.qr)?t._e():a("img",{staticClass:"show",attrs:{src:t.qr}})]),t._v(" "),a("div",[t._v("注:提币地址错误，将无法找回，请认真核对，不要填错了")])],1),t._v(" "),a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[t._v("设置默认地址：")]),t._v(" "),a("span",{attrs:{slot:"right"},slot:"right"},[a("mt-switch",{model:{value:t.is_default,callback:function(e){t.is_default=e},expression:"is_default"}})],1)])],1)],1),t._v(" "),a("div",{staticClass:"confirm",on:{click:t.add}},[a("span",{staticClass:"btn"},[t._v("确定")])])])],1)},staticRenderFns:[]};var d=n("VU/8")(s,i,!1,function(t){n("FNkY")},"data-v-53a94a16",null);e.default=d.exports},FNkY:function(t,e,n){var a=n("wKdz");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("d5dd0a62",a,!0,{})},wKdz:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n#address-add[data-v-53a94a16] {\n  padding-top: 40px;\n}\n#address-add .content .yd-cell-item[data-v-53a94a16] {\n    padding-left: 0;\n    margin-left: 12px;\n    border-bottom: solid 1px #ebebeb;\n}\n#address-add .content .yd-cell-item .yd-cell-left .imgInput[data-v-53a94a16] {\n      outline: none;\n      border: none;\n}\n#address-add .content .yd-cell-item .yd-cell-right img[data-v-53a94a16] {\n      margin: 0;\n}\n#address-add .content .top .yd-btn-warning[data-v-53a94a16] {\n    background-color: #f15353;\n    border-radius: 4px;\n}\n#address-add .content .top .yd-cell-item[data-v-53a94a16]:last-child {\n    border-bottom: none;\n}\n#address-add .content .bottom[data-v-53a94a16] {\n    margin-top: 1rem;\n}\n#address-add .content .bottom .yd-cell-item[data-v-53a94a16]:last-child {\n      border-bottom: none;\n}\n#address-add .content .bottom .qr-code[data-v-53a94a16] {\n      text-align: left;\n      padding: 1rem 0;\n      color: #555;\n      margin-left: 12px;\n      border-bottom: solid 1px #ebebeb;\n}\n#address-add .content .bottom .qr-code .up-photo[data-v-53a94a16] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        width: 6rem;\n        height: 6rem;\n        overflow: hidden;\n        margin: 0 auto;\n        margin-top: 0.5rem;\n        margin-bottom: 0.5rem;\n        border: dashed 1px #ccc;\n        border-radius: 0.125rem;\n        position: relative;\n}\n#address-add .content .bottom .qr-code .up-photo .up_icon[data-v-53a94a16] {\n          width: 2rem;\n          height: 2rem;\n}\n#address-add .content .bottom .qr-code .up-photo .show[data-v-53a94a16] {\n          width: 100%;\n          height: 100%;\n}\n#address-add .content .confirm[data-v-53a94a16] {\n    margin-top: 20px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n#address-add .content .confirm .btn[data-v-53a94a16] {\n      border-radius: 0.5rem;\n      width: 90%;\n      height: 40px;\n      font-size: 16px;\n      text-align: center;\n      color: #fff;\n      background-color: #f15353;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n}\n",""])}});