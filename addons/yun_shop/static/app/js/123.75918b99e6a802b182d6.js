webpackJsonp([123],{"5yXU":function(e,t,n){e.exports=n.p+"static/app/img/favourablE.33e66bf.png"},"8xIV":function(e,t,n){var o=n("QCB2");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("7ee5c932",o,!0,{})},QCB2:function(e,t,n){var o=n("kxFB");(e.exports=n("FZ+f")(!1)).push([e.i,"\n*[data-v-5856c226] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.flowch .poundage[data-v-5856c226] {\n  color: red;\n  font-size: 12px;\n}\n.flowch .telep[data-v-5856c226] {\n  margin-top: 0.625rem;\n  padding: 0.625rem 0.875rem;\n  background: #fff;\n}\n.flowch .telep p[data-v-5856c226] {\n    line-height: 1.875rem;\n}\n.flowch .telep p b[data-v-5856c226] {\n      font-size: 24px;\n      color: #333;\n      font-weight: normal;\n}\n.flowch .telep p span[data-v-5856c226] {\n      display: block;\n      line-height: 24px;\n      text-align: left;\n      font-size: 12px;\n      color: #8c8c8c;\n}\n.flowch .telep p input[data-v-5856c226] {\n      width: 100%;\n      height: 100%;\n      border: 0;\n      outline: 0;\n      color: #333;\n      font-size: 24px;\n}\n.flowch .telep .line[data-v-5856c226] {\n    margin-top: 0.625rem;\n    border-bottom: solid 0.0625rem #ebebeb;\n}\n.flowch .traffic[data-v-5856c226] {\n  background: #fff;\n  margin-bottom: 0.4375rem;\n}\n.flowch .traffic .traffic-box[data-v-5856c226] {\n    padding: 1.25rem 0;\n    margin: 0 0.875rem;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row;\n            flex-flow: row;\n    -ms-flex-direction: row;\n        flex-direction: row;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.flowch .traffic .traffic-box li[data-v-5856c226] {\n      width: 30%;\n      height: 4.625rem;\n      border: 0.125rem solid #ebebeb;\n      border-radius: 0.25rem;\n      font-size: 22px;\n      color: #666;\n      padding-top: 1.25rem;\n}\n.flowch .traffic .traffic-box li b[data-v-5856c226] {\n        font-weight: normal;\n}\n.flowch .traffic .traffic-box li.active[data-v-5856c226] {\n      position: relative;\n      border: 0.125rem solid #f15353;\n}\n.flowch .traffic .traffic-box li.active u[data-v-5856c226] {\n        position: absolute;\n        width: 3.125rem;\n        height: 1.875rem;\n        display: inline-block;\n        top: 0;\n        left: 0;\n        background: url("+o(n("5yXU"))+") no-repeat 0 0;\n}\n.flowch .traffic .traffic-box li.active i[data-v-5856c226] {\n        width: 1.875rem;\n        height: 1rem;\n        display: inline-block;\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        background: url("+o(n("mUwO"))+") no-repeat 0.0625rem 0;\n}\n.flowch .traffic .traffic-money .item[data-v-5856c226] {\n    padding: 0.8125rem 1.25rem;\n    overflow: hidden;\n}\n.flowch .traffic .traffic-money .item div.left[data-v-5856c226] {\n      width: 80%;\n      float: left;\n}\n.flowch .traffic .traffic-money .item div.left p[data-v-5856c226] {\n        clear: both;\n}\n.flowch .traffic .traffic-money .item div.left .one[data-v-5856c226] {\n        line-height: 2.5rem;\n}\n.flowch .traffic .traffic-money .item div.left .one b[data-v-5856c226] {\n          font-size: 22px;\n          color: #333;\n          font-weight: normal;\n          float: left;\n}\n.flowch .traffic .traffic-money .item div.left .one span[data-v-5856c226] {\n          padding: 0.1875rem 0.5rem;\n          background: #36d2b6;\n          color: #fff;\n          border-radius: 0.375rem;\n          font-size: 10px;\n}\n.flowch .traffic .traffic-money .item div.left .two[data-v-5856c226] {\n        font-size: 12px;\n        color: #666;\n        text-align: left;\n        line-height: 1.125rem;\n}\n.flowch .traffic .traffic-money .item div.right[data-v-5856c226] {\n      width: 20%;\n      float: right;\n}\n.flowch .traffic .traffic-money .item div.right span[data-v-5856c226] {\n        width: 1.25rem;\n        height: 1.25rem;\n        display: inline-block;\n        border: 0.0625rem solid #aaa;\n        border-radius: 50%;\n        float: right;\n        margin-top: 50%;\n}\n.flowch .traffic .traffic-money .item div.right .active[data-v-5856c226] {\n        border: 0.0625rem solid #f15353;\n        background: url("+o(n("2RmY"))+") no-repeat 0.1875rem 0.1875rem;\n}\n.flowch .m-footer[data-v-5856c226] {\n  width: 100%;\n  background: #fff;\n  position: fixed;\n  bottom: 0;\n}\n.flowch .m-footer .subtotal[data-v-5856c226] {\n    height: 2.5rem;\n    line-height: 2.5rem;\n    padding: 0 0.875rem;\n    margin: 0;\n}\n.flowch .m-footer .subtotal span[data-v-5856c226]:first-child {\n      color: #333;\n      font-size: 16px;\n      float: left;\n}\n.flowch .m-footer .subtotal span[data-v-5856c226]:last-child {\n      font-size: 16px;\n      color: #f15353;\n      float: right;\n}\n.flowch .m-footer .integral[data-v-5856c226] {\n    border-top: 0.0625rem solid #ebebeb;\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    margin-left: 0.875rem;\n    padding-right: 0.875rem;\n}\n.flowch .m-footer .integral div[data-v-5856c226] {\n      float: left;\n}\n.flowch .m-footer .integral div b[data-v-5856c226] {\n        color: #333;\n        font-size: 16px;\n        font-weight: noraml;\n        margin-right: 0.625rem;\n        font-weight: normal;\n}\n.flowch .m-footer .integral div span[data-v-5856c226] {\n        color: #333;\n        font-size: 12px;\n}\n.flowch .m-footer .amount.disableds button[data-v-5856c226] {\n    background: #ccc;\n}\n.flowch .m-footer .amount[data-v-5856c226] {\n    border-top: solid 0.0625rem #e2e2e2;\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    padding: 0 0 0 0.875rem;\n    margin-bottom: 0;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.flowch .m-footer .amount span[data-v-5856c226] {\n      color: #333;\n      font-size: 16px;\n      float: left;\n}\n.flowch .m-footer .amount button[data-v-5856c226] {\n      width: 6.875rem;\n      height: 2.8125rem;\n      color: #fff;\n      font-size: 16px;\n      background: #f15353;\n      border: 0;\n      float: right;\n}\n.flowwei .telep[data-v-5856c226] {\n  height: 2.8125rem;\n  padding: 0 0.8125rem;\n  background: #fff;\n}\n.flowwei .telep p[data-v-5856c226] {\n    height: 2.8125rem;\n}\n.flowwei .telep p b[data-v-5856c226] {\n      font-size: 22px;\n      color: #1bba9e;\n      font-weight: normal;\n      float: left;\n}\n.flowwei .telep p span[data-v-5856c226] {\n      font-size: 12px;\n      color: #666;\n      float: right;\n}\n.flowwei .telep p input[data-v-5856c226] {\n      width: 100%;\n      height: 100%;\n      border: 0;\n      outline: 0;\n      color: #1bba9e;\n      font-size: 18px;\n}\n.flowwei .traffic[data-v-5856c226] {\n  background: #fff;\n  margin-bottom: 0.4375rem;\n}\n.flowwei .traffic .traffic-box[data-v-5856c226] {\n    padding-top: 0.625rem;\n    margin: 0.4375rem;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row;\n            flex-flow: row;\n    -ms-flex-direction: row;\n        flex-direction: row;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.flowwei .traffic .traffic-box li[data-v-5856c226] {\n      width: 30%;\n      height: 4.375rem;\n      border: 0.0625rem solid #ebebeb;\n      border-radius: 0.25rem;\n      font-size: 22px;\n      color: #666;\n      padding-top: 1.25rem;\n}\n.flowwei .traffic .traffic-box li.active[data-v-5856c226] {\n      position: relative;\n      border: 0.0625rem solid #36d2b6;\n}\n.flowwei .traffic .traffic-box li.active u[data-v-5856c226] {\n        position: absolute;\n        width: 3.125rem;\n        height: 1.875rem;\n        display: inline-block;\n        top: 0;\n        left: 0;\n        background: url("+o(n("5yXU"))+") no-repeat 0 0;\n}\n.flowwei .traffic .traffic-box li.active i[data-v-5856c226] {\n        width: 1.875rem;\n        height: 1rem;\n        display: inline-block;\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        background: url("+o(n("9r3K"))+") no-repeat 0.0625rem 0;\n}\n.flowwei .traffic .traffic-money .item[data-v-5856c226] {\n    padding: 0.8125rem 1.25rem;\n    overflow: hidden;\n}\n.flowwei .traffic .traffic-money .item div.left[data-v-5856c226] {\n      width: 80%;\n      float: right;\n}\n.flowwei .traffic .traffic-money .item div.left p[data-v-5856c226] {\n        clear: both;\n}\n.flowwei .traffic .traffic-money .item div.left .one[data-v-5856c226] {\n        line-height: 2.5rem;\n}\n.flowwei .traffic .traffic-money .item div.left .one b[data-v-5856c226] {\n          font-size: 22px;\n          color: #333;\n          font-weight: normal;\n          float: right;\n}\n.flowwei .traffic .traffic-money .item div.left .one span[data-v-5856c226] {\n          padding: 0.1875rem 0.5rem;\n          background: #36d2b6;\n          color: #fff;\n          border-radius: 0.375rem;\n          font-size: 10px;\n          text-align: right;\n}\n.flowwei .traffic .traffic-money .item div.left .two[data-v-5856c226] {\n        font-size: 12px;\n        color: #666;\n        text-align: right;\n        line-height: 1.125rem;\n}\n.flowwei .traffic .traffic-money .item div.right[data-v-5856c226] {\n      width: 20%;\n      float: left;\n}\n.flowwei .traffic .traffic-money .item div.right span[data-v-5856c226] {\n        width: 1.25rem;\n        height: 1.25rem;\n        display: inline-block;\n        border: 0.0625rem solid #aaa;\n        border-radius: 50%;\n        float: left;\n        margin-top: 50%;\n}\n.flowwei .traffic .traffic-money .item div.right .active[data-v-5856c226] {\n        border: 0.0625rem solid #36d2b6;\n        background: url("+o(n("OLOc"))+") no-repeat 0.1875rem 0.1875rem;\n}\n.flowwei .m-footer[data-v-5856c226] {\n  width: 100%;\n  background: #fff;\n}\n.flowwei .m-footer .subtotal[data-v-5856c226] {\n    height: 2.5rem;\n    line-height: 2.5rem;\n    padding: 0 0.8125rem;\n    border-bottom: 0.0625rem solid #ebebeb;\n    margin: 0;\n}\n.flowwei .m-footer .subtotal span[data-v-5856c226]:first-child {\n      color: #333;\n      font-size: 16px;\n      float: right;\n}\n.flowwei .m-footer .subtotal span[data-v-5856c226]:last-child {\n      color: 16px;\n      color: #333;\n      float: left;\n}\n.flowwei .m-footer .integral[data-v-5856c226] {\n    height: 2.8125rem;\n    line-height: 2.8125rem;\n    padding: 0 0.8125rem;\n}\n.flowwei .m-footer .integral div[data-v-5856c226] {\n      float: right;\n}\n.flowwei .m-footer .integral div b[data-v-5856c226] {\n        color: #333;\n        font-size: 16px;\n        font-weight: noraml;\n        float: right;\n}\n.flowwei .m-footer .integral div span[data-v-5856c226] {\n        color: #333;\n        font-size: 12px;\n}\n.flowwei .m-footer .amount[data-v-5856c226] {\n    height: 3.125rem;\n    line-height: 3.125rem;\n    padding: 0 0 0 0.8125rem;\n    margin-bottom: 0;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.flowwei .m-footer .amount span[data-v-5856c226] {\n      color: #333;\n      font-size: 16px;\n      float: left;\n}\n.flowwei .m-footer .amount button[data-v-5856c226] {\n      width: 6.5625rem;\n      height: 2.5rem;\n      color: #fff;\n      font-size: 16px;\n      background: #ff951b;\n      border: 0;\n      border-radius: 0.1875rem;\n      margin-top: 0.5625rem;\n      float: right;\n}\n",""])},VTL5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("mvHQ"),i=n.n(o),a=n("Pexp"),r=n("Tg7E"),s={components:{cTitle:a.a},data:function(){return{language:{},Hot_flow:999,moneyHotspot:9999,payMoney:0,isActive:!0,MobilePhone:"",api_goods_id:"",tele:!1,score:0,goods_id:"",preOrder:"",option_id:"",scoreMoney:0,computedMoney:0,sourceMoney:0,deductionName:"",offDeductible:!1,useScore:!1,disableds:!0,datas:null,checkDeductionList:[],items:[{num:"",data:[{price:"",span:"",des:""}]}]}},methods:{goSubmit:function(){this.disableds||this.submitOrder()},submitOrder:function(){var e=this,t={goods:i()(this.assembleGoods()),mobile:this.MobilePhone,orders:i()(this.assembleDeduction()),api_goods_id:this.api_goods_id};console.log("getOrderJson:::",t),$http.get("plugin.flow-recharge.Frontend.Modules.Order.Controllers.create",t,"加载中...").then(function(t){console.log("create:::",t),1==t.result?(localStorage.setItem("FlowTempMobilePhone",e.MobilePhone),e.$router.push(e.fun.getUrl("orderpay",{status:"2",order_ids:t.data.order_ids}))):r.MessageBox.alert(t.msg)},function(e){r.MessageBox.alert(e)})},assembleGoods:function(){var e=[],t=new Object;return t.goods_id=this.goods_id,t.total=1,t.option_id=this.option_id,e.push(t),e},assembleDeduction:function(){for(var e=[],t=0;t<this.checkDeductionList.length;t++)e.push(this.checkDeductionList[t]);return e},getGoodsOptionPrice:function(e){var t=this;$http.get("plugin.flow-recharge.api.goods.goodsOptionPrice",{mobile:e},"加载中...").then(function(e){if(1==e.result){var n=e.data;for(var o in n)t.$set(t.items,o,n[o]);t.goods_id=e.data[0].goods_id,t.option_id=e.data[0].option_id}else r.MessageBox.alert(e.msg)},function(e){r.MessageBox.alert(e)})},getGoodsOption:function(){var e=this;$http.get("plugin.flow-recharge.api.goods.goodsOption",{},"加载中...").then(function(t){if(1==t.result){var n=t.data;for(var o in n)e.$set(e.items,o,n[o])}else r.MessageBox.alert(t.msg)},function(e){r.MessageBox.alert(e)})},getDeductible:function(e,t){var n=this,o={goods_id:this.goods_id,total:1,option_id:this.option_id,mobile:this.MobilePhone,orders:i()(this.assembleDeduction()),api_goods_id:this.api_goods_id};$http.get("plugin.flow-recharge.Frontend.Modules.Order.Controllers.goods-buy",o).then(function(e){1==e.result?(n.computedMoney=e.data.total_price,n.preOrder=e.data.order_data[0],e.data.order_data[0].discount.deduction[0]&&(n.deductionName=e.data.order_data[0].discount.deduction[0].name,n.scoreMoney=e.data.order_data[0].discount.deduction[0].price,n.score=e.data.order_data[0].discount.deduction[0].value),n.disableds=!1):r.MessageBox.alert(e.msg)})},selectedStyle:function(e,t,n){this.fun.isMoblie(this.MobilePhone)?r.MessageBox.alert("请输入正确的手机号码！"):(this.moneyHotspot=9999,this.payMoney=0,this.sourceMoney=0,this.disableds=!0,this.Hot_flow=t,this.option_id=n.option_id,this.datas=this.items[t].data)},selectMoney:function(e,t,n,o){this.moneyHotspot=n,this.payMoney=t,this.api_goods_id=o,this.sourceMoney=t,this.getDeductible()}},computed:{getLangState:function(){return this.$store.state.service.languageService}},watch:{MobilePhone:function(e){if((e=e.toString()).length<11||e.length>11)return this.offDeductible=!1,this.moneyHotspot=999,this.Hot_flow=999,this.datas="",void(this.disableds=!0);this.fun.isMoblie(e)||11!=e.length?r.MessageBox.alert("请输入正确的手机号码！"):(this.$refs.isinput.blur(),this.getGoodsOptionPrice(e))},getLangState:function(e){this.language=e?JSON.parse(sessionStorage.languageService).flow:this.$store.state.service.languageService.flow},sourceMoney:function(e){this.useScore?this.computedMoney=this.sourceMoney-this.scoreMoney:this.computedMoney=this.sourceMoney},useScore:function(e){if(e){var t=new Object;this.preOrder&&(t.deduction_ids=this.preOrder.discount.deduction[0].id),t.pre_id=this.preOrder.order.pre_id,this.checkDeductionList.push(t)}else this.checkDeductionList=[];console.log("data:::",this.goods_id),this.getDeductible()}},mounted:function(){sessionStorage.languageService?this.language=JSON.parse(sessionStorage.languageService).flow:this.language=this.$store.state.service.languageService.flow,localStorage.getItem("FlowTempMobilePhone")?this.MobilePhone=localStorage.getItem("FlowTempMobilePhone"):(this.MobilePhone="",this.getGoodsOption()),this.$store.commit("onload")}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"flow"+e.$store.state.service.lang,attrs:{id:"flow"}},[n("c-title",{attrs:{hide:!1,text:e.language.title,tolink:"flowRechargeRecord",totext:e.language.record}}),e._v(" "),n("div",{staticStyle:{height:"40px"}}),e._v(" "),n("div",{staticClass:"telep"},[e.tele?n("p",[n("b",[e._v("13450772233")]),e._v(" "),n("span",[e._v("广东移动")])]):n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.MobilePhone,expression:"MobilePhone",modifiers:{trim:!0}}],ref:"isinput",attrs:{type:"number",placeholder:e.language.placeTip},domProps:{value:e.MobilePhone},on:{input:function(t){t.target.composing||(e.MobilePhone=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("span",[e._v("广东移动")])]),e._v(" "),n("div",{staticClass:"line"})]),e._v(" "),n("div",{staticClass:"traffic"},[n("ul",{staticClass:"traffic-box"},e._l(e.items,function(t,o){return n("li",{key:o,staticClass:"info",class:{active:e.Hot_flow==o},on:{click:function(n){return e.selectedStyle(n,o,t)}}},[n("u"),e._v(" "),n("b",[e._v(e._s(t.num))]),e._v(" "),n("i")])}),0),e._v(" "),e.datas?n("div",{staticClass:"traffic-money"},e._l(e.datas,function(t,o){return n("div",{key:o,staticClass:"item",on:{click:function(n){return e.selectMoney(n,t.price,o,t.api_goods_id)}}},[n("div",{staticClass:"left"},[n("p",{staticClass:"one"},[n("b",[e._v("¥"+e._s(t.price))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.span,expression:"item.span"}]},[e._v(e._s(t.span))])]),e._v(" "),n("p",{staticClass:"two"},[e._v(e._s(t.des))])]),e._v(" "),n("div",{staticClass:"right"},[n("span",{class:{circle:e.moneyHotspot!=o,active:e.moneyHotspot==o}})])])}),0):e._e()]),e._v(" "),n("div",{staticClass:"m-footer",style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"}},[n("p",{staticClass:"subtotal"},[n("span",[e._v(e._s(e.language.subtotal))]),e._v(" "),n("span",[e._v("¥"+e._s(e.sourceMoney))])]),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.offDeductible,expression:"offDeductible"}],staticClass:"integral"},[n("div",[n("b",[e._v(e._s(e.deductionName))]),e._v(" "),n("span",[e._v(e._s(e.language.scoreTip1)+e._s(e.score)+e._s(e.language.scoreTip2)+e._s(e.scoreMoney)+e._s(e.language.yuan))])]),e._v(" "),n("mt-switch",{class:{rt:e.$store.state.service.chinese,lf:!e.$store.state.service.chinese},model:{value:e.useScore,callback:function(t){e.useScore=t},expression:"useScore"}})],1),e._v(" "),n("div",{staticClass:"clear"}),e._v(" "),n("div",{staticClass:"amount",class:{disableds:e.disableds}},[n("span",[e._v(e._s(e.language.total)),n("b",[e._v(e._s(e.computedMoney))])]),e._v(" "),n("button",{attrs:{type:"button"},on:{click:e.goSubmit}},[e._v(e._s(e.language.btn))])])])],1)},staticRenderFns:[]};var c=n("VU/8")(s,l,!1,function(e){n("8xIV")},"data-v-5856c226",null);t.default=c.exports}});