webpackJsonp([529],{B6rw:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("Tg7E"),r={data:function(){return{photosize:4194304,show1:!1,imageUrl:"",uploadUrl:"",upImgSrc:"",bank_info:[],amount_info:"",pay_info:""}},activated:function(){this.urlUp(),this.getJson()},mounted:function(){},methods:{getJson:function(){this.imageUrl="",this.upImgSrc="";var t=this,n={order_pay_id:t.$route.params.id};$http.get("order.mergePay.remittance",n).then(function(n){1==n.result&&(t.bank_info=n.data.payee_info,t.amount_info=n.data.amount,t.pay_info=n.data.pay_sn)},function(t){Object(a.Toast)(t.msg)})},confirmEvent:function(){if(""!=this.upImgSrc){var t=this,n={order_pay_id:t.$route.params.id,report_url:t.upImgSrc};$http.get("remittance.pay",n).then(function(n){1==n.result&&(t.$router.push(t.fun.getUrl("orderlist",{status:t.$route.params.status,bank_id:t.$route.params.id})),Object(a.Toast)(n.msg))},function(t){Object(a.Toast)(t.msg)})}else Object(a.Toast)("请上传付款凭证")},onLine:function(){this.$router.push(this.fun.getUrl("orderpay",{status:"2",order_ids:this.$route.params.order_ids}))},closeTip:function(){this.show1=!1},confirmTip:function(){this.show1=!1},urlUp:function(){this.uploadUrl=this.fun.getRealUrl("upload.uploadPic",{})},handleStoreSuccess:function(t,n){this.imageUrl=URL.createObjectURL(n.raw),1==t.result?this.upImgSrc=t.data.img:Object(a.Toast)(t.msg)},beforeUpload:function(t){var n="image/png"===t.type||"image/jpeg"===t.type,e=t.size/1024/1024<2;return n||this.$notify("上传头像图片只能是 JPG或PNG 格式!"),e||this.$notify("上传头像图片大小不能超过 2MB!"),n&&e},onRead:function(t){var n=new FormData;n.append("file",t.file);var e=this;axios.post(this.uploadUrl,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(n){var r=n.data;1==r.result?(e.imageUrl=URL.createObjectURL(t.file),e.upImgSrc=r.data.img):Object(a.Toast)(r.msg)}).catch(function(t){console.log(t)})},onphotosize:function(t){this.$notify("上传图片大小不能超过 2MB!")}},components:{cTitle:e("Pexp").a}},i={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"transfer-accounts"}},[a("c-title",{attrs:{hide:!1,text:"转账"}}),t._v(" "),a("div",{staticClass:"pay-info"},[a("ul",[a("h1",[t._v("上传付款凭证")]),t._v(" "),a("li",[t._v("订单："+t._s(t.pay_info))]),t._v(" "),a("li",[t._v("金额："+t._s(t.amount_info)+"元")]),t._v(" "),a("div",{staticClass:"accounts-box"},[a("div",[a("van-uploader",{attrs:{"after-read":t.onRead,"max-size":t.photosize},on:{oversize:t.onphotosize}},[a("div",{staticStyle:{padding:"1rem",width:"10rem",height:"10rem",border:"1px dashed #333",margin:"0 auto"}},[a("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:t.imageUrl?t.imageUrl:e("/n1I")}})])])],1)]),t._v(" "),a("li",[t._v("如是在没有凭证请联系发货方对账后再点击确认")])])]),t._v(" "),a("div",{staticClass:"btn"},[a("van-row",[a("van-button",{staticStyle:{width:"80%","margin-bottom":"0.4rem"},attrs:{type:"primary"},on:{click:t.confirmEvent}},[t._v("确认已经汇款")])],1)],1),t._v(" "),a("div",[a("van-row",[a("van-button",{staticStyle:{width:"80%"},attrs:{type:"danger"},on:{click:t.onLine}},[t._v("在线付款")])],1)],1),t._v(" "),a("section",{attrs:{id:"prompt-box"}},[a("div",{attrs:{id:"prompt-info"}},[a("h2",[t._v("注意事项：汇款时请注意以下信息，请牢记！")]),t._v(" "),a("ul",t._l(t.bank_info,function(n,e){return a("li",{key:t.i},[t._v("\n            "+t._s(n.title)+": "+t._s(n.text)+"\n          ")])}),0),t._v(" "),a("h2",[t._v("注意事项：汇款时请注意以下信息，请牢记！")]),t._v(" "),t._m(0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("ul",{staticClass:"prompt-a"},[n("li",[this._v("\n            1.线下公司转账订单，一个识别码对应一个订单和相应的金额，请勿多转账或者少转账。\n          ")]),this._v(" "),n("li",[this._v("\n            2.请在7天内付清款项，超过10天未对账系统自动会取消订单，到账周期为3个工作起。\n          ")])])}]};var o=e("VU/8")(r,i,!1,function(t){e("JD4v")},"data-v-2482c808",null);n.default=o.exports},JD4v:function(t,n,e){var a=e("gXEv");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("011d955e",a,!0,{})},gXEv:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.avatar[data-v-2482c808] {\n  width: 100%;\n  height: 100%;\n}\n.el-button--success[data-v-2482c808] {\n  width: 80%;\n  height: 2.875rem;\n  margin-bottom: 0.75rem;\n}\n.el-button--danger[data-v-2482c808] {\n  width: 80%;\n  height: 2.875rem;\n}\n#transfer-accounts[data-v-2482c808] {\n  padding-bottom: 20px;\n  background-color: #fff;\n  color: #333;\n  padding-top: 2.5rem;\n}\n#transfer-accounts .pay-info h1[data-v-2482c808] {\n    font-size: 20px;\n    line-height: 2.5rem;\n    margin: 1.25rem 0;\n}\n#transfer-accounts .pay-info .accounts-box[data-v-2482c808] {\n    -border: dashed 0.0625rem #ebebeb;\n    -background-color: #fafafa;\n    -display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    margin: 0.625rem auto;\n}\n#transfer-accounts .pay-info ul li[data-v-2482c808] {\n    line-height: 1.5rem;\n    font-size: 16px;\n}\n#transfer-accounts .pay-info ul li[data-v-2482c808]:last-child {\n    font-size: 12px;\n    color: #8c8c8c;\n}\n#transfer-accounts .btn[data-v-2482c808] {\n    margin-top: 1rem;\n    font-size: 16px;\n}\n#transfer-accounts #prompt-box[data-v-2482c808] {\n    margin-top: 1.25rem;\n}\n#transfer-accounts #prompt-info[data-v-2482c808] {\n    z-index: 20;\n    height: 100%;\n    padding-bottom: 0.625rem;\n    background-color: #fafafa;\n    margin: 0 0.625rem;\n    border-radius: 0.25rem;\n}\n#transfer-accounts #prompt-info .info-title[data-v-2482c808] {\n      width: 100%;\n      position: fixed;\n      top: 0;\n      padding: 0 0.875rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 2.5rem;\n      line-height: 2.5rem;\n      border-bottom: solid 0.0625rem #ebebeb;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      background-color: #fff;\n}\n#transfer-accounts #prompt-info .info-title .icon[data-v-2482c808] {\n        width: 2.5rem;\n        height: 2.5rem;\n        position: absolute;\n        right: 0rem;\n        line-height: 2.5rem;\n}\n#transfer-accounts #prompt-info h1[data-v-2482c808] {\n      font-size: 16px;\n      text-align: center;\n}\n#transfer-accounts #prompt-info h2[data-v-2482c808] {\n      line-height: 2.5rem;\n      padding: 0 0.875rem;\n      font-size: 14px;\n      text-align: left;\n      color: #333;\n}\n#transfer-accounts #prompt-info .prompt-a li[data-v-2482c808] {\n      text-indent: -0.625rem;\n      margin-left: 0.625rem;\n}\n#transfer-accounts #prompt-info ul[data-v-2482c808] {\n      margin: 0 0.875rem;\n}\n#transfer-accounts #prompt-info ul li[data-v-2482c808] {\n        padding: 0 0.625rem;\n        line-height: 1.5rem;\n        font-size: 14px;\n        color: #8c8c8c;\n        text-align: left;\n        text-indent: 0.625rem;\n}\n#transfer-accounts #prompt-info button[data-v-2482c808] {\n      width: 21.6875rem;\n      margin: 0 0.875rem;\n      border: none;\n      background-color: #f15353;\n      height: 2.875rem;\n      border-radius: 0.25rem;\n      color: #fff;\n      font-size: 16px;\n      margin-top: 1.25rem;\n}\n",""])}});