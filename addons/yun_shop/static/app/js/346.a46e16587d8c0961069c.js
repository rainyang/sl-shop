webpackJsonp([346],{"47d3":function(t,e,n){var i=n("xLUt");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("f4dbc4c0",i,!0,{})},Aj0z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Tg7E"),o="plugin.store-cashier.frontend.boss.center.getChildStoreList",a={data:function(){return{shop_info:{},shop_amount:{},bossId:0,shopListArr:[],loading:!1,allLoaded:!1,goload:!0,isLoadMore:!0,page:1,total_page:0,income_name_text:""}},activated:function(){this.initData(),this.getChainShopInfo(),this.customizeIncome()},mounted:function(){},methods:{initData:function(){this.shop_info={},this.shop_amount={},this.bossId=0,this.initListData()},initListData:function(){this.shopListArr=[],this.loading=!1,this.allLoaded=!1,this.goload=!0,this.isLoadMore=!0,this.page=1,this.total_page=0},gotoIncome:function(){var t=this;$http.get("member.member.withdrawByMobile",{},"").then(function(e){1==e.result?1==e.data.is_bind_mobile?t.$router.push(t.fun.getUrl("withdrawEditmobile",{})):t.$router.push(t.fun.getUrl("withdrawal",{})):i.MessageBox.alert(e.msg)},function(t){i.MessageBox.alert(t.msg)})},getChainShopInfo:function(){var t=this;$http.get("plugin.store-cashier.frontend.boss.center.index",{},"加载中...").then(function(e){1==e.result?(t.shop_info=e.data.store_boss.has_one_member,t.shop_amount=e.data.statistics,t.bossId=e.data.store_boss.id,t.getShopList(t.bossId)):(i.MessageBox.alert(e.msg),t.$router.go(-1))}).catch(function(t){console.log(t)})},getShopList:function(t){var e=this;$http.get(o,{page:this.page,boss_id:t}).then(function(t){1==t.result&&(e.total_page=t.data.last_page,e.shopListArr=t.data.data)}).catch(function(t){console.log(t)})},getMoreShopList:function(){var t=this;if(this.page!=this.total_page)return this.page>=this.total_page?(this.loading=!0,void(this.allLoaded=!0)):(this.page=this.page+1,void $http.get(o,{boss_id:this.bossId,page:this.page},"加载中...").then(function(e){if(1!=e.result)return t.page=t.page-1,t.loading=!0,t.allLoaded=!0,void(t.isLoadMore=!1);t.loading=!1,t.allLoaded=!1,t.shopListArr=t.shopListArr.concat(e.data.data)}).catch(function(t){console.log(t)}))},loadTop:function(){this.initListData(),this.getShopList(this.bossId),this.$refs.shop_loadmore.onTopLoaded()},loadBottom:function(){this.isLoadMore?(this.getMoreShopList(this.bossId),this.$refs.shop_loadmore.onBottomLoaded()):console.log("没有更多数据")},goToShop:function(t){this.$router.push(this.fun.getUrl("ChainShopInfo",{id:t}))},customizeIncome:function(){var t=this.fun.initMailLanguage();this.income_name_text=t.income.income_name}},components:{cTitle:n("Pexp").a}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chain_shop"}},[i("c-title",{attrs:{hide:!1,text:"连锁店首页"}}),t._v(" "),i("div",{attrs:{id:"header"}},[i("div",{staticClass:"header_user"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t.shop_info.avatar}})]),t._v(" "),i("ul",{staticClass:"name"},[i("li",[t._v(t._s(t.shop_info.nickname))])]),t._v(" "),i("div",{staticClass:"btn",on:{click:t.gotoIncome}},[i("i",{staticClass:"iconfont icon-income-cashb"}),t._v(" "),i("span",[t._v(t._s(this.fun.initWithdrawal()))])])]),t._v(" "),i("div",{staticClass:"header_info"},[i("ul",[i("li",[t._v("门店数")]),t._v(" "),i("li",[t._v(t._s(t.shop_amount.store_count)),i("span",[t._v("个")])])]),t._v(" "),i("ul",[i("li",[t._v("订单数")]),t._v(" "),i("li",[t._v(t._s(t.shop_amount.order_count)),i("span",[t._v("个")])])]),t._v(" "),i("ul",[i("li",[t._v("订单金额")]),t._v(" "),i("li",[i("span",[t._v("¥")]),t._v(t._s(t.shop_amount.order_price))])]),t._v(" "),i("ul",[i("li",[t._v(t._s(t.income_name_text))]),t._v(" "),i("li",[i("span",[t._v("¥")]),t._v(t._s(t.shop_amount.amount_total))])])])]),t._v(" "),i("div",{attrs:{id:"shop_list"}},[t.goload?i("mt-loadmore",{ref:"shop_loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},t._l(t.shopListArr,function(e,o){return i("ul",{key:o,on:{click:function(n){return t.goToShop(e.id)}}},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.thumb?e.thumb:n("Rd5w")}})]),t._v(" "),i("li",{staticClass:"name"},[t._v("\n            "+t._s(e.store_name)+"\n          ")]),t._v(" "),i("i",{staticClass:"fa fa-angle-right"})])}),0):t._e()],1)],1)},staticRenderFns:[]};var r=n("VU/8")(a,s,!1,function(t){n("47d3")},"data-v-6900e54f",null);e.default=r.exports},xLUt:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n#chain_shop[data-v-6900e54f] {\n  padding-top: 2.5rem;\n}\n#chain_shop #header[data-v-6900e54f] {\n    background-color: #fff;\n}\n#chain_shop #header .header_user[data-v-6900e54f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 1.25rem 0.625rem;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      position: relative;\n}\n#chain_shop #header .header_user .img[data-v-6900e54f] {\n        width: 3.5rem;\n        height: 3.5rem;\n        border: solid 0.125rem #f5f5f5;\n        border-radius: 1.75rem;\n        margin-right: 0.625rem;\n        overflow: hidden;\n}\n#chain_shop #header .header_user .img img[data-v-6900e54f] {\n          width: 100%;\n}\n#chain_shop #header .header_user .name li[data-v-6900e54f] {\n        font-size: 18px;\n        font-weight: bold;\n}\n#chain_shop #header .header_user .btn[data-v-6900e54f] {\n        position: absolute;\n        right: 0.625rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        width: 5rem;\n        height: 1.875rem;\n        line-height: 1.875rem;\n        border: solid 0.0625rem #ebebeb;\n        border-radius: 1rem;\n        padding: 0 0.625rem;\n}\n#chain_shop #header .header_user .btn i[data-v-6900e54f] {\n          color: #f15353;\n          font-size: 1.375rem;\n          margin-right: 0.375rem;\n}\n#chain_shop #header .header_user .btn span[data-v-6900e54f] {\n          font-size: 14px;\n}\n#chain_shop #header .header_info[data-v-6900e54f] {\n      border-top: solid 0.0625rem #ebebeb;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n}\n#chain_shop #header .header_info ul[data-v-6900e54f] {\n        width: 25%;\n        padding-left: 0.8rem;\n}\n#chain_shop #header .header_info ul li[data-v-6900e54f] {\n          text-align: left;\n          line-height: 1.875rem;\n}\n#chain_shop #header .header_info ul li[data-v-6900e54f]:first-child {\n          color: #8c8c8c;\n          font-size: 15px;\n}\n#chain_shop #header .header_info ul li[data-v-6900e54f]:last-child {\n          font-size: 18px;\n}\n#chain_shop #header .header_info ul li:last-child span[data-v-6900e54f] {\n            font-size: 15px;\n}\n#chain_shop #shop_list[data-v-6900e54f] {\n    margin-top: 0.625rem;\n    background-color: #fff;\n    padding-left: 0.875rem;\n    border-top: solid 0.0625rem #ebebeb;\n    border-bottom: solid 0.0625rem #ebebeb;\n}\n#chain_shop #shop_list ul[data-v-6900e54f]:last-child {\n      border: none;\n}\n#chain_shop #shop_list ul[data-v-6900e54f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.875rem 0;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      border-bottom: solid 0.0625rem #ebebeb;\n      padding-right: 0.875rem;\n}\n#chain_shop #shop_list ul .img[data-v-6900e54f] {\n        width: 2.5rem;\n        height: 2.5rem;\n        border-radius: 1.25rem;\n        overflow: hidden;\n        margin-right: 0.625rem;\n}\n#chain_shop #shop_list ul .img img[data-v-6900e54f] {\n          width: 100%;\n}\n#chain_shop #shop_list ul li[data-v-6900e54f] {\n        font-size: 16px;\n}\n#chain_shop #shop_list ul i[data-v-6900e54f] {\n        position: absolute;\n        right: 0.875rem;\n        font-size: 28px;\n        color: #c9c9c9;\n}\n",""])}});