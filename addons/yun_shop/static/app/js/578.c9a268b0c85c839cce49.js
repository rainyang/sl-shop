webpackJsonp([578],{VmrM:function(t,o,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n#search .osll[data-v-108b4856] {\n  min-height: 100vh;\n  overflow: scroll;\n}\n#search .uou[data-v-108b4856] {\n  width: 100%;\n  position: fixed;\n  z-index: 99;\n  top: 0px;\n  transition: 0.2s;\n  -webkit-transition: 0.2s;\n}\n#search #sort[data-v-108b4856] {\n  line-height: 2.5rem;\n  font-size: 14px;\n}\n#search .mout[data-v-108b4856] {\n  top: -2.25rem;\n}\n.search[data-v-108b4856] {\n  height: 2.8125rem;\n  line-height: 2.8125rem;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  overflow: hidden;\n  background: #fff;\n  border-bottom: 0.0625rem solid #f5f5f5;\n}\n.search .el-button.el-button--default[data-v-108b4856] {\n    float: left;\n    width: 10%;\n    border: none;\n    padding-top: 1rem;\n}\n.search .el-input.el-input-group.el-input-group--append[data-v-108b4856] {\n    float: left;\n    width: 80%;\n    margin-left: 2%;\n    height: 2.8125rem;\n}\n.search .el-input-group__append .el-button.el-button--default[data-v-108b4856] {\n    background: #f2f2f2;\n    padding-top: 0.375rem;\n    border-radius: 1.875rem;\n    padding-right: 1.8125rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n.search .el-input.el-input-group.el-input-group--append .el-input-group__append[data-v-108b4856] {\n    background: #f5f5f5;\n}\n.search .el-col-1[data-v-108b4856] {\n    color: #666;\n    font-size: 16px;\n}\n.search .el-input-group__append .el-button.el-button--default[data-v-108b4856] {\n    background: #f2f2f2;\n    padding-top: 0.375rem;\n    border-radius: 1.875rem;\n    padding-right: 1.8125rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n.search .el-input.el-input-group.el-input-group--append .el-input-group__append[data-v-108b4856] {\n    background: #f5f5f5;\n}\n.search .el-col-1[data-v-108b4856] {\n    width: 2.8125rem;\n    position: absolute;\n    right: 0px;\n    color: #666;\n    font-size: 16px;\n}\n.search .back[data-v-108b4856] {\n    width: 2.8125rem;\n}\n.search .back i[data-v-108b4856] {\n      line-height: 2.8125rem;\n      font-size: 1.5rem;\n}\n.search .search-box[data-v-108b4856] {\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    width: 75%;\n    margin-top: 0.5rem;\n    padding: 0 0.625rem;\n    background-color: #f2f2f2;\n    height: 1.75rem;\n    line-height: 1.75rem;\n    border-radius: 0.875rem;\n}\n.search .search-box input[data-v-108b4856] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      line-height: 1.75rem;\n      border: none;\n      color: #333;\n}\n.search .search-box i[data-v-108b4856] {\n      position: absolute;\n      right: 1rem;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 1.5rem;\n              flex: 0 0 1.5rem;\n}\n",""])},WTP9:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("Dd8w"),a=e.n(n),i=e("SJI6"),s=e("r3ZR"),r={data:function(){return{inputs:"",amout:!1,allLoaded:!0,goload:!1,goods:[],loading:!1,styleObj:{display:"inline-block",marginRight:"25px",backgroundColor:"white",marginLeft:"5px",position:"static"},jumpSo:!0,storeId:"",pageNum:1}},computed:a()({},Object(i.mapState)(["view"])),methods:a()({},Object(i.mapMutations)(["views"]),{enterSearch:function(t){13===t.keyCode&&(t.preventDefault(),this.search())},showbox:function(){this.show=!this.show},hidebox:function(){},search:function(){this.pageNum=1,this.goods=[],this.goload=!0,this.gotoSearch()},loadBottom:function(){0==this.allLoaded&&(this.gotoSearch(),this.$refs.loadmore.onBottomLoaded())},goback:function(){this.$router.go(-1)},gotoSearch:function(){var t=this,o={store_id:this.$route.params.store_id,kwd:this.inputs,page:this.pageNum};$http.get("plugin.store-cashier.frontend.store.goods.get-goods-by-kwd",o).then(function(o){if(1==o.result){if(t.pageNum=Number(t.pageNum)+1,t.loading=!1,t.allLoaded=!1,o.data.total<=0)return t.loading=!0,void(t.allLoaded=!0);if(t.goods=t.goods.concat(o.data.data),console.log("商品内容",t.goods),o.data.current_page==o.data.last_page)return t.loading=!0,void(t.allLoaded=!0)}else t.loading=!0,t.allLoaded=!0})},gotoCouponSearch:function(){var t=this;this.goload=!0;var o={store_id:this.$route.params.store_id,page:this.pageNum},e="";2==this.$route.params.fromHome?(o.goods_ids=this.$route.query.gid,e="plugin.store-cashier.frontend.store.goods.get-goods-by-ids"):3==this.$route.params.fromHome?(o.category_id=this.$route.query.cid,e="plugin.store-cashier.frontend.store.goods.get-goods-by-category-id-and-store-id"):this.$router.go(-1),$http.get(e,o).then(function(o){if(1==o.result)if(t.pageNum=Number(t.pageNum)+1,t.loading=!1,t.allLoaded=!1,2==t.$route.params.fromHome){if(o.data.total<=0)return t.loading=!0,void(t.allLoaded=!0);if(t.goods=t.goods.concat(o.data.data),console.log("商品内容",t.goods),o.data.current_page==o.data.last_page)return t.loading=!0,void(t.allLoaded=!0)}else t.goods=o.data;else t.loading=!0,t.allLoaded=!0})}}),activated:function(){this.storeId=this.$route.params.store_id,this.amout=!1,this.loading=!1,1!==this.$route.params.fromHome?(window.location.href.indexOf("#/store/search/")>-1&&setTimeout(function(){window.scrollTo(0,window.storeSearchScrollTop)},200),this.gotoCouponSearch()):(this.goods=[],this.inputs="",this.pageNum=1)},created:function(){1!==this.$route.params.fromHome&&(this.goods=[],this.inputs="",this.pageNum=1)},mounted:function(){window.storeSearchScrollTop=0},beforeRouteLeave:function(t,o,e){window.storeSearchScrollTop=document.documentElement.scrollTop||document.body.scrollTop,e()},components:{cGoodsList:s.a}},d={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"search",transition:"fadeInLeft"}},[e("div",{staticClass:"uou",class:{mout:t.amout},style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"},attrs:{id:"soso"}},[e("div",{staticClass:"search"},[e("div",{staticClass:"back",on:{click:t.goback}},[e("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),e("div",{staticClass:"search-box"},[e("form",{attrs:{action:"#"},on:{submit:function(t){t.preventDefault()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs,expression:"inputs"}],attrs:{type:"search",placeholder:"请输入内容"},domProps:{value:t.inputs},on:{keypress:t.enterSearch,input:function(o){o.target.composing||(t.inputs=o.target.value)}},nativeOn:{click:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"focus",void 0,o.key,void 0)?null:t.hidebox(o)}}})]),t._v(" "),e("i",{staticClass:"iconfont icon-sousuo1",staticStyle:{color:"#ccc"},on:{click:t.search}})]),t._v(" "),e("div",{staticStyle:{position:"absolute",right:"1rem"}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.view,expression:"view"}],staticClass:"fa fa-th-large",on:{click:function(o){return t.$store.commit("views")}}}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:!t.view,expression:"!view"}],staticClass:"fa fa-th-list",on:{click:function(o){return t.$store.commit("views")}}})])])]),t._v(" "),e("div",{staticStyle:{height:"3.4375rem",display:"block"}}),t._v(" "),t.goload?e("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:"",bottomDropText:"下拉加载...",bottomLoadingText:"",autoFill:!1}},[e("c-goodsList",{staticClass:"osll",attrs:{goods:t.goods,text:"搜索结果",styleCon:t.styleObj,loading:t.loading,jumpSo:t.jumpSo,storeId:t.storeId}})],1):t._e()],1)},staticRenderFns:[]};var l=e("VU/8")(r,d,!1,function(t){e("mJkh")},"data-v-108b4856",null);o.default=l.exports},mJkh:function(t,o,e){var n=e("VmrM");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("7419fb18",n,!0,{})}});