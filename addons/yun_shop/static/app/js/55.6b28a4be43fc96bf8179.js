webpackJsonp([55],{Mie9:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("SJI6");var i=e("Pexp"),o=e("T8LZ"),a=e("r3ZR"),r=e("QZ1M"),d=e("NAIT"),s=e("tBuv"),l=e("CQf1"),m=e("VYum"),c=e("+Rkv"),h=e("OQXE"),p=e("oEiC"),f=e("4/Ru"),g=e("SxNC"),b=e("k4oA"),u=e("gXus"),v=e("VqiW"),_=e("A+Jm"),w=e("icIG"),x=e("Tg7E");e("HfBI");var S=[{id:"M1491471961972",temp:"showsearch",params:{placeholder:"",style:"style2",color:"#000",bgcolor:"#FFF",bordercolor:"#fa1f24",searchurl:"",uniacid:"6"},data:"",other:"",content:""}],k={data:function(){return{tempshare:null,username:"用户昵称",signName:"个性签名",category:[],carousel:[],goodsListData:[],ads:[],bannerData:[],userImg:"",shop_logo:"",shop_name:"",shop_id:"",bgImg:"",isCategory:!1,amout:!0,index2:1,other:"",content:"",show:!0,tempData:S,oftemp:!1,dftempData:!1,follow:!1,isfollow:!0,havaShop:!1,shopData:{},clientWidths:""}},created:function(){1!==this.$route.params.fromHome&&this.getMicroShop()},mounted:function(){window.MHomeScrollTop=0},beforeRouteLeave:function(n,t,e){window.MHomeScrollTop=document.documentElement.scrollTop||document.body.scrollTop,e()},activated:function(){window.addEventListener("scroll",this.slider),window.location.href.indexOf("#/microShop/home")>-1&&setTimeout(function(){window.scrollTo(0,window.MHomeScrollTop)},200),1===this.$route.params.fromHome&&this.getMicroShop(),this.clientWidths=document.body.clientWidth},deactivated:function(){window.document.removeEventListener("scroll",this.slider,!1)},methods:{getMicroShop:function(){var n=this;$http.get("plugin.micro.frontend.controllers.MicroShop.default",{},"加载中").then(function(t){1===t.result?(n.fun.setWXTitle(t.data.nickname),n.shopData=t.data,n.setMicroShopUserInfo(t.data),n.setBannerData(t.data),n.setCategoryData(t.data),n.setGoodsData(t.data),n.shop_id=t.data.shop_id,n.replaceShopId(n.shop_id),n.initShare()):Object(x.MessageBox)({title:"提示",message:"您暂时无微店,点击确定申请？",showCancelButton:!0}).then(function(t){"confirm"==t&&n.$router.push(n.fun.getUrl("microShop_apply",{}))})},function(n){console.log(n)})},replaceShopId:function(n){this.fun.isTextEmpty(this.fun.getKeyByMicroShopId())&&this.$router.push({name:"microShop_home",query:{shop_id:n,type:this.fun.getTyep(),mid:this.fun.getKeyByMid(),i:this.fun.getKeyByI()}})},setMicroShopUserInfo:function(n){this.username=n.nickname,this.signName=n.signature,this.shop_logo=n.shop_logo,this.shop_name=n.shop_name,this.bgImg=n.shop_background,this.userImg=n.shop_avatar,this.fun.setWXTitle(n.nickname)},setCategoryData:function(n){if(this.fun.isTextEmpty(n.category)||0==n.category.length)this.isCategory=!1;else{this.isCategory=!0;this.category=this.fun.chunk(n.category,8)}},setBannerData:function(n){this.bannerData=n.carousel},setGoodsData:function(n){this.goodsListData=n.goods},goTop:function(n){document.body.scrollTop=0,document.documentElement.scrollTop=0},goBack:function(){this.$router.go(-1)},initShare:function(){var n=this;$http.post("member.member.wxJsSdkConfig",{url:"android"===this.fun.isIosOrAndroid()?window.location.href:window.initUrl}).then(function(t){1===t.result&&(n.tempshare=t.data,t.data.config&&n.share(t.data))},function(n){console.log(n)})},share:function(n){var t=this;wx.config(n.config),wx.ready(function(){var e=t.shopData.nickname,i=location.protocol+"//"+window.location.host+"/addons/yun_shop/#/microShopShare/home/"+t.shop_id+"/?mid="+n.info.uid+"&i="+n.info.uniacid+"&shop_id="+t.shop_id,o=t.userImg,a=t.shopData.signature;console.log(i),wx.showOptionMenu(),wx.onMenuShareTimeline({title:e,link:i,imgUrl:o,success:function(){Object(x.Toast)("分享成功")},cancel:function(){Object(x.Toast)("取消分享")}}),wx.onMenuShareAppMessage({title:e,desc:a,link:i,imgUrl:o,type:"link",dataUrl:"",success:function(){Object(x.Toast)("分享成功")},cancel:function(){Object(x.Toast)("取消分享")}})})}},components:{cTitle:i.a,cMent:o.a,cGoodsList:a.a,banner:r.a,showbanner:r.a,showmenu:d.a,showtitle:s.a,showsearch:l.a,showline:m.a,showblank:c.a,showrichtext:h.a,showpicture:p.a,showcube:f.a,showarea:g.a,showshop:b.a,showgoods:u.a,shownotice:v.a,cMyswipe:_.a,Swipe:w.Swipe,SwipeItem:w.SwipeItem},compiled:function(){this.datate()}},y={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{attrs:{id:"microShop_main"}},[i("div",{staticClass:"m_header"},[i("span",{staticClass:"iconfont icon-left",on:{click:n.goBack}}),n._v(" "),i("img",{attrs:{src:n.shop_logo,alt:""}}),n._v(" "+n._s(n.shop_name)+"\n    ")]),n._v(" "),i("div",{staticClass:"home"},[i("div",{staticClass:"top1",style:{backgroundImage:"url("+n.bgImg+")",backgroundSize:"cover"}},[i("div",{staticClass:"content1"},[i("div",{staticClass:"picture1"},[n.userImg?i("img",{attrs:{src:n.userImg,alt:"用户头像"}}):i("img",{attrs:{src:e("Cejh"),alt:"用户头像"}})]),n._v(" "),i("div",{staticClass:"name1"},[i("span",[n._v(n._s(n.username))]),n._v(" "),i("br"),n._v(n._s(n.signName)+"\n          ")])])]),n._v(" "),n.isCategory?i("div",{staticClass:"ment"},[i("c-ment",{attrs:{datas:n.category,shop_id:n.shop_id}})],1):n._e(),n._v(" "),n.bannerData.length>0?i("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white",width:3==n.fun.getPhoneEnv()?375:n.clientWidths}},n._l(n.bannerData,function(t,o){return i("van-swipe-item",{key:o},[t.thumb?i("a",{attrs:{href:t.thumb}},[i("img",{attrs:{src:t.thumb,alt:"",width:"100%"}})]):n._e(),n._v(" "),t.thumb?n._e():i("img",{attrs:{src:e("8SOS")}})])}),1):n._e(),n._v(" "),n._e(),n._v(" "),n.goodsListData?i("div",{staticClass:"goodsList"},[i("c-goodsList",{attrs:{goods:n.goodsListData,num:6,text:"商品列表"}})],1):n._e()],1),n._v(" "),n.amout?i("div",{staticClass:"goTop",on:{click:n.goTop}},[i("i",{staticClass:"iconfont icon-up"})]):n._e(),n._v(" "),i("div",{staticStyle:{height:"3.125rem"}}),n._v(" "),i("div",{staticClass:"footer",style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"}},[i("ul",[i("router-link",{attrs:{to:n.fun.getUrl("home")}},[i("li",{staticClass:"na"},[i("i",{staticClass:"fa fa-home"}),n._v(" "),i("p",[n._v("首页")])])]),n._v(" "),i("router-link",{attrs:{to:n.fun.getUrl("micro_shop_share_category",{fromHome:1})}},[i("li",{staticClass:"na"},[i("i",{staticClass:"fa fa-th-large"}),n._v(" "),i("p",[n._v("分类")])])]),n._v(" "),i("router-link",{attrs:{to:n.fun.getUrl("microShop_ShopKeeperCenter")}},[i("li",[i("div",{staticClass:"openMyShop"},[i("span",[n._v("店主")]),n._v(" "),i("p",[n._v("中心")])])])]),n._v(" "),i("router-link",{attrs:{to:n.fun.getUrl("cart")}},[i("li",{staticClass:"na righ"},[i("i",{staticClass:"fa fa-cart-plus"}),n._v(" "),i("p",[n._v("购物车")])])]),n._v(" "),i("router-link",{attrs:{to:n.fun.getUrl("member")}},[i("li",{staticClass:"na righ"},[i("i",{staticClass:"fa fa-user"}),n._v(" "),i("p",[n._v("我的")])])])],1)])])},staticRenderFns:[]};var C=e("VU/8")(k,y,!1,function(n){e("Mw6e")},"data-v-5dd2bd88",null);t.default=C.exports},Mw6e:function(n,t,e){var i=e("ljC/");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("444377ee",i,!0,{})},T8LZ:function(n,t,e){"use strict";var i=e("icIG"),o={data:function(){return{clientWidths:""}},props:["datas"],mounted:function(){this.clientWidths=document.body.clientWidth},methods:{},components:{Swipe:i.Swipe,SwipeItem:i.SwipeItem}},a={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("van-swipe",{staticClass:"sw_list",class:{sw_list_6:null!=n.datas&&n.datas.length>0&&n.datas[0].length<=5,sw_list_12:null!=n.datas&&n.datas.length>0&&n.datas[0].length>5,sw_list_0:0==n.datas.length},attrs:{autoplay:0,"indicator-color":"#f15353",width:3==n.fun.getPhoneEnv()?375:n.clientWidths}},n._l(n.datas,function(t,o){return i("van-swipe-item",{key:o},[i("ul",n._l(t,function(t,o){return i("li",{key:o,staticStyle:{float:"left"}},[i("router-link",{attrs:{to:n.fun.getUrl("micro_shop_share_carelist",{id:t.id,fromHome:1})}},[t.thumb?i("div",{staticClass:"image"},[i("img",{attrs:{src:t.thumb}})]):n._e(),n._v(" "),t.thumb?n._e():i("div",{staticClass:"image"},[i("img",{attrs:{src:e("8SOS")}})]),n._v(" "),i("p",{staticClass:"text"},[n._v(n._s(t.name))])])],1)}),0)])}),1)},staticRenderFns:[]};var r=e("VU/8")(o,a,!1,function(n){e("W6NC")},"data-v-3e399625",null);t.a=r.exports},W6NC:function(n,t,e){var i=e("mUIY");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("422c3e0f",i,!0,{})},"ljC/":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,'\n*[data-v-5dd2bd88] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n#microShop_main[data-v-5dd2bd88] {\n  padding-bottom: 1.25rem;\n}\n#microShop_main .m_header[data-v-5dd2bd88] {\n    width: 100%;\n    height: 2.5rem;\n    line-height: 2.5rem;\n    background: #fff;\n    border-bottom: 0.0625rem solid #ccc;\n    display: block;\n    margin: 0 auto;\n}\n#microShop_main .m_header img[data-v-5dd2bd88] {\n      display: inline-block;\n      width: 1.875rem;\n      height: 1.875rem;\n      border-radius: 50%;\n      vertical-align: middle;\n}\n#microShop_main .m_header span[data-v-5dd2bd88] {\n      float: left;\n      padding-left: 0.3125rem;\n      font-size: 20px;\n}\n#microShop_main .ad[data-v-5dd2bd88] {\n    min-height: 8.125rem;\n    width: 100%;\n    margin: 0.9375rem 0;\n    background: #fff;\n}\n#microShop_main .ment[data-v-5dd2bd88] {\n    padding-top: 0.625rem;\n}\n#microShop_main .backEndGoods[data-v-5dd2bd88] {\n    padding: 0.9375rem 0;\n    background: #fff;\n}\n#microShop_main .backEndGoods li[data-v-5dd2bd88] {\n      width: 28%;\n      margin-left: 0.9375rem;\n      float: left;\n}\n#microShop_main .backEndGoods li .goodname[data-v-5dd2bd88] {\n        height: 2.5rem;\n        line-height: 1.25rem;\n        font-size: 14px;\n        color: black;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        word-break: break-all;\n        display: block;\n        font-style: normal;\n}\n#microShop_main .backEndGoods li div[data-v-5dd2bd88] {\n        width: 100%;\n        height: 6.25rem;\n        border: 0.0625rem solid black;\n}\n#microShop_main .backEndGoods li div img[data-v-5dd2bd88] {\n          width: 100%;\n          max-height: 6.25rem;\n}\n#microShop_main .backEndGoods li p[data-v-5dd2bd88] {\n        text-align: left;\n        line-height: 1.3125rem;\n        margin-top: 0.625rem;\n        text-align: left;\n}\n#microShop_main .backEndGoods li p b[data-v-5dd2bd88] {\n          color: #f15353;\n          font-size: 14px;\n          float: left;\n          -webkit-text-size-adjust: none;\n}\n#microShop_main .backEndGoods li p del[data-v-5dd2bd88] {\n          font-size: 12px;\n          -webkit-text-size-adjust: none;\n          display: inline-block;\n          margin-left: 0.125rem;\n          position: relative;\n          top: -0.125rem;\n          color: #3b3b3b;\n          -webkit-transform: translateY(-0.0625rem);\n                  transform: translateY(-0.0625rem);\n}\n#microShop_main .backEndGoods[data-v-5dd2bd88]:after {\n    content: "";\n    display: block;\n    clear: both;\n}\n#microShop_main .goTop[data-v-5dd2bd88] {\n    width: 1.875rem;\n    height: 1.875rem;\n    border-radius: 0.9375rem;\n    position: fixed;\n    bottom: 5rem;\n    right: 0.625rem;\n    z-index: 40;\n    /*color: #20a0ff;*/\n    font-size: 24px;\n    /*background-image: url(../../../../assets/images/top.png);*/\n    background-repeat: no-repeat;\n    background-size: 1.875rem 1.25rem;\n    background-position: 0rem 0.3125rem;\n    background-color: #000;\n    opacity: 0.25;\n}\n#microShop_main .goTop i[data-v-5dd2bd88] {\n      font-size: 1.6875rem;\n      color: #fff;\n}\n#microShop_main .footer[data-v-5dd2bd88] {\n    position: fixed;\n    bottom: 0rem;\n    width: 100%;\n    height: 3.125rem;\n    background: #fff;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    z-index: 100;\n}\n#microShop_main .footer ul[data-v-5dd2bd88] {\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      width: 100%;\n      height: 3.125rem;\n      padding: 0.5rem;\n}\n#microShop_main .footer ul li[data-v-5dd2bd88] {\n        width: 20%;\n        float: left;\n        font-size: 12px;\n        color: #828282;\n}\n#microShop_main .footer ul li i[data-v-5dd2bd88] {\n          font-size: 1.25rem;\n}\n#microShop_main .footer ul .openMyShop[data-v-5dd2bd88] {\n        width: 3.4375rem;\n        height: 3.4375rem;\n        background: #f15353;\n        border-radius: 50%;\n        line-height: 1.25rem;\n        padding-top: 0.5rem;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        text-align: center;\n        color: #fff;\n        font-size: 16px;\n        -webkit-box-shadow: 0 0 0 0.375rem #e6e6e6;\n                box-shadow: 0 0 0 0.375rem #e6e6e6;\n        position: relative;\n        bottom: 1.125rem;\n        font-size: 14px;\n        z-index: 100;\n        margin: 0 auto;\n}\n#microShop_main header[data-v-5dd2bd88] {\n    height: 2.875rem;\n    background: #fff;\n    padding: 0.4375rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    width: 100%;\n    z-index: 99;\n}\n#microShop_main header .attention .iconfont[data-v-5dd2bd88] {\n      float: left;\n      line-height: 2rem;\n      font-size: 1.875rem;\n}\n#microShop_main header .attention img[data-v-5dd2bd88] {\n      float: left;\n      height: 1.625rem;\n      width: 1.625rem;\n      vertical-align: middle;\n      -webkit-transform: translateY(3px);\n              transform: translateY(3px);\n}\n#microShop_main header .attention .text[data-v-5dd2bd88] {\n      float: left;\n      margin-left: 0.1875rem;\n}\n#microShop_main header .attention .text p[data-v-5dd2bd88] {\n        color: #333333;\n        font-size: 16px;\n        margin: 0;\n        text-align: left;\n        line-height: 2rem;\n}\n#microShop_main header .attention .text p span[data-v-5dd2bd88] {\n          color: #f15353;\n}\n#microShop_main header .attention button[data-v-5dd2bd88] {\n      background: #48a3f1;\n      border: 0;\n      border-radius: 0.25rem;\n      height: 1.625rem;\n      float: right;\n      margin: 0.1875rem 0;\n}\n#microShop_main header .attention button a[data-v-5dd2bd88] {\n        color: #fff;\n}\n#microShop_main header.amout[data-v-5dd2bd88] {\n    position: fixed;\n    top: 0;\n}\n#microShop_main .m-swipe[data-v-5dd2bd88] {\n    position: relative;\n    z-index: 2;\n}\n#microShop_main .m-swipe .c-swipe[data-v-5dd2bd88] {\n      overflow: hidden;\n      text-align: center;\n      position: relative;\n      width: 100%;\n}\n#microShop_main .m-swipe .c-swipe .c-swipe-item[data-v-5dd2bd88] {\n        text-align: center;\n        overflow: hidden;\n        position: relative;\n        width: 100%;\n}\n#microShop_main .m-swipe .c-swipe .c-swipe-item img[data-v-5dd2bd88] {\n          width: 100%;\n          height: 8.125rem !important;\n}\n#microShop_main .m-swipe .c-swipe[data-v-5dd2bd88]:after {\n      content: "";\n      display: block;\n      clear: both;\n}\n#microShop_main .m-swipe img[data-v-5dd2bd88] {\n      width: 100%;\n      height: 8.125rem;\n}\n#microShop_main .isfollow[data-v-5dd2bd88] {\n    top: 2.8125rem;\n}\n#microShop_main .search[data-v-5dd2bd88] {\n    float: right;\n    width: 40%;\n    margin-right: 0.9375rem;\n}\n#microShop_main .search img[data-v-5dd2bd88] {\n      width: 10%;\n      float: left;\n      max-height: 2.5rem;\n}\n#microShop_main .search .search-form-box[data-v-5dd2bd88] {\n      width: 100%;\n      color: #989191;\n      background: #f3f5f7;\n      border-radius: 0.9375rem;\n      height: 1.875rem;\n      line-height: 1.875rem;\n      text-align: left;\n      padding-left: 0.625rem;\n      font-size: 14px;\n      margin-right: 0.9375rem;\n}\n#microShop_main .top1[data-v-5dd2bd88] {\n    padding: 0.9375rem;\n    height: 7.6875rem;\n    background: #f15353;\n    position: relative;\n}\n#microShop_main .top1 .content1[data-v-5dd2bd88] {\n      position: absolute;\n      height: 3.125rem;\n      text-align: left;\n      left: 0.9375rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      top: 3.3125rem;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-flow: row;\n              flex-flow: row;\n}\n#microShop_main .top1 .content1 .picture1[data-v-5dd2bd88] {\n        float: left;\n        width: 3.125rem;\n        height: 3.125rem;\n        margin-right: 0.9375rem;\n}\n#microShop_main .top1 .content1 .picture1 img[data-v-5dd2bd88] {\n          width: 3.125rem;\n          height: 3.125rem;\n          border-radius: 50%;\n          vertical-align: middle;\n}\n#microShop_main .top1 .content1 .name1[data-v-5dd2bd88] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        color: #fff;\n        font-size: 12px;\n        float: left;\n        line-height: 1.25rem;\n        padding-top: 0.3125rem;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        word-break: break-all;\n}\n#microShop_main .top1 .content1 .name1 span[data-v-5dd2bd88] {\n          font-size: 16px;\n}\n',""])},mUIY:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.sw_list[data-v-3e399625] {\n  padding-top: 0.6rem;\n}\n.sw_list_6[data-v-3e399625] {\n  /*height:  6rem;*/\n}\n.sw_list_12[data-v-3e399625] {\n  height: 10rem;\n}\n.sw_list_0[data-v-3e399625] {\n  height: 0;\n}\n@media all and (max-width: 400px) {\n.sw_list_12[data-v-3e399625] {\n    height: 12rem;\n}\n}\nul[data-v-3e399625] {\n  margin: 0;\n  padding: 0;\n}\nul li[data-v-3e399625] {\n    list-style: none;\n    width: 25%;\n    float: left;\n    margin: 0;\n    padding: 0;\n    margin-bottom: 0.625rem;\n}\nul li a[data-v-3e399625] {\n      color: #2b2f33;\n}\nul li .image[data-v-3e399625] {\n      height: 3.28rem;\n      overflow: hidden;\n      line-height: 3.28rem;\n      border-radius: 30%;\n}\nul li img[data-v-3e399625] {\n      width: 50%;\n      vertical-align: middle;\n      height: 90%;\n}\nul li p[data-v-3e399625] {\n      margin: 0;\n      padding: 0;\n      font-size: 12px;\n      line-height: 1.25rem;\n}\n",""])}});