webpackJsonp([590],{W25E:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Pexp"),s=a("Tg7E"),n={mixins:[a("vsZy").a],data:function(){return{selected:"",waitPay:[],pay:[],review:[],invalid:[],all:[],loading:!1,allLoaded:!1,goload:!1,orderType:"",ratioDatas:[],api:"",withdrawal_type:"",isLoadMore:!0,page:1,total_page:0}},methods:{swichTabTItem:function(){"supplier"===this.orderType?this.getSupplierNetData():"extension"===this.orderType?this.getData(this.selected):this.getNetData(this.selected)},getNetData:function(t){var e=this,a=this;a.isLoadMore=!1,a.page=1,$http.get("finance.withdraw.withdraw-list",{status:t,withdrawal_type:this.withdrawal_type},"正在获取列表").then(function(t){if(1===t.result){a.allLoaded=!1,a.isLoadMore=!0,a.total_page=t.data.last_page,a.total_page||(a.total_page=0),e.ratioDatas=[];var i={};i.money=t.data.today,i.data="今日",i.name="data",a.ratioDatas.push(i);var n={};n.money=t.data.yesterday,n.data="昨日",n.name="data",a.ratioDatas.push(n);var l={};l.money=t.data.lastweek,l.data="本周",l.name="data",a.ratioDatas.push(l);var d={};d.money=t.data.thismonth,d.data="本月累计提成",d.name="mounth",a.ratioDatas.push(d);var r=t.data.data;0==a.selected.length||3==a.selected?a.all=r:0==a.selected?a.review=r:1==a.selected?a.waitPay=r:2==a.selected?a.pay=r:-1==a.selected&&(a.invalid=r)}else Object(s.Toast)(t.msg)},function(t){console.log(t)})},getData:function(t){var e=this;e.isLoadMore=!1,e.page=1,$http.get("finance.withdraw.withdraw-log",{status:t},"正在获取列表").then(function(t){if(1===t.result){e.allLoaded=!1,e.isLoadMore=!0,e.total_page=t.data.last_page,e.total_page||(e.total_page=0);var a=t.data.data;0==e.selected.length?e.all=a:0==e.selected?e.review=a:1==e.selected?e.waitPay=a:2==e.selected?e.pay=a:-1==e.selected&&(e.invalid=a)}else Object(s.Toast)(t.msg)},function(t){console.log(t)})},getSupplierNetData:function(){0==this.selected.length||3==this.selected?this.api="plugin.supplier.frontend.withdraw-log.index":0==this.selected?this.api="plugin.supplier.frontend.withdraw-log.applying":1==this.selected?this.api="plugin.supplier.frontend.withdraw-log.pending":2==this.selected?this.api="plugin.supplier.frontend.withdraw-log.already":-1==this.selected&&(this.api="plugin.supplier.frontend.withdraw-log.reject");var t=this;$http.get(t.api,{member_id:t.member_id},"正在获取列表").then(function(e){var a=e.data.data;t.total_page=a.total,t.allLoaded=!1,t.total_page||(t.total_page=0),0==t.selected.length||3==t.selected?t.all=a:0==t.selected?t.review=a:1==t.selected?t.waitPay=a:2==t.selected?t.pay=a:-1==t.selected&&(t.invalid=a)},function(t){})},loadTop:function(){this.initData(),"supplier"===this.orderType?this.getSupplierNetData():"extension"===this.orderType?this.getData(this.selected):this.getNetData(this.selected),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){this.isLoadMore?(console.log("加载更多"),"supplier"===this.orderType?this.getMoreData1(this.page,this.selected):"extension"===this.orderType?this.getData(this.selected):this.getMoreData(),this.$refs.loadmore.onBottomLoaded()):console.log("没有更多数据")},getMoreData:function(){var t=this,e={};"supplier"===this.orderType?e={status:this.selected,member_id:t.member_id}:"extension"===this.orderType?(this.api="finance.withdraw.withdraw-log",e={status:this.selected}):(this.api="finance.withdraw.withdraw-list",e={status:this.selected,withdrawal_type:this.withdrawal_type}),t.isLoadMore=!1,this.page>=this.total_page||(this.page=this.page+1,e.page=this.page,$http.get(this.api,e,"加载中").then(function(e){if(t.isLoadMore=!0,t.loading=!1,t.allLoaded=!1,1===e.result){var a=e.data.data;0==t.selected.length||3==t.selected?t.all=t.all.concat(a):0==t.selected?t.review=t.review.concat(a):1==t.selected?t.waitPay=t.waitPay.concat(a):2==t.selected?t.pay=t.pay.concat(a):-1==t.selected&&(t.invalid=t.invalid.concat(a))}else t.page=t.page-1,t.isLoadMore=!1,t.loading=!0,t.allLoaded=!0,t.isLoadMore=!1},function(t){}).catch(function(t){console.log(t)}))},getMoreData1:function(t,e){var a=this;if(this.page!=this.total_page)return this.page>=this.total_page?(a.loading=!0,void(a.allLoaded=!0)):(this.page=this.page+1,void $http.get(a.api,{page:this.page,member_id:a.member_id},"正在获取更多订单").then(function(t){if(1!==t.result)return a.page=a.page-1,a.loading=!0,a.allLoaded=!0,void(a.isLoadMore=!1);var i=t.data.data;a.loading=!1,a.allLoaded=!1,0==e.length?a.all=a.all.concat(i):0==e?a.review=a.review.concat(i):1==e?a.waitPay=a.waitPay.concat(i):2==e?a.pay=a.pay.concat(i):-1==e&&(a.invalid=a.invalid.concat(i))},function(t){}))},initData:function(){this.page=1,this.goload=!0,this.total_page=0,this.loading=!0,this.allLoaded=!1,this.isLoadMore=!0,this.ratioDatas=[]}},activated:function(){this.initData(),this.withdrawal_type=this.$route.query.from,"supplier"===this.$route.params.supplier?(this.orderType="supplier",this.member_id=this.$route.params.member_id,this.fun.setWXTitle("我的"+this.fun.initWithdrawal()),this.getSupplierNetData()):"extension"===this.$route.query.extension?(this.orderType="extension",this.api="finance.withdraw.withdraw-log",this.getData("")):(this.orderType="store",this.selected="3",this.getNetData(3))},components:{cTitle:i.a}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detailed"}},[a("c-title",{attrs:{hide:!1,text:"store"===t.orderType?"我的提成":"我的"+this.fun.initWithdrawal()}}),t._v(" "),a("div",{staticStyle:{height:"40px"}}),t._v(" "),"store"===t.orderType?a("ul",{staticClass:"today_bonus"},[t._l(t.ratioDatas,function(e,i){return a("li",{key:i,class:e.name},[a("span",[t._v(t._s(e.money))]),t._v(" "),a("br"),t._v(" "),a("b",[t._v(t._s(e.data))])])}),t._v(" "),t._m(0)],2):t._e(),t._v(" "),a("mt-navbar",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},["store"!==t.orderType?a("mt-tab-item",{attrs:{id:""},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v("全部\n      ")]):t._e(),t._v(" "),"store"===t.orderType?a("mt-tab-item",{attrs:{id:"3"},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v("全部\n      ")]):t._e(),t._v(" "),a("mt-tab-item",{attrs:{id:"0"},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v(t._s("store"!==t.orderType?"申请中":"未结算")+"\n      ")]),t._v(" "),a("mt-tab-item",{attrs:{id:"1"},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v(t._s("store"!==t.orderType?"待打款":"已结算")+"\n      ")]),t._v(" "),"store"!==t.orderType?a("mt-tab-item",{attrs:{id:"2"},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v("已打款\n      ")]):t._e(),t._v(" "),a("mt-tab-item",{attrs:{id:"-1"},nativeOn:{click:function(e){return t.swichTabTItem(e)}}},[t._v(t._s("supplier"==t.orderType?"驳回":"已失效")+"\n      ")])],1),t._v(" "),t.goload?a("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:"",bottomDropText:"上拉加载...",bottomLoadingText:"",autoFill:!0,id:"olis"}},[a("mt-tab-container",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("mt-tab-container-item",{attrs:{id:"3"}},t._l(t.all,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0),t._v(" "),a("mt-tab-container-item",{attrs:{id:""}},["supplier"===t.orderType?a("div",t._l(t.all,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.apply_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("￥"+t._s(e.apply_money))]),t._v(" "),"supplier"===t.orderType?a("p",[t._v(t._s(e.status_obj.name))]):t._e()])])])}),0):t._e(),t._v(" "),"extension"===t.orderType?a("div",t._l(t.all,function(e,i){return a("router-link",{key:i,attrs:{to:t.fun.getUrl("presentationDetails",{record_id:e.id})}},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.type_name))]),t._v(" "),a("li",[t._v("￥"+t._s(e.amounts))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v(t._s(e.status_name))]),t._v(" "),a("p",[t._v(t._s(e.created_at))])])])])}),1):t._e(),t._v(" "),"store"===t.orderType?a("div",t._l(t.all,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0):t._e()]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"0"}},["supplier"===t.orderType?a("div",t._l(t.review,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.apply_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("￥"+t._s(e.apply_money))]),t._v(" "),"supplier"===t.orderType?a("p",[t._v(t._s(e.status_obj.name))]):t._e()])])])}),0):t._e(),t._v(" "),"extension"===t.orderType?a("div",t._l(t.review,function(e,i){return a("router-link",{key:i,attrs:{to:t.fun.getUrl("presentationDetails",{record_id:e.id})}},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.type_name))]),t._v(" "),a("li",[t._v("￥"+t._s(e.amounts))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v(t._s(e.status_name))]),t._v(" "),a("p",[t._v(t._s(e.created_at))])])])])}),1):t._e(),t._v(" "),"store"===t.orderType?a("div",t._l(t.review,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0):t._e()]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"1"}},["supplier"===t.orderType?a("div",t._l(t.waitPay,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.apply_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("￥"+t._s(e.apply_money))]),t._v(" "),"supplier"===t.orderType?a("p",[t._v(t._s(e.status_obj.name))]):t._e()])])])}),0):t._e(),t._v(" "),"extension"===t.orderType?a("div",t._l(t.waitPay,function(e,i){return a("router-link",{key:i,attrs:{to:t.fun.getUrl("presentationDetails",{record_id:e.id})}},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.type_name))]),t._v(" "),a("li",[t._v("￥"+t._s(e.amounts))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v(t._s(e.status_name))]),t._v(" "),a("p",[t._v(t._s(e.created_at))])])])])}),1):t._e(),t._v(" "),"store"===t.orderType?a("div",t._l(t.waitPay,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0):t._e()]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"2"}},["supplier"===t.orderType?a("div",t._l(t.pay,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.apply_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("￥"+t._s(e.apply_money))]),t._v(" "),"supplier"===t.orderType?a("p",[t._v(t._s(e.status_obj.name))]):t._e()])])])}),0):t._e(),t._v(" "),"extension"===t.orderType?a("div",t._l(t.pay,function(e,i){return a("router-link",{key:i,attrs:{to:t.fun.getUrl("presentationDetails",{record_id:e.id})}},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.type_name))]),t._v(" "),a("li",[t._v("￥"+t._s(e.amounts))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v(t._s(e.status_name))]),t._v(" "),a("p",[t._v(t._s(e.created_at))])])])])}),1):t._e(),t._v(" "),"store"===t.orderType?a("div",t._l(t.pay,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0):t._e()]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"-1"}},["supplier"===t.orderType?a("div",t._l(t.invalid,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.apply_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("￥"+t._s(e.apply_money))]),t._v(" "),"supplier"===t.orderType?a("p",[t._v(t._s(e.status_obj.name))]):t._e()])])])}),0):t._e(),t._v(" "),"extension"===t.orderType?a("div",t._l(t.invalid,function(e,i){return a("router-link",{key:i,attrs:{to:t.fun.getUrl("presentationDetails",{record_id:e.id})}},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v(t._s(e.type_name))]),t._v(" "),a("li",[t._v("￥"+t._s(e.amounts))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v(t._s(e.status_name))]),t._v(" "),a("p",[t._v(t._s(e.created_at))])])])])}),1):t._e(),t._v(" "),"store"===t.orderType?a("div",t._l(t.invalid,function(e,i){return a("div",{key:i},[a("div",{staticClass:"tbs"},[a("ul",{staticClass:"item2"},[a("li",[t._v("订单号："+t._s(e.order_sn))]),t._v(" "),a("li",[t._v(t._s(e.created_at))])]),t._v(" "),a("div",{staticClass:"item3"},[a("span",{staticClass:"red"},[t._v("提成+"+t._s(e.amount))]),t._v(" "),a("p",[t._v(t._s(e.settlement))])])])])}),0):t._e()])],1)],1):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"line"},[e("div",{staticClass:"careat"})])}]};var d=a("VU/8")(n,l,!1,function(t){a("l1KQ")},"data-v-08aee170",null);e.default=d.exports},iJXi:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n#detailed .today_bonus[data-v-08aee170] {\n  width: 100%;\n  height: 5.125rem;\n  margin-top: 0.625rem;\n  background: #fff;\n  padding: 1rem 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  position: relative;\n  border-bottom: 0.0625rem solid #e2e2e2;\n}\n#detailed .today_bonus li.line[data-v-08aee170] {\n    position: absolute;\n    width: 0.0625rem;\n    height: 3.25rem;\n    background: #e2e2e2;\n    top: 1rem;\n    right: 34%;\n}\n#detailed .today_bonus li.line .careat[data-v-08aee170] {\n      width: 0.375rem;\n      height: 0.375rem;\n      border: 0.0625rem solid #ddd;\n      border-left: 0;\n      border-bottom: 0;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n      background: #fff;\n      position: absolute;\n      top: 1.4375rem;\n      right: -0.1875rem;\n}\n#detailed .today_bonus li[data-v-08aee170] {\n    text-align: center;\n    float: left;\n}\n#detailed .today_bonus li span[data-v-08aee170] {\n      font-size: 17px;\n      line-height: 1.625rem;\n      display: inline-block;\n      margin-bottom: 0.625rem;\n}\n#detailed .today_bonus li b[data-v-08aee170] {\n      font-size: 11px;\n      color: #333333;\n}\n#detailed .today_bonus li.data[data-v-08aee170] {\n    width: 22%;\n}\n#detailed .today_bonus li.data span[data-v-08aee170] {\n      color: #ffa800;\n}\n#detailed .today_bonus li[data-v-08aee170]:first-child,\n  #detailed .today_bonus li[data-v-08aee170]:nth-child(2) {\n    border-right: 0.0625rem solid #e2e2e2;\n}\n#detailed .today_bonus li.mounth[data-v-08aee170] {\n    width: 34%;\n}\n#detailed .today_bonus li.mounth span[data-v-08aee170] {\n      color: #fc6a70;\n}\n#detailed a[data-v-08aee170] {\n  color: #000;\n}\n#detailed .mint-navbar[data-v-08aee170] {\n  margin-bottom: 0.125rem;\n}\n#detailed .mint-navbar .mint-tab-item[data-v-08aee170] {\n  padding: 0.875rem 0;\n}\n#detailed .times[data-v-08aee170] {\n  text-align: left;\n  text-indent: 0.625rem;\n  line-height: 2rem;\n  background: #fff;\n}\n#detailed .tbs[data-v-08aee170] {\n  background: #fff;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 0.625rem 0.875rem;\n  border-bottom: 0.0625rem solid #ebebeb;\n  font-size: 14px;\n}\n#detailed .tbs .item2[data-v-08aee170] {\n    -webkit-box-flex: 3;\n        -ms-flex: 3;\n            flex: 3;\n    text-align: left;\n}\n#detailed .tbs .item2 li[data-v-08aee170] {\n      line-height: 1.875rem;\n}\n#detailed .tbs .item3[data-v-08aee170] {\n    -webkit-box-flex: 2;\n        -ms-flex: 2;\n            flex: 2;\n    text-align: right;\n}\n#detailed .tbs .item3 .red[data-v-08aee170] {\n      color: red;\n}\n#detailed .tbs .item3 .green[data-v-08aee170] {\n      color: green;\n}\n#detailed .tbs .item3 .yellow[data-v-08aee170] {\n      color: yellow;\n}\n#detailed .tbs .item3 .reduce[data-v-08aee170] {\n      color: #e51c23;\n}\n#detailed .tbs .item3 span[data-v-08aee170] {\n      line-height: 1.875rem;\n}\n#detailed .tbs .item3 p[data-v-08aee170] {\n      line-height: 1.875rem;\n      color: #8c8c8c;\n}\n",""])},l1KQ:function(t,e,a){var i=a("iJXi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("b3b59f12",i,!0,{})}});