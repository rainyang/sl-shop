webpackJsonp([42],{Q6Lu:function(t,e,i){var n=i("QYMJ");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("0f92449b",n,!0,{})},QYMJ:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n#video-list .load[data-v-c92c7158] {\n  text-align: center;\n}\n#video-list .load img[data-v-c92c7158] {\n    width: 3rem;\n}\n#video-list .banner[data-v-c92c7158] {\n  width: 100%;\n  height: 10rem;\n}\n#video-list .banner img[data-v-c92c7158] {\n    width: 100%;\n    height: 10rem;\n}\n#video-list .video-list[data-v-c92c7158] {\n  margin: 0.5rem 0.5rem 3.5rem 0.5rem;\n  text-align: left;\n  /*display: flex;*/\n}\n#video-list .video-list ul[data-v-c92c7158] {\n    vertical-align: top;\n    display: inline-block;\n    /*display: flex;*/\n    /*flex-direction: column;*/\n    /*flex-wrap: wrap;*/\n    width: 48%;\n}\n#video-list .video-list li[data-v-c92c7158] {\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    background-color: #ffffff;\n    border-radius: 6px;\n    margin-bottom: 0.5rem;\n    overflow: hidden;\n}\n#video-list .video-list .play[data-v-c92c7158] {\n    position: absolute;\n    top: 45%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n}\n#video-list .video-list ul[data-v-c92c7158]:first-child {\n    margin-right: 0.5rem;\n}\n#video-list .video-list p[data-v-c92c7158] {\n    font-size: 14px;\n    color: #333333;\n    font-weight: bold;\n    padding: 5px 10px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n#video-list .video-list .video-img[data-v-c92c7158] {\n    width: 100%;\n    height: auto;\n}\n#video-list .video-list .people[data-v-c92c7158] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 5px;\n}\n#video-list .video-list .people img[data-v-c92c7158] {\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 1.5rem;\n              flex: 0 0 1.5rem;\n      width: 1.5rem;\n      height: 1.5rem;\n      border-radius: 50%;\n      margin: 0 5px;\n}\n#video-list .video-list .people span[data-v-c92c7158] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      line-height: 1.5rem;\n      margin: 0 5px;\n      font-size: 11px;\n      color: #8c8c8c;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n}\n#video-list .button[data-v-c92c7158] {\n  height: 3.5rem;\n  z-index: 2001;\n}\n#video-list .button img[data-v-c92c7158] {\n    width: 100%;\n    height: 100%;\n}\n#video-list .footer[data-v-c92c7158] {\n  position: fixed;\n  bottom: 0rem;\n  width: 100%;\n  height: 3.125rem;\n  background: #fff;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  z-index: 100;\n}\n#video-list .footer ul[data-v-c92c7158] {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    width: 100%;\n    height: 3.125rem;\n    padding: 0.5rem;\n}\n#video-list .footer ul li[data-v-c92c7158] {\n      width: 20%;\n      float: left;\n      font-size: 12px;\n      color: #828282;\n}\n#video-list .footer ul li i[data-v-c92c7158] {\n        font-size: 1.25rem;\n}\n#video-list .footer ul .openMyShop[data-v-c92c7158] {\n      width: 3.4375rem;\n      height: 3.4375rem;\n      background: #f15353;\n      border-radius: 50%;\n      line-height: 1.25rem;\n      padding-top: 0.5rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      text-align: center;\n      color: #fff;\n      font-size: 16px;\n      -webkit-box-shadow: 0 0 0 0.375rem #e6e6e6;\n              box-shadow: 0 0 0 0.375rem #e6e6e6;\n      position: relative;\n      bottom: 1.125rem;\n      font-size: 14px;\n      z-index: 100;\n      margin: 0 auto;\n}\n",""])},YOmY:function(t,e,i){t.exports=i.p+"static/app/img/home_bot_but@2x.276d6fc.png"},cxHF:function(t,e,i){t.exports=i.p+"static/app/img/home_play@2x.a1cdb55.png"},lMuQ:function(t,e,i){t.exports=i.p+"static/app/img/video-loading.c4a4193.gif"},yhLy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Pexp"),a=i("Tg7E"),o={mixins:[i("vsZy").a],data:function(){return{videoList:[],bannerList:[],newArray1:[],newArray2:[],showLoading:!1,isLoadMore:!1,page:1,total_page:0}},activated:function(){"release"===this.$route.params.from?this.getData():window.location.href.indexOf("#/videoList")>-1&&setTimeout(function(){window.scrollTo(0,window.videoScrollTop)},200)},mounted:function(){window.videoScrollTop=0,"release"!==this.$route.params.from&&(this.getBanner(),this.getData())},beforeRouteLeave:function(t,e,i){window.videoScrollTop=document.documentElement.scrollTop||document.body.scrollTop,i()},methods:{getBanner:function(){var t=this;$http.get("plugin.video-share.frontend.set.getSlide",{}," ").then(function(e){1===e.result?t.bannerList=e.data.slide:Object(a.Toast)(e.msg)}).catch(function(t){console.error(t)})},getImg:function(t,e,i){var n=new Image;n.src=t,n.compltet?e(n.width,n.height,Number(n.height)/Number(n.width)):(n.onload=function(){e(n.width,n.height,Number(n.height)/Number(n.width))},n.onerror=function(){i()})},getData:function(){var t=this;this.videoList=[],this.page=1,this.isLoadMore=!1,this.showLoading=!1,$http.get("plugin.video-share.frontend.video.getList",{page:this.page},"load").then(function(e){1===e.result?(t.total_page=e.data.list.last_page,t.total_page||(t.total_page=0),0===t.total_page&&(t.showLoading=!0),t.videoList=e.data.list.data,t.newArray1=[],t.newArray2=[],t.sort(0,t.videoList)):(Object(a.Toast)(e.msg),t.page=t.page-1,t.isLoadMore=!1)}).catch(function(t){console.error(t)})},sort:function(t,e){var i=this,n=t||0;e.length>n&&i.getImg(e[n].cover,function(t,a,o){var s=0,r=0;document.getElementsByClassName("zq-waterfall-left")[0]&&(s=document.getElementsByClassName("zq-waterfall-left")[0].clientHeight),document.getElementsByClassName("zq-waterfall-right")[0]&&(r=document.getElementsByClassName("zq-waterfall-right")[0].clientHeight),s<=r?(i.newArray1.push(e[n]),i.$nextTick(function(){i.sort(n+1,e)})):(i.newArray2.push(e[n]),i.$nextTick(function(){i.sort(n+1,e)}))},function(){i.$nextTick(function(){i.sort(n+1,e)})}),e.length-1==n&&(this.isLoadMore=!0,this.showLoading=!0)},getMoreData:function(){var t=this;t.isLoadMore=!1,this.showLoading=!1,this.page>=this.total_page?this.showLoading=!0:(this.page=this.page+1,$http.get("plugin.video-share.frontend.video.getList",{page:t.page},"加载中").then(function(e){if(1===e.result){var i=e.data.list.data,n=t.videoList.length;t.videoList=t.videoList.concat(i),t.sort(n,t.videoList)}else t.page=t.page-1,t.isLoadMore=!1},function(t){}))},toVideo:function(t){var e=this.videoList.findIndex(function(e,i,n){return e.id===t.id});e=Math.ceil((e+1)/15),this.$router.push(this.fun.getUrl("VideoDetail",{},{vid:t.id,page:e}))}},components:{cTitle:n.a}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"video-list"}},[n("c-title",{attrs:{hide:!1,text:"视频列表",url:"member"}}),t._v(" "),n("div",{staticStyle:{height:"40px"}}),t._v(" "),n("div",{staticClass:"banner"},[n("yd-slider",{attrs:{autoplay:"3000"}},t._l(t.bannerList,function(t,e){return n("yd-slider-item",{key:e},[n("a",{attrs:{href:t.url}},[n("img",{staticClass:"banner-item",attrs:{src:t.img}})])])}),1)],1),t._v(" "),n("div",{staticClass:"video-list"},[n("ul",{ref:"newArray1",staticClass:"zq-waterfall-left"},t._l(t.newArray1,function(e,a){return n("li",{key:a,on:{click:function(i){return t.toVideo(e)}}},[n("img",{staticClass:"video-img",attrs:{src:e.cover,alt:""}}),t._v(" "),n("p",[t._v(t._s(e.title))]),t._v(" "),e.member?n("div",{staticClass:"people"},[n("img",{attrs:{src:e.member.avatar,alt:""}}),t._v(" "),n("span",[t._v(t._s(e.member.nickname))])]):t._e(),t._v(" "),n("img",{staticClass:"play",attrs:{src:i("cxHF"),alt:""}})])}),0),t._v(" "),n("ul",{ref:"newArray2",staticClass:"zq-waterfall-right"},t._l(t.newArray2,function(e,a){return n("li",{key:a,on:{click:function(i){return t.toVideo(e)}}},[n("img",{staticClass:"video-img",attrs:{src:e.cover,alt:""}}),t._v(" "),n("p",[t._v(t._s(e.title))]),t._v(" "),e.member?n("div",{staticClass:"people"},[n("img",{attrs:{src:e.member.avatar,alt:""}}),t._v(" "),n("span",[t._v(t._s(e.member.nickname))])]):t._e(),t._v(" "),n("img",{staticClass:"play",attrs:{src:i("cxHF"),alt:""}})])}),0),t._v(" "),t.showLoading?t._e():n("div",{staticClass:"load"},[n("img",{attrs:{src:i("lMuQ"),alt:"loading"}})]),t._v(" "),n("div",{staticStyle:{height:"3rem"}})]),t._v(" "),n("div",{staticClass:"footer",style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"}},[n("ul",[n("router-link",{attrs:{to:t.fun.getUrl("home")}},[n("li",{staticClass:"na"},[n("i",{staticClass:"fa fa-home"}),t._v(" "),n("p",[t._v("首页")])])]),t._v(" "),n("router-link",{attrs:{to:t.fun.getUrl("category",{fromHome:1})}},[n("li",{staticClass:"na"},[n("i",{staticClass:"fa fa-th-large"}),t._v(" "),n("p",[t._v("分类")])])]),t._v(" "),n("router-link",{attrs:{to:t.fun.getUrl("videoAgreement")}},[n("li",{staticClass:"button",staticStyle:{width:"3.5rem",margin:"-.8rem .47rem 0 .47rem"}},[n("img",{attrs:{src:i("YOmY"),alt:""}})])]),t._v(" "),n("router-link",{attrs:{to:t.fun.getUrl("cart")}},[n("li",{staticClass:"na righ"},[n("i",{staticClass:"fa fa-cart-plus"}),t._v(" "),n("p",[t._v("购物车")])])]),t._v(" "),n("router-link",{attrs:{to:t.fun.getUrl("member")}},[n("li",{staticClass:"na righ"},[n("i",{staticClass:"fa fa-user"}),t._v(" "),n("p",[t._v("我的")])])])],1)])],1)},staticRenderFns:[]};var r=i("VU/8")(o,s,!1,function(t){i("Q6Lu")},"data-v-c92c7158",null);e.default=r.exports}});