webpackJsonp([313],{SNdA:function(n,t,a){var e=a("kxFB");(n.exports=a("FZ+f")(!1)).push([n.i,"\n#aggregate .agg_content[data-v-7384cd2e] {\n  background: #fff;\n  padding-top: 40px;\n}\n#aggregate .agg_content .agg_ope_acc .title[data-v-7384cd2e] {\n    background: #f5f5f5;\n    height: 2.25rem;\n    line-height: 2.25rem;\n    text-align: left;\n    padding-left: 0.8rem;\n    font-weight: bold;\n    color: #333333;\n    font-size: 16px;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .yd-cell-box[data-v-7384cd2e] {\n    margin-bottom: 0;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .yd-cell-box .yd-cell-item[data-v-7384cd2e] {\n      padding-left: 1.5rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .yd-cell-box .yd-cell-item .yd-cell-left span[data-v-7384cd2e] {\n        position: relative;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .yd-cell-box .yd-cell-item .yd-cell-left span .xin_icon[data-v-7384cd2e] {\n          color: #f15353;\n          margin-left: -1rem;\n          font-size: 0.75rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid[data-v-7384cd2e] {\n    border-bottom: 0.0625rem solid #ebebeb;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_title[data-v-7384cd2e] {\n      height: 3.12rem;\n      line-height: 3.12rem;\n      text-align: left;\n      padding-left: 1rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_title .xin_icon[data-v-7384cd2e] {\n        color: #f15353;\n        margin-left: -0.5rem;\n        font-size: 0.75rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content[data-v-7384cd2e] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-pack: distribute;\n          justify-content: space-around;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .left .add_photo[data-v-7384cd2e] {\n        width: 8.8rem;\n        height: 5rem;\n        border: 0.0625rem solid #319ff8;\n        border-radius: 0.3125rem;\n        background: url("+e(a("k0fT"))+") no-repeat center center;\n        background-size: 1.8rem 1.8rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .left .add_photo .van-uploader[data-v-7384cd2e] {\n          width: 100%;\n          height: 5rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .left h3[data-v-7384cd2e] {\n        height: 1.56rem;\n        line-height: 1.56rem;\n        font-size: 12px;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .right .add_photo[data-v-7384cd2e] {\n        width: 8.8rem;\n        height: 5rem;\n        border: 0.0625rem solid #319ff8;\n        border-radius: 0.3125rem;\n        background: url("+e(a("k0fT"))+") no-repeat center center;\n        background-size: 1.8rem 1.8rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .right .add_photo .van-uploader[data-v-7384cd2e] {\n          width: 100%;\n          height: 5rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_content .right h3[data-v-7384cd2e] {\n        height: 1.56rem;\n        line-height: 1.56rem;\n        font-size: 12px;\n}\n#aggregate .agg_content .agg_ope_acc .content ul li .agg_aud_vid .vid_message[data-v-7384cd2e] {\n      width: 20rem;\n      margin: 0 auto;\n      padding-top: 0.9rem;\n      font-size: 12px;\n      line-height: 1.25rem;\n      color: #8c8c8c;\n      padding-bottom: 1.4rem;\n}\n#aggregate .agg_content .agg_ope_acc .content ul .proving .provingbtn[data-v-7384cd2e] {\n    min-width: 5.625rem;\n    height: 1.625rem;\n    line-height: 1.625rem;\n    text-align: center;\n    border-radius: 1rem;\n    color: #f15353;\n    background: #ebebeb;\n    font-size: 13px;\n}\n#aggregate .btn_box[data-v-7384cd2e] {\n  margin-top: 1.125rem;\n}\n#aggregate .btn_box button[data-v-7384cd2e] {\n    width: 20.625rem;\n    height: 2.625rem;\n    border-radius: 0.375rem;\n    font-size: 16px;\n    margin: 0.375rem auto;\n}\n#aggregate .btn_box button[data-v-7384cd2e]:last-child {\n    border: solid 0.0625rem #389ef2;\n}\n",""])},erpI:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("Pexp"),i=a("Tg7E"),o=(a("bm/2"),{data:function(){return{cardNumber:"",bankDepositText:"请选择开户行",bankDepositshow:!1,bankDepositOne:!0,bankDepositData_1:[],bankno:"",bankDepcolumns:[],bankDeploading:!0,bankIndex:[0],bankprovinceText:"请选择开户行省份",bankprovinceShow:!1,bankprovinceOne:!0,bankprovinceData:[],bankprovinceId:"",bankprovinceIndex:[0],bankprovcolumns:[],bankprovloading:!0,bankCityText:"请选择开户行城市",bankCityShow:!1,bankCityOne:!0,bankcityData:[],bankcityId:"",bankcitycolumns:[],bankcityloading:!0,bankcityIndex:[0],subbranchText:"请选择开户支行",subbranchShow:!1,subbranchcolumns:[],subbranchloading:!0,subbranchData:[],citybankno:"",subbranchIndex:[0],identifyingCode:"",start1:!1}},methods:{init:function(){this.cardNumber="",this.bankDepositText="请选择开户行",this.bankDepositshow=!1,this.bankDepositOne=!0,this.bankDepositData_1=[],this.bankno="",this.bankDepcolumns=[],this.bankDeploading=!0,this.bankIndex=[0],this.bankprovinceText="请选择开户行省份",this.bankprovinceShow=!1,this.bankprovinceOne=!0,this.bankprovinceData=[],this.bankprovinceId="",this.bankprovinceIndex=[0],this.bankprovcolumns=[],this.bankprovloading=!0,this.bankCityText="请选择开户行城市",this.bankCityShow=!1,this.bankCityOne=!0,this.bankcityData=[],this.bankcityId="",this.bankcitycolumns=[],this.bankcityloading=!0,this.bankcityIndex=[0],this.subbranchText="请选择开户支行",this.subbranchShow=!1,this.subbranchcolumns=[],this.subbranchloading=!0,this.subbranchData=[],this.citybankno="",this.subbranchIndex=[0],this.identifyingCode="",this.start1=!1},bankDepositBtn:function(){this.bankDepositOne||(this.bankDepositshow=!0)},getbankDeposit:function(n){var t=this;$http.get("plugin.yop-pay.api.yop-helper.get-bank",{}).then(function(a){if(1==a.result){var e,o=[];if(e=(o=a.data.map(function(n,t){return{bank_name:n.bank_name,bank_no:n.bank_no}})).map(function(n,t){return n.bank_name}),t.bankDepositData_1=o,t.bankDepcolumns=e,n){var c=t.$refs.banklist_sele,s=t;o.forEach(function(t,a){t.bank_no==n&&(c.setIndexes([a]),s.bankIndex[0]=a,s.bankDepositText=s.bankDepositData_1[s.bankIndex[0]].bank_name)})}t.bankDepositOne=!1,t.bankDeploading=!1}else i.MessageBox.alert(a.msg)}).catch(function(n){console.log(n)})},bankconbtn:function(n){this.bankDepositText=n,this.bankno=this.bankDepositData_1[this.bankIndex[0]].bank_no,this.subbranchText="请选择开户支行",this.citybankno="",this.subbranchIndex=[0],this.subbranchData=[],this.bankno&&this.bankprovinceId&&this.bankcityId&&this.getsubbranch(this.bankno,this.bankprovinceId,this.bankcityId),this.bankDepositshow=!1},bankcancelbtn:function(n){this.bankDepositshow=!1},banklistbtn:function(n,t,a){var e=n.getIndexes();this.bankIndex=e},bankprovinceBtn:function(){this.bankprovinceOne||(this.bankprovinceShow=!0)},getbankprovince:function(n,t){var a=this;$http.post("plugin.yop-pay.api.yop-helper.getAddress",{yop_helper_type:"province"}).then(function(e){if(1==e.result){var o,c=[];if(o=(c=e.data.map(function(n,t){return{area_name:n.area_name,id:n.id}})).map(function(n,t){return n.area_name}),a.bankprovinceData=c,a.bankprovcolumns=o,n){var s=a.$refs.bankprovince_sele,r=a;c.forEach(function(t,a){t.id==n&&(s.setIndexes([a]),r.bankprovinceIndex[0]=a,r.bankprovinceText=r.bankprovinceData[r.bankprovinceIndex[0]].area_name)}),a.getbankCity(n,t)}a.bankprovinceOne=!1,a.bankprovloading=!1}else i.MessageBox.alert(e.msg)}).catch(function(n){console.log(n)})},bankprovinceconbtn:function(n){var t="";this.bankprovinceText=n,this.bankprovinceId=this.bankprovinceData[this.bankprovinceIndex[0]].id,this.bankCityText="请选择开户行城市",this.bankcityId="",this.bankcityIndex=[0],this.bankprovinceData.length>0&&(t=this.bankprovinceData[this.bankprovinceIndex[0]].id,this.getbankCity(t)),this.subbranchText="请选择开户支行",this.citybankno="",this.subbranchIndex=[0],this.subbranchData=[],this.bankprovinceShow=!1},bankprovincecancelbtn:function(n){this.bankprovinceShow=!1},bankprovincelistbtn:function(n,t,a){var e=n.getIndexes();this.bankprovinceIndex=e},bankCityBtn:function(){if(!this.bankprovinceId)return Object(i.Toast)("请选择开户行省份"),!1;this.bankCityShow=!0},getbankCity:function(n,t){var a=this;if(!n)return!1;this.bankcityloading=!0,$http.post("plugin.yop-pay.api.yop-helper.getAddress",{yop_helper_type:"city",parentid:n}).then(function(n){if(1==n.result){var e,o=[];if(e=(o=n.data.map(function(n,t){return{area_name:n.area_name,id:n.id}})).map(function(n,t){return n.area_name}),a.bankcityData=o,a.bankcitycolumns=e,t){var c=a.$refs.bankCity_sele,s=a;o.forEach(function(n,a){n.id==t&&(c.setIndexes([a]),s.bankcityIndex[0]=a,s.bankCityText=s.bankcityData[s.bankcityIndex[0]].area_name)})}a.bankcityloading=!1}else i.MessageBox.alert(n.msg)}).catch(function(n){console.log(n)})},bankCitybtn:function(n){this.bankCityText=n,this.bankcityId=this.bankcityData[this.bankcityIndex[0]].id,this.subbranchText="请选择开户支行",this.citybankno="",this.subbranchIndex=[0],this.subbranchData=[],this.bankno&&this.bankprovinceId&&this.bankcityId&&this.getsubbranch(this.bankno,this.bankprovinceId,this.bankcityId),this.bankCityShow=!1},bankCitycancelbtn:function(n){this.bankCityShow=!1},bankCitylistbtn:function(n,t,a){var e=n.getIndexes();this.bankcityIndex=e},subbranchBtn:function(){return this.bankno?this.bankprovinceId?this.bankcityId?this.subbranchcolumns.length<=0?(Object(i.Toast)("该银行支行信息不存在"),!1):void(this.subbranchShow=!0):(Object(i.Toast)("请选择开户行城市"),!1):(Object(i.Toast)("请选择开户行省份"),!1):(Object(i.Toast)("请选择开户行"),!1)},getsubbranch:function(n,t,a,e){var o=this;$http.post("plugin.yop-pay.api.yop-helper.getBankCode",{headBankCode:n,bankProvince:t,bankCity:a}).then(function(n){if(1==n.result){console.log(n);var t,a=n.data.branchBankInfo,c=[];if(t=(c=a.map(function(n,t){return{name:n.name,code:n.code}})).map(function(n,t){return n.name}),o.subbranchData=c,o.subbranchcolumns=t,e){var s=o.$refs.subbranch_sele,r=o;c.forEach(function(n,t){n.code==e&&(s.setIndexes([t]),r.subbranchIndex[0]=t,r.subbranchText=r.subbranchData[r.subbranchIndex[0]].name)})}0==a.length&&Object(i.Toast)("该银行在所属城市没有相关开户支行,请更换其他开户行"),o.subbranchloading=!1}else i.MessageBox.alert(n.msg)}).catch(function(n){console.log(n)})},subbranchbtn:function(n){this.subbranchText=n,this.citybankno=this.subbranchData[this.subbranchIndex[0]].code,this.subbranchShow=!1},subbranchcancelbtn:function(n){this.subbranchShow=!1},subbranchlistbtn:function(n,t,a){var e=n.getIndexes();this.subbranchIndex=e},confirmBtn:function(){var n=this;return this.cardNumber?this.bankno?this.bankprovinceId?this.bankcityId?this.citybankno?this.identifyingCode?void $http.post("plugin.yop-pay.api.merchant.settleUpd",{data:{bankcardNo:this.cardNumber,headBankCode:this.bankno,bankProvince:this.bankprovinceId,bankCity:this.bankcityId,bankCode:this.citybankno,authorizenum:this.identifyingCode}}).then(function(t){1==t.result?(Object(i.Toast)("修改成功"),n.$router.push(n.fun.getUrl("info",{}))):i.MessageBox.alert(t.msg)}).catch(function(n){console.log(n)}):(Object(i.Toast)("请填写验证码"),!1):(Object(i.Toast)("请选择开户支行"),!1):(Object(i.Toast)("请选择开户行城市"),!1):(Object(i.Toast)("请选择开户行省份"),!1):(Object(i.Toast)("请选择开户行"),!1):(Object(i.Toast)("请填写结算银行账号或银行卡号"),!1)},detailsBtn:function(){this.$router.push(this.fun.getUrl("AggregateAuditPart",{}))},verificationCode:function(){var n=this;this.$yddialog.loading.open("发送中...");var t=this;$http.get("plugin.yop-pay.api.yop-helper.getVali",{}).then(function(a){console.log(a),n.$yddialog.loading.close(),1==a.result?t.sendCodeAnimation():i.MessageBox.alert(a.msg)},function(n){console.log(error)})},sendCodeAnimation:function(){var n=this;setTimeout(function(){n.start1=!0,n.$yddialog.loading.close(),Object(i.Toast)("已发送")},1e3)}},activated:function(){this.init(),this.getbankDeposit(),this.getbankprovince()},components:{cTitle:e.a}}),c={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{attrs:{id:"aggregate"}},[a("c-title",{attrs:{hide:!1,text:"入网信息"}}),n._v(" "),a("div",{staticClass:"agg_content"},[a("div",{staticClass:"agg_ope_acc"},[a("div",{staticClass:"title"},[n._v("开户信息")]),n._v(" "),a("div",{staticClass:"content"},[a("ul",[a("li",[a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[a("i",{staticClass:"xin_icon iconfont icon-info-must"}),n._v("结算银行卡号：")]),n._v(" "),a("yd-input",{attrs:{slot:"right",placeholder:"请填写结算银行账号或银行卡号"},slot:"right",model:{value:n.cardNumber,callback:function(t){n.cardNumber=t},expression:"cardNumber"}})],1)],1)],1),n._v(" "),a("li",[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[a("i",{staticClass:"xin_icon iconfont icon-info-must"}),n._v("开户行：")]),n._v(" "),a("span",{attrs:{slot:"right"},on:{click:n.bankDepositBtn},slot:"right"},[n._v(n._s(n.bankDepositText))])])],1)],1),n._v(" "),a("li",[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[n._v("开户行省份：")]),n._v(" "),a("span",{attrs:{slot:"right"},on:{click:n.bankprovinceBtn},slot:"right"},[n._v(n._s(n.bankprovinceText))])])],1)],1),n._v(" "),a("li",[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[n._v("开户行城市：")]),n._v(" "),a("span",{attrs:{slot:"right"},on:{click:n.bankCityBtn},slot:"right"},[n._v(n._s(n.bankCityText))])])],1)],1),n._v(" "),a("li",[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{attrs:{slot:"left"},slot:"left"},[n._v("开户支行：")]),n._v(" "),a("span",{attrs:{slot:"right"},on:{click:n.subbranchBtn},slot:"right"},[n._v(n._s(n.subbranchText))])])],1)],1),n._v(" "),a("li",{staticClass:"proving"},[a("yd-cell-group",[a("yd-cell-item",[a("span",{attrs:{slot:"left"},slot:"left"},[a("yd-input",{attrs:{placeholder:"请输入验证码"},model:{value:n.identifyingCode,callback:function(t){n.identifyingCode=t},expression:"identifyingCode"}})],1),n._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("yd-sendcode",{staticStyle:{color:"#fff"},attrs:{type:"warning"},nativeOn:{click:function(t){return n.verificationCode(t)}},model:{value:n.start1,callback:function(t){n.start1=t},expression:"start1"}})],1)])],1)],1)])])])]),n._v(" "),a("div",{staticClass:"btn_box"},[a("yd-button",{attrs:{bgcolor:"#389ef2",color:"#fff",type:"primary"},nativeOn:{click:function(t){return n.confirmBtn(t)}}},[n._v("确认修改")]),n._v(" "),a("yd-button",{attrs:{bgcolor:"#fff",color:"#389ef2",type:"primary"},nativeOn:{click:function(t){return n.detailsBtn(t)}}},[n._v("入网详情")])],1),n._v(" "),a("van-popup",{attrs:{"lazy-render":!1,position:"bottom",overlay:!0},model:{value:n.bankDepositshow,callback:function(t){n.bankDepositshow=t},expression:"bankDepositshow"}},[a("van-picker",{ref:"banklist_sele",attrs:{"show-toolbar":!0,columns:n.bankDepcolumns,loading:n.bankDeploading},on:{change:n.banklistbtn,confirm:n.bankconbtn,cancel:n.bankcancelbtn}})],1),n._v(" "),a("van-popup",{attrs:{"lazy-render":!1,position:"bottom",overlay:!0},model:{value:n.bankprovinceShow,callback:function(t){n.bankprovinceShow=t},expression:"bankprovinceShow"}},[a("van-picker",{ref:"bankprovince_sele",attrs:{"show-toolbar":!0,columns:n.bankprovcolumns,loading:n.bankprovloading},on:{change:n.bankprovincelistbtn,confirm:n.bankprovinceconbtn,cancel:n.bankprovincecancelbtn}})],1),n._v(" "),a("van-popup",{attrs:{"lazy-render":!1,position:"bottom",overlay:!0},model:{value:n.bankCityShow,callback:function(t){n.bankCityShow=t},expression:"bankCityShow"}},[a("van-picker",{ref:"bankCity_sele",attrs:{"show-toolbar":!0,columns:n.bankcitycolumns,loading:n.bankcityloading},on:{change:n.bankCitylistbtn,confirm:n.bankCitybtn,cancel:n.bankCitycancelbtn}})],1),n._v(" "),a("van-popup",{attrs:{"lazy-render":!1,position:"bottom",overlay:!0},model:{value:n.subbranchShow,callback:function(t){n.subbranchShow=t},expression:"subbranchShow"}},[a("van-picker",{ref:"subbranch_sele",attrs:{"show-toolbar":!0,columns:n.subbranchcolumns,loading:n.subbranchloading},on:{change:n.subbranchlistbtn,confirm:n.subbranchbtn,cancel:n.subbranchcancelbtn}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,c,!1,function(n){a("oVA2")},"data-v-7384cd2e",null);t.default=s.exports},oVA2:function(n,t,a){var e=a("SNdA");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("rjj0")("892dd986",e,!0,{})}});