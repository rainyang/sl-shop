webpackJsonp([438],{"5fIU":function(t,s,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n#goods-class[data-v-45875b17] {\n  background-color: #fff;\n  margin-bottom: 3.75rem;\n}\n#goods-class .list .box-a[data-v-45875b17] {\n    padding-left: 0.875rem;\n    border-top: solid 0.0625rem #ebebeb;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    position: relative;\n}\n#goods-class .list .box-a .left[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n      font-size: 16px;\n}\n#goods-class .list .box-a .left .img[data-v-45875b17] {\n        width: 2.5rem;\n        height: 2.5rem;\n        overflow: hidden;\n        background-color: #ccc;\n        margin: 0 0.625rem;\n}\n#goods-class .list .box-a .left .img img[data-v-45875b17] {\n          width: 100%;\n          overflow: hidden;\n}\n#goods-class .list .box-a .left span[data-v-45875b17] {\n        line-height: 2.5rem;\n}\n#goods-class .list .box-a .right[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n      margin-right: 0.625rem;\n}\n#goods-class .list .box-a .right i[data-v-45875b17] {\n        font-size: 1.5rem;\n        color: #c9c9c9;\n        width: 2.5rem;\n        line-height: 2.5rem;\n        position: relative;\n        z-index: 3;\n}\n#goods-class .list .box-a .more[data-v-45875b17] {\n      z-index: 2;\n      background: rgba(51, 51, 51, 0.9);\n      border-radius: 0.25rem;\n      color: #f0f0f0;\n      width: 7.5rem;\n      position: absolute;\n      right: 3rem;\n      top: 2.625rem;\n}\n#goods-class .list .box-a .more ul[data-v-45875b17] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n#goods-class .list .box-a .more ul li[data-v-45875b17] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: center;\n}\n#goods-class .list .box-a .more ul li i[data-v-45875b17] {\n            display: block;\n            margin-top: 0.125rem;\n}\n#goods-class .list .box-a .more .icon[data-v-45875b17] {\n        position: absolute;\n        right: 0.625rem;\n        top: -1rem;\n}\n#goods-class .list .box-a .more .icon i[data-v-45875b17] {\n          color: rgba(51, 51, 51, 0.9);\n}\n#goods-class .list .box-b[data-v-45875b17] {\n    background: #fafafa;\n    padding-left: 0.875rem;\n    border-top: solid 0.0625rem #ebebeb;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    position: relative;\n}\n#goods-class .list .box-b .left[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      margin-left: 1.25rem;\n      padding: 0.625rem 0;\n      font-size: 16px;\n}\n#goods-class .list .box-b .left .img[data-v-45875b17] {\n        width: 2.5rem;\n        height: 2.5rem;\n        overflow: hidden;\n        background-color: #ccc;\n        margin: 0 0.625rem;\n}\n#goods-class .list .box-b .left .img img[data-v-45875b17] {\n          width: 100%;\n          overflow: hidden;\n}\n#goods-class .list .box-b .left span[data-v-45875b17] {\n        line-height: 2.5rem;\n}\n#goods-class .list .box-b .right[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n      margin-right: 0.625rem;\n}\n#goods-class .list .box-b .right i[data-v-45875b17] {\n        font-size: 1.5rem;\n        color: #c9c9c9;\n        width: 2.5rem;\n        line-height: 2.5rem;\n        position: relative;\n        z-index: 3;\n}\n#goods-class .list .box-b .more[data-v-45875b17] {\n      z-index: 2;\n      background: rgba(51, 51, 51, 0.9);\n      border-radius: 0.25rem;\n      color: #f0f0f0;\n      width: 7.5rem;\n      position: absolute;\n      right: 3rem;\n      top: 2.625rem;\n}\n#goods-class .list .box-b .more ul[data-v-45875b17] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n#goods-class .list .box-b .more ul li[data-v-45875b17] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: center;\n}\n#goods-class .list .box-b .more ul li i[data-v-45875b17] {\n            display: block;\n            margin-top: 0.125rem;\n}\n#goods-class .list .box-b .more .icon[data-v-45875b17] {\n        position: absolute;\n        right: 0.625rem;\n        top: -1rem;\n}\n#goods-class .list .box-b .more .icon i[data-v-45875b17] {\n          color: rgba(51, 51, 51, 0.9);\n}\n#goods-class .list .box-c[data-v-45875b17] {\n    padding-left: 0.875rem;\n    background: #fafafa;\n    border-top: solid 0.0625rem #ebebeb;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    position: relative;\n}\n#goods-class .list .box-c .left[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      margin-left: 2.5rem;\n      padding: 0.625rem 0;\n      font-size: 16px;\n}\n#goods-class .list .box-c .left .img[data-v-45875b17] {\n        width: 2.5rem;\n        height: 2.5rem;\n        overflow: hidden;\n        background-color: #ccc;\n        margin: 0 0.625rem;\n}\n#goods-class .list .box-c .left .img img[data-v-45875b17] {\n          width: 100%;\n          overflow: hidden;\n}\n#goods-class .list .box-c .left span[data-v-45875b17] {\n        line-height: 2.5rem;\n}\n#goods-class .list .box-c .right[data-v-45875b17] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 0.625rem 0;\n      margin-right: 0.625rem;\n}\n#goods-class .list .box-c .right i[data-v-45875b17] {\n        font-size: 1.5rem;\n        color: #c9c9c9;\n        width: 2.5rem;\n        line-height: 2.5rem;\n        position: relative;\n        z-index: 3;\n}\n#goods-class .list .box-c .more[data-v-45875b17] {\n      z-index: 2;\n      background: rgba(51, 51, 51, 0.9);\n      border-radius: 0.25rem;\n      color: #f0f0f0;\n      width: 5.5rem;\n      position: absolute;\n      right: 3rem;\n      top: 2.625rem;\n}\n#goods-class .list .box-c .more ul[data-v-45875b17] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n#goods-class .list .box-c .more ul li[data-v-45875b17] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: center;\n}\n#goods-class .list .box-c .more ul li i[data-v-45875b17] {\n            display: block;\n            margin-top: 0.125rem;\n}\n#goods-class .list .box-c .more .icon[data-v-45875b17] {\n        position: absolute;\n        right: 0.625rem;\n        top: -1rem;\n}\n#goods-class .list .box-c .more .icon i[data-v-45875b17] {\n          color: rgba(51, 51, 51, 0.9);\n}\n#goods-class #bottom[data-v-45875b17] {\n    border-top: solid 0.0625rem #ebebeb;\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    background-color: #fff;\n    padding: 0 0.875rem;\n    font-size: 16px;\n}\n#goods-class #bottom button[data-v-45875b17] {\n      color: #fff;\n      width: 100%;\n      height: 2.5rem;\n      line-height: 2.5rem;\n      border-radius: 0.1875rem;\n      background-color: #f15353;\n      border: none;\n      margin: 0.375rem 0;\n}\n",""])},"68nV":function(t,s,i){var e=i("5fIU");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("rjj0")("5cff036a",e,!0,{})},Gf7B:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("Pexp"),n=(i("Tg7E"),{components:{cTitle:e.a},data:function(){return{classify_data:[]}},activated:function(){this.getJson(),this.emptyMore()},methods:{getJson:function(){var t=this;console.log("--params---",t.$route.params);var s={store_id:parseInt(t.$route.params.store_id)};$http.post("plugin.store-cashier.frontend.store.goods-category.get-category-by-store-id",s).then(function(s){if(console.log("显示classify",s),1==s.result){t.classify_data=[];for(var i=0;i<s.data.list.length;i++){s.data.list[i].btn_active=!1,s.data.list[i].level_active=!1;for(var e=0;e<s.data.list[i].childrens.length;e++)s.data.list[i].childrens[e].btn_active=!1,s.data.list[i].childrens[e].level_active=!1}t.classify_data=s.data.list,console.log(t.classify_data)}else{if(s.data.url)return t.$notify(s.msg),window.location.href=s.data.url,0;t.$notify("暂无商品分类,请添加分类")}},function(t){console.log(t)})},classifyRoute:function(t,s,i,e,n){1==t?2==s?this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:this.classify_data[i].id,level:s})):3==s&&this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:this.classify_data[i].childrens[e].id,level:s})):2==t&&(1==s?this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[i].id,level:s})):2==s?this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[i].childrens[e].id,level:s})):3==s&&this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[i].childrens[e].thirds[n].id,level:s})))},addClassify:function(){console.log("uiiooo"),this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:"add",level:1}))},oneLevel:function(t,s,i){1==t?1==this.classify_data[s].level_active?this.emptyMore():0!=this.classify_data[s].childrens.length?(this.emptyMore(),this.classify_data[s].level_active=!0):this.$notify("此类暂无数据"):2==t&&(1==this.classify_data[s].childrens[i].level_active?(this.emptyMore(),this.classify_data[s].level_active=!0):0!=this.classify_data[s].childrens[i].thirds.length?(this.emptyMore(),this.classify_data[s].level_active=!0,this.classify_data[s].childrens[i].level_active=!0):this.$notify("此类暂无数据"))},levelMore:function(t,s,i,e){1==t?1==this.classify_data[s].btn_active?this.emptyMore():(this.emptyMore(),this.classify_data[s].btn_active=!0):2==t?1==this.classify_data[s].childrens[i].btn_active?(this.emptyMore(),this.classify_data[s].level_active=!0):(this.emptyMore(),this.classify_data[s].level_active=!0,this.classify_data[s].childrens[i].btn_active=!0):3==t&&(1==this.classify_data[s].childrens[i].thirds[e].btn_active?(this.emptyMore(),this.classify_data[s].level_active=!0,this.classify_data[s].childrens[i].level_active=!0):(this.emptyMore(),this.classify_data[s].level_active=!0,this.classify_data[s].childrens[i].level_active=!0,this.classify_data[s].childrens[i].thirds[e].btn_active=!0))},emptyMore:function(){for(var t=0;t<this.classify_data.length;t++){this.classify_data[t].btn_active=!1,this.classify_data[t].level_active=!1;for(var s=0;s<this.classify_data[t].childrens.length;s++)this.classify_data[t].childrens[s].btn_active=!1,this.classify_data[t].childrens[s].level_active=!1}},deleteClassify:function(t,s,i,e){var n=this;this.$dialog.confirm({title:"提示",message:"此操作将永久删除该分类, 是否继续?"}).then(function(){var a="";if(1==t){if(a=n.classify_data[s].id,0!=n.classify_data[s].childrens.length)return void n.$notify("先清空二级分类")}else 2==t?a=n.classify_data[s].childrens[i].id:3==t&&(a=n.classify_data[s].childrens[i].thirds[e].id);var o={id:a};$http.post("plugin.store-cashier.frontend.store.goods-category.del-category",o).then(function(a){console.log("显示delete",a),1==a.result?(1==t?n.classify_data.splice(s,1):2==t?n.classify_data[s].childrens.splice(i,1):3==t&&n.classify_data[s].childrens[i].thirds.splice(e,1),n.$notify({background:"#f0f9eb",message:"删除成功",color:"#67c23a"})):n.$notify(a.msg)},function(t){console.log(t)})}).catch(function(){n.$notify({background:"#edf2fc",message:"已取消删除",color:"#909399"})})}}}),a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{attrs:{id:"goods-class"}},[i("c-title",{attrs:{hide:!1,text:"商品分类"}}),t._v(" "),i("section",{staticStyle:{height:"40px"}}),t._v(" "),t._l(t.classify_data,function(s,e){return i("section",{key:e,staticClass:"list"},[i("ul",{staticClass:"box-a",on:{click:function(s){return t.oneLevel(1,e)}}},[i("li",{staticClass:"left"},[i("span",[t._v(t._s(s.name))])]),t._v(" "),i("li",{staticClass:"right"},[i("i",{staticClass:"iconfont icon-more",staticStyle:{color:"#c9c9c9"},on:{click:function(s){return s.stopPropagation(),t.levelMore(1,e)}}}),t._v(" "),0==s.level_active?i("i",{staticClass:"iconfont icon-member-bottom",staticStyle:{color:"#c9c9c9"}}):t._e(),t._v(" "),1==s.level_active?i("i",{staticClass:"iconfont icon-member-top",staticStyle:{color:"#c9c9c9"}}):t._e()]),t._v(" "),s.btn_active?i("div",{staticClass:"more"},[i("ul",[i("li",{on:{click:function(s){return s.stopPropagation(),t.classifyRoute(1,2,e)}}},[i("yd-icon",{staticClass:"iconfont icon-add",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),i("span",[t._v("添加")])],1),t._v(" "),i("li",{on:{click:function(s){return s.stopPropagation(),t.classifyRoute(2,1,e)}}},[i("yd-icon",{staticClass:"iconfont icon-edit",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),i("span",[t._v("编辑")])],1),t._v(" "),i("li",{on:{click:function(s){return s.stopPropagation(),t.deleteClassify(1,e)}}},[i("yd-icon",{staticClass:"iconfont icon-delete",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),i("span",[t._v("删除")])],1)]),t._v(" "),i("div",{staticClass:"icon"},[i("yd-icon",{staticClass:"iconfont icon-up",attrs:{custom:"",size:"1.5rem"}})],1)]):t._e()]),t._v(" "),t._l(s.childrens,function(n,a){return s.level_active?i("section",{key:a},[i("ul",{staticClass:"box-b"},[i("li",{staticClass:"left"},[i("span",[t._v(t._s(n.name))])]),t._v(" "),i("li",{staticClass:"right"},[i("i",{staticClass:"iconfont icon-more",staticStyle:{color:"#c9c9c9"},on:{click:function(s){return s.stopPropagation(),t.levelMore(2,e,a)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-member-top",staticStyle:{color:"#c9c9c9"}})]),t._v(" "),n.btn_active?i("div",{staticClass:"more"},[i("ul",[i("li",{on:{click:function(s){return s.stopPropagation(),t.classifyRoute(2,2,e,a)}}},[i("yd-icon",{staticClass:"iconfont icon-edit",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),i("span",[t._v("编辑")])],1),t._v(" "),i("li",{on:{click:function(s){return s.stopPropagation(),t.deleteClassify(2,e,a)}}},[i("yd-icon",{staticClass:"iconfont icon-delete",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),i("span",[t._v("删除")])],1)]),t._v(" "),i("div",{staticClass:"icon"},[i("yd-icon",{staticClass:"iconfont icon-up",attrs:{custom:"",size:"1.5rem"}})],1)]):t._e()])]):t._e()})],2)}),t._v(" "),i("section",{style:{width:3==this.fun.getPhoneEnv()?"375px":"100%"},attrs:{id:"bottom"}},[i("button",{attrs:{type:"button"},on:{click:t.addClassify}},[i("i",{staticClass:"iconfont icon-life-game-plus"}),t._v("添加分类")])])],2)},staticRenderFns:[]};var o=i("VU/8")(n,a,!1,function(t){i("68nV")},"data-v-45875b17",null);s.default=o.exports}});