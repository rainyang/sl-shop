webpackJsonp([212],{Lp8A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mvHQ"),a=n.n(i),r=n("Pexp"),o=n("Tg7E"),c={mixins:[n("vsZy").a],data:function(){return{radio:"对公账户",switch1:!0,receiverAccountNoEnc:"",receiverNameEnc:"",receiverBankChannelNo:"",private:!0,public:!0,privateLi:!0,val:"",status:!1}},activated:function(){this.getShow(),this.editInfo()},mounted:function(){"对私账户"==this.radio?this.privateLi=!1:"对公账户"==this.radio&&(this.privateLi=!0)},methods:{change:function(){this.status=!0,this.receiverAccountNoEnc=""},getShow:function(){var e=this;$http.get("plugin.converge_pay.frontend.controllers.converge-pay-bank-card.create").then(function(t){1===t.result?"1"==t.data.all?(e.private=!0,e.public=!0):("1"==t.data.private&&(e.private=!0,e.radio="对私账户"),"1"==t.data.public&&(e.public=!0,e.radio="对公账户"),"1"==t.data.public&&"1"==t.data.private&&(e.public=!0,e.private=!0,e.radio="对公账户")):o.MessageBox.alert(t.msg)},function(e){})},changeOut:function(e){"对私账户"==e?this.privateLi=!1:"对公账户"==e&&(this.privateLi=!0)},addTiJiao:function(){var e=this;if(console.log("修改银行卡"),""!=this.receiverAccountNoEnc)if(""!=this.receiverNameEnc)if(this.privateLi&&""==this.receiverBankChannelNo)Object(o.Toast)("请输入对公账户");else{var t="";"对公账户"==this.radio?t=204:"对私账户"==this.radio&&(t=201);var n=[{receiverAccountNoEnc:this.receiverAccountNoEnc,receiverAccountType:t,receiverNameEnc:this.receiverNameEnc,receiverBankChannelNo:this.receiverBankChannelNo,default:this.switch1?"1":"0"}];n=a()(n),$http.get("plugin.converge_pay.frontend.controllers.converge-pay-bank-card.edit",{data:n,id:this.$route.params.id}).then(function(t){1===t.result?(o.MessageBox.alert(t.msg),setTimeout(function(){e.$router.push(e.fun.getUrl("bankCardInformation"))},1e3)):o.MessageBox.alert(t.msg)},function(e){})}else Object(o.Toast)("请输入持卡人名称");else Object(o.Toast)("请输入银行卡卡号")},editInfo:function(){var e=this;$http.get("plugin.converge_pay.frontend.controllers.converge-pay-bank-card.edit",{id:this.$route.params.id}).then(function(t){console.log(t,"res"),"1"==t.result?(e.receiverAccountNoEnc=t.data.receiverAccountNoEnc,e.receiverAccountType=t.data.receiverAccountType,e.receiverNameEnc=t.data.receiverNameEnc,e.receiverBankChannelNo=t.data.receiverBankChannelNo,e.fun.isTextEmpty(t.data.has_one_default)?e.switch1=!1:"0"==t.data.has_one_default.default?e.switch1=!1:e.switch1=!0,"204"==e.receiverAccountType?(e.radio="对公账户",e.privateLi=!0):"201"==e.receiverAccountType&&(e.radio="对私账户",e.privateLi=!1),e.status=!1):o.MessageBox.alert(t.msg)})},deleteChange:function(){var e=this;$http.get("plugin.converge_pay.frontend.controllers.converge-pay-bank-card.destroy",{id:this.$route.params.id}).then(function(t){t.result,o.MessageBox.alert(t.msg),e.$router.push(e.fun.getUrl("bankCardInformation"))})}},components:{cTitle:r.a}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bankcardinformmationsedit"}},[n("c-title",{attrs:{hide:!1,text:"银行卡信息"}}),e._v(" "),n("div",{staticStyle:{height:"40px"}}),e._v(" "),n("div",{staticClass:"big_bank_box"},[n("ul",{staticClass:"bank_ul"},[n("li",[n("div",[e._v("\n          账户类型：\n        ")]),e._v(" "),n("div",{staticClass:"bank_radio",staticStyle:{height:"4rem",width:"84%"}},[n("yd-radio-group",{staticStyle:{height:"4rem",display:"flex",width:"84%"},attrs:{color:"#5677fc",size:"14",callback:e.changeOut},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e.public?n("yd-radio",{staticStyle:{height:"4rem",width:"40%",display:"flex","align-items":"center","line-height":"2rem"},attrs:{val:"对公账户"}}):e._e(),e._v(" "),e.private?n("yd-radio",{staticStyle:{height:"4rem",width:"50%",display:"flex","align-items":"center","line-height":"2rem"},attrs:{val:"对私账户"}}):e._e()],1)],1)]),e._v(" "),n("li",[n("div",[e._v("\n          银行帐号：\n        ")]),e._v(" "),e.status?e._e():n("span",[e._v(e._s(e.receiverAccountNoEnc))]),e._v(" "),!0===e.status?n("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverAccountNoEnc,expression:"receiverAccountNoEnc"}],attrs:{type:"text",placeholder:"请输入银行卡卡号"},domProps:{value:e.receiverAccountNoEnc},on:{input:function(t){t.target.composing||(e.receiverAccountNoEnc=t.target.value)}}}):e._e()]),e._v(" "),n("li",[n("div",[e._v("\n          持卡人：\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverNameEnc,expression:"receiverNameEnc"}],attrs:{type:"text",readonly:!e.status&&"readonly",placeholder:"请输入持卡人名称"},domProps:{value:e.receiverNameEnc},on:{input:function(t){t.target.composing||(e.receiverNameEnc=t.target.value)}}})]),e._v(" "),e.privateLi?n("li",[n("div",[e._v("\n          账户联行号：\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverBankChannelNo,expression:"receiverBankChannelNo"}],attrs:{type:"text",readonly:!e.status&&"readonly",placeholder:"对公账户必须填写"},domProps:{value:e.receiverBankChannelNo},on:{input:function(t){t.target.composing||(e.receiverBankChannelNo=t.target.value)}}})]):e._e(),e._v(" "),n("li",{staticStyle:{border:"none"}},[n("div",{staticStyle:{width:"6.69rem"}},[e._v("\n          设为默认账户：\n        ")]),e._v(" "),n("div",{staticClass:"bank_swich",staticStyle:{"text-align":"right"}},[n("yd-switch",{attrs:{color:"#f15353"},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}})],1)])])]),e._v(" "),e.status?n("div",{staticClass:"bank_butto",on:{click:e.addTiJiao}},[e._v("\n    确认修改\n  ")]):n("div",{staticClass:"bank_butto",on:{click:e.change}},[e._v("\n    点击修改\n  ")]),e._v(" "),n("div",{staticClass:"bank_button_delete",on:{click:e.deleteChange}},[e._v("\n    删除账户\n  ")])],1)},staticRenderFns:[]};var l=n("VU/8")(c,s,!1,function(e){n("V/zD")},"data-v-bd3841ca",null);t.default=l.exports},"V/zD":function(e,t,n){var i=n("V1B2");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("51237c3c",i,!0,{})},V1B2:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n#bankcardinformmationsedit .big_bank_box[data-v-bd3841ca] {\n  left: 0rem;\n  top: 5.44rem;\n  width: 23.44rem;\n  height: 19.31rem;\n  line-height: 1.25rem;\n  text-align: center;\n}\n#bankcardinformmationsedit .big_bank_box .bank_ul[data-v-bd3841ca] {\n    padding-left: 5px;\n}\n#bankcardinformmationsedit .big_bank_box .bank_ul li[data-v-bd3841ca] {\n      height: 4rem;\n      line-height: 4rem;\n      padding-left: 1rem;\n      border-bottom: 1px solid #c6c6c6;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      text-align: left;\n}\n#bankcardinformmationsedit .big_bank_box .bank_ul li input[data-v-bd3841ca] {\n        border: none;\n}\n#bankcardinformmationsedit .big_bank_box .bank_ul li div[data-v-bd3841ca] {\n        left: 0.81rem;\n        top: 6.88rem;\n        width: 5.69rem;\n        height: 1.38rem;\n        color: #101010;\n        font-size: 0.94rem;\n        text-align: left;\n        font-family: SourceHanSansSC-regular;\n}\n#bankcardinformmationsedit .big_bank_box .bank_ul li .bank_swich[data-v-bd3841ca] {\n        left: 17.94px;\n        top: 21.31px;\n        width: 4.69rem;\n        height: 2.5rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        height: 4rem;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        margin-left: 10rem;\n}\n#bankcardinformmationsedit .bank_butto[data-v-bd3841ca] {\n  left: 0.75rem;\n  top: 26.56rem;\n  width: 21.88rem;\n  height: 2.69rem;\n  border-radius: 0.25rem;\n  background-color: #259b24;\n  color: white;\n  font-size: 0.88rem;\n  text-align: center;\n  font-family: Microsoft Yahei;\n  margin: 2rem auto;\n  line-height: 2.69rem;\n}\n#bankcardinformmationsedit .bank_button_delete[data-v-bd3841ca] {\n  left: 0.75rem;\n  top: 31.19rem;\n  width: 21.88rem;\n  height: 2.69rem;\n  line-height: 2.69rem;\n  border-radius: 0.25rem;\n  background-color: #dd2727;\n  color: white;\n  font-size: 0.88rem;\n  text-align: center;\n  font-family: Microsoft Yahei;\n  margin: 1rem auto;\n}\n",""])}});