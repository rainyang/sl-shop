webpackJsonp([126],{BOMy:function(t,i,e){t.exports=e.p+"static/app/img/regionalmanagement.c1d9d28.png"},N0rX:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Pexp"),n=e("Tg7E"),o={data:function(){return{address:{city:[],province:[],district:[],street:[]},regionallevel:"",Provinces:"",Provinceid:"",city:"",cityid:"",district:"",districtid:"",street:"",streetid:"",regionallevelshow:!1,Provincesshow:!1,cityshow:!1,districtshow:!1,streetshow:!1,regionallevelcolumns:[],Provincesshowcolumns:[],Provincesshow_1:!1,cityshow_1:!1,citycolumns:[],districtshow_1:!1,districtcolumns:[],streetshow_1:!1,streetcolumns:[],disabledbtn:!0,goods_id:"",tipsmsg:"该地区不可选",noticePurchaseData:""}},activated:function(){this.initialization(),this.getregionallevel(),this.getNoticePurchase()},methods:{getNoticePurchase:function(){var t=this;$http.get("plugin.team-manage.frontend.getAgreement.index",{}).then(function(i){1==i.result&&(t.noticePurchaseData=i.data.agreement)},function(t){})},seleRegional:function(){this.regionallevelshow=!0},seleRegionalConfirmbtn:function(t){var i=t;this.regionallevel=i.text,this.seleRegionallevel=i.level,this.addressinit(),1==i.level?(this.Provincesshow=!0,this.cityshow=!1,this.districtshow=!1,this.streetshow=!1):2==i.level?(this.Provincesshow=!0,this.cityshow=!0,this.districtshow=!1,this.streetshow=!1):3==i.level?(this.Provincesshow=!0,this.cityshow=!0,this.districtshow=!0,this.streetshow=!1):4==i.level&&(this.Provincesshow=!0,this.cityshow=!0,this.districtshow=!0,this.streetshow=!0),this.regionallevelshow=!1,this.checkbutton()},addressinit:function(){this.Provinces="",this.Provinceid="",this.city="",this.cityid="",this.district="",this.districtid="",this.street="",this.streetid=""},getregionallevel:function(){var t=this;this.regionallevelcolumns=[];$http.get("plugin.team-manage.frontend.getAreaLevel.index").then(function(i){if(1==i.result)for(var e=i.data.area_level,s=0;s<e.length;s++){var n=e[s].level,o=e[s].name;t.regionallevelcolumns.push({text:o,level:n})}},function(t){})},initialization:function(){var t=this;t.Provincesshowcolumns=[],$http.get("member.member-address.address").then(function(i){if(1==i.result){t.address.city=i.data.city,t.address.province=i.data.province,t.address.district=i.data.district;for(var e=0;e<t.address.province.length;e++){var s=t.address.province[e].areaname,n=t.address.province[e].id;t.Provincesshowcolumns.push({text:s,id:n})}}},function(t){})},ProvincesConfirmbtn:function(t){var i=t,e=i.id;this.Provinceid=e,this.Provinces=i.text,this.cityinit(),this.city="",this.cityid="",this.district="",this.districtid="",this.street="",this.streetid="",this.Provincesshow_1=!1,this.checkbutton()},Provincesbtn:function(){this.regionallevel?this.Provincesshowcolumns.length>0?this.Provincesshow_1=!0:Object(n.Toast)("省份数据正在获取中...."):Object(n.Toast)("请选择区域等级")},cityinit:function(){this.citycolumns=[];for(var t=0;t<this.address.city.length;t++)if(this.Provinceid==this.address.city[t].parentid){var i=this.address.city[t].areaname,e=this.address.city[t].id;this.citycolumns.push({text:i,id:e})}},cityConfirmbtn:function(t){var i=t,e=i.id;this.cityid=e,this.city=i.text,this.district="",this.districtid="",this.street="",this.streetid="",this.districtint(),this.cityshow_1=!1,this.checkbutton()},citybtn:function(){this.Provinces?(this.citycolumns.length>0||Object(n.Toast)("城市数据正在获取中...."),this.cityshow_1=!0):Object(n.Toast)("请选择省份")},districtint:function(){this.districtcolumns=[];for(var t=0;t<this.address.district.length;t++)if(this.cityid==this.address.district[t].parentid){var i=this.address.district[t].areaname,e=this.address.district[t].id;this.districtcolumns.push({text:i,id:e})}},districtConfirmbtn:function(t){var i=t,e=i.id;this.districtid=e,this.district=i.text,this.street="",this.streetid="",this.getStreet(),this.districtshow_1=!1,this.checkbutton()},districtbtn:function(){this.city?this.districtcolumns.length>0?this.districtshow_1=!0:Object(n.Toast)("区/县数据正在获取中...."):Object(n.Toast)("请选择城市")},getStreet:function(){this.streetcolumns=[];var t=this;$http.get("member.memberAddress.street",{district_id:this.districtid}).then(function(i){if(1==i.result){t.address.street=i.data;for(var e=0;e<t.address.street.length;e++){var s=t.address.street[e].areaname,n=t.address.street[e].id;t.streetcolumns.push({text:s,id:n})}}},function(t){})},streetConfirmbtn:function(t){var i=t,e=i.id;this.streetid=e,this.street=i.text,this.streetshow_1=!1,this.checkbutton()},streetbtn:function(){this.district?this.streetcolumns.length>0?this.streetshow_1=!0:Object(n.Toast)("街道数据正在获取中...."):Object(n.Toast)("请选择区/县")},checkbutton:function(){1==this.seleRegionallevel?this.Provinceid?this.validationOptional():this.disabledbtn=!0:2==this.seleRegionallevel?this.Provinceid&&this.cityid?this.validationOptional():this.disabledbtn=!0:3==this.seleRegionallevel?this.Provinceid&&this.cityid&&this.districtid?this.validationOptional():this.disabledbtn=!0:4==this.seleRegionallevel&&(this.Provinceid&&this.cityid&&this.districtid&&this.streetid?this.validationOptional():this.disabledbtn=!0)},validationOptional:function(){var t=this,i={};1==this.seleRegionallevel?i={level:this.seleRegionallevel,province_id:this.Provinceid}:2==this.seleRegionallevel?i={level:this.seleRegionallevel,province_id:this.Provinceid,city_id:this.cityid}:3==this.seleRegionallevel?i={level:this.seleRegionallevel,province_id:this.Provinceid,city_id:this.cityid,district_id:this.districtid}:4==this.seleRegionallevel&&(i={level:this.seleRegionallevel,province_id:this.Provinceid,city_id:this.cityid,district_id:this.districtid,street_id:this.streetid}),$http.get("plugin.team-manage.frontend.subArea.index",i).then(function(i){if(1==i.result){var e=i.data.goods_id;t.goods_id=e,t.disabledbtn=!1}else t.tipsmsg=i.msg,t.disabledbtn=!0},function(t){})},goaddressgoodsbtn:function(){if(this.disabledbtn){if(!this.regionallevel)return Object(n.Toast)("请选择区域等级"),!1;if(1==this.seleRegionallevel){if(!this.Provinceid)return Object(n.Toast)("请选择省份"),!1}else if(2==this.seleRegionallevel){if(!this.Provinceid||!this.cityid)return Object(n.Toast)("请选择省份、城市"),!1}else if(3==this.seleRegionallevel){if(!(this.Provinceid&&this.cityid&&this.districtid))return Object(n.Toast)("请选择省份、城市、区/县"),!1}else if(4==this.seleRegionallevel&&!(this.Provinceid&&this.cityid&&this.districtid&&this.streetid))return Object(n.Toast)("请选择省份、城市、区/县、街道"),!1;Object(n.Toast)(this.tipsmsg)}else 1==this.seleRegionallevel?(window.localStorage.setItem("level",this.seleRegionallevel),window.localStorage.setItem("province_id",this.Provinceid)):2==this.seleRegionallevel?(window.localStorage.setItem("level",this.seleRegionallevel),window.localStorage.setItem("province_id",this.Provinceid),window.localStorage.setItem("city_id",this.cityid)):3==this.seleRegionallevel?(window.localStorage.setItem("level",this.seleRegionallevel),window.localStorage.setItem("province_id",this.Provinceid),window.localStorage.setItem("city_id",this.cityid),window.localStorage.setItem("district_id",this.districtid)):4==this.seleRegionallevel&&(window.localStorage.setItem("level",this.seleRegionallevel),window.localStorage.setItem("province_id",this.Provinceid),window.localStorage.setItem("city_id",this.cityid),window.localStorage.setItem("district_id",this.districtid),window.localStorage.setItem("street_id",this.streetid)),this.$router.push(this.fun.getUrl("goods",{id:this.goods_id},{nocart:"true"}))}},components:{cTitle:s.a}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"income"}},[e("div",{staticClass:"supplier"},[e("c-title",{attrs:{hide:!1,text:"选择区域"}}),t._v(" "),e("div",{staticStyle:{height:"40px"}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"welcome"},[e("div",{staticClass:"info"},[e("div",{staticClass:"inptent",on:{click:t.seleRegional}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.regionallevel,expression:"regionallevel"}],staticClass:"inp",attrs:{type:"text",placeholder:"请选择区域等级",readonly:""},domProps:{value:t.regionallevel},on:{input:function(i){i.target.composing||(t.regionallevel=i.target.value)}}})]),t._v(" "),t.Provincesshow?e("div",{staticClass:"inptent",on:{click:t.Provincesbtn}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Provinces,expression:"Provinces"}],staticClass:"inp",attrs:{type:"text",placeholder:"请选择省份",readonly:""},domProps:{value:t.Provinces},on:{input:function(i){i.target.composing||(t.Provinces=i.target.value)}}})]):t._e(),t._v(" "),t.cityshow?e("div",{staticClass:"inptent",on:{click:t.citybtn}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"inp",attrs:{type:"text",placeholder:"请选择城市",readonly:""},domProps:{value:t.city},on:{input:function(i){i.target.composing||(t.city=i.target.value)}}})]):t._e(),t._v(" "),t.districtshow?e("div",{staticClass:"inptent",on:{click:t.districtbtn}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.district,expression:"district"}],staticClass:"inp",attrs:{type:"text",placeholder:"请选择区/县",readonly:""},domProps:{value:t.district},on:{input:function(i){i.target.composing||(t.district=i.target.value)}}})]):t._e(),t._v(" "),t.streetshow?e("div",{staticClass:"inptent",on:{click:t.streetbtn}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"inp",attrs:{type:"text",placeholder:"请选择街道",readonly:""},domProps:{value:t.street},on:{input:function(i){i.target.composing||(t.street=i.target.value)}}})]):t._e(),t._v(" "),e("div",{staticClass:"inptent",on:{click:t.goaddressgoodsbtn}},[e("input",{staticClass:"btn",class:{disabledbtn:t.disabledbtn},attrs:{type:"submit"},domProps:{value:t.disabledbtn?"该区域不可选":"提交"}})])])]),t._v(" "),e("p",{staticClass:"notice_purchase\n",domProps:{innerHTML:t._s(t.noticePurchaseData)}})])],1),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",height:"100%","padding-top":"2.5rem"},attrs:{position:"left","popup-transition":"popup-fade"},model:{value:t.regionallevelshow,callback:function(i){t.regionallevelshow=i},expression:"regionallevelshow"}},[e("yd-navbar",{attrs:{title:"代理等级",height:"2.5rem",fontsize:"16px",fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(i){t.regionallevelshow=!1}}})],1)]),t._v(" "),t._l(t.regionallevelcolumns,function(i,s){return e("yd-cell-item",{key:s,attrs:{arrow:""},nativeOn:{click:function(e){return t.seleRegionalConfirmbtn(i)}}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(i.text))])])})],2),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",height:"100%","padding-top":"2.5rem"},attrs:{position:"left","popup-transition":"popup-fade"},model:{value:t.Provincesshow_1,callback:function(i){t.Provincesshow_1=i},expression:"Provincesshow_1"}},[e("yd-navbar",{attrs:{title:"省级区域",height:"2.5rem",fontsize:"16px",fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(i){t.Provincesshow_1=!1}}})],1)]),t._v(" "),e("div",{staticClass:"scroll"},t._l(t.Provincesshowcolumns,function(i,s){return e("yd-cell-item",{key:s,attrs:{arrow:""},nativeOn:{click:function(e){return t.ProvincesConfirmbtn(i)}}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(i.text))])])}),1)],1),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",height:"100%","padding-top":"2.5rem"},attrs:{position:"left","popup-transition":"popup-fade"},model:{value:t.cityshow_1,callback:function(i){t.cityshow_1=i},expression:"cityshow_1"}},[e("yd-navbar",{attrs:{title:"市级区域",height:"2.5rem",fontsize:"16px",fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(i){t.cityshow_1=!1}}})],1)]),t._v(" "),e("div",{staticClass:"scroll"},t._l(t.citycolumns,function(i,s){return e("yd-cell-item",{key:s,attrs:{arrow:""},nativeOn:{click:function(e){return t.cityConfirmbtn(i)}}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(i.text))])])}),1)],1),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",height:"100%","padding-top":"2.5rem"},attrs:{position:"left","popup-transition":"popup-fade"},model:{value:t.districtshow_1,callback:function(i){t.districtshow_1=i},expression:"districtshow_1"}},[e("yd-navbar",{attrs:{title:"区/县级区域",height:"2.5rem",fontsize:"16px",fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(i){t.districtshow_1=!1}}})],1)]),t._v(" "),e("div",{staticClass:"scroll"},t._l(t.districtcolumns,function(i,s){return e("yd-cell-item",{key:s,attrs:{arrow:""},nativeOn:{click:function(e){return t.districtConfirmbtn(i)}}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(i.text))])])}),1)],1),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{position:"left","popup-transition":"popup-fade"},model:{value:t.streetshow_1,callback:function(i){t.streetshow_1=i},expression:"streetshow_1"}},[e("yd-navbar",{attrs:{title:"街道/乡镇区域",height:"2.5rem",fontsize:"14px",fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(i){t.streetshow_1=!1}}})],1)]),t._v(" "),e("div",{staticStyle:{clear:"both","margin-top":"2.5rem"}}),t._v(" "),e("div",{staticStyle:{height:"90%","overflow-y":"scroll"}},t._l(t.streetcolumns,function(i,s){return e("yd-cell-item",{key:s,attrs:{arrow:""},nativeOn:{click:function(e){return t.streetConfirmbtn(i)}}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(i.text))])])}),1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"banner"},[i("img",{attrs:{src:e("BOMy")}})])}]};var l=e("VU/8")(o,r,!1,function(t){e("dOlB")},"data-v-447f67ca",null);i.default=l.exports},dOlB:function(t,i,e){var s=e("klql");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("7d7e4b4c",s,!0,{})},klql:function(t,i,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.supplier .banner img[data-v-447f67ca] {\n  width: 100%;\n}\n.supplier .main[data-v-447f67ca] {\n  position: relative;\n  top: -0.25rem;\n}\n.notice_purchase[data-v-447f67ca] {\n  padding: 0.4rem;\n  text-align: left;\n}\ninput[data-v-447f67ca] {\n  border-width: 0;\n  position: absolute;\n  right: 0px;\n}\n.welcome[data-v-447f67ca] {\n  padding: 0.625rem;\n  background: #ffffff;\n}\n.welcome .text p[data-v-447f67ca] {\n    font-size: 12px;\n    color: #666;\n    line-height: 1.2rem;\n    margin-top: 0;\n}\n.welcome .text p span[data-v-447f67ca] {\n      color: #f55955;\n}\n.welcome .info[data-v-447f67ca] {\n    margin-top: 0.625rem;\n}\n.welcome .info input[data-v-447f67ca] {\n      position: relative;\n      display: block;\n      margin-bottom: 0.5rem;\n      width: 100%;\n      height: 2rem;\n      border-radius: 0.3125rem;\n      padding: 0 0.3125rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      outline: none;\n}\n.welcome .info .inp1[data-v-447f67ca] {\n      border: 0.0625rem solid #b8b8b8;\n}\n.welcome .info .inp[data-v-447f67ca] {\n      border: 0.0625rem solid #b8b8b8;\n}\n.welcome .info span[data-v-447f67ca] {\n      color: #f55955;\n}\n.welcome .info .btn[data-v-447f67ca] {\n      background: #f55955;\n      color: #ffffff;\n      margin-bottom: 0.5rem;\n      width: 100%;\n      height: 2rem;\n      border-radius: 0.3125rem;\n      padding: 0 0.3125rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      text-align: center;\n      font-size: 12px;\n      line-height: 2rem;\n}\n.welcome .info .btn i[data-v-447f67ca] {\n        display: inline-block;\n}\n.welcome .info .disabledbtn.btn[data-v-447f67ca] {\n      background: #cccccc;\n      color: #ffffff;\n}\n.scroll[data-v-447f67ca] {\n  height: 100%;\n  overflow-y: scroll;\n}\n",""])}});