webpackJsonp([143],{"Akx+":function(e,t,i){var a=i("ikL6");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("14d787c7",a,!0,{})},SiRb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Tg7E"),n=i("Pexp"),o=i("vsZy"),s=i("8mjC"),r={mixins:[o.a],data:function(){return{homepageData:{},micuid:"",catelist:[],mainCommentShow:!1,maincomment:"",active:0,catelist_1:[],catelist_2:[],isLoadMore:!0,page:1,total_page:0,getMoreType:1}},activated:function(){this.$route.query.micuid&&(this.micuid=this.$route.query.micuid),this.getHomepageData()},mounted:function(){},methods:{pageInit:function(){this.page=1,this.total_page=0,this.isLoadMore=!0},getHomepageData:function(){var e=this,t=this,i={};this.micuid&&(i.uid=this.micuid),$http.post("plugin.micro-communities.api.user.index",i,"").then(function(i){1==i.result?(t.homepageData=i.data,t.micuid=t.homepageData.uid,t.maincomment=i.data.signature?i.data.signature:"",t.initShare(),1==t.homepageData.is_own?(e.getMoreType=1,t.getClassification()):(e.getMoreType=3,t.getClassification())):Object(a.Toast)(i.msg)})},getClassification:function(){var e=this,t=this,i={};t.pageInit(),1==this.getMoreType?i.uid=t.micuid:2==this.getMoreType?i.is_praise=1:3==this.getMoreType&&(i.uid=t.micuid),$http.post("plugin.micro-communities.api.index.getStick",i,"").then(function(i){1==i.result?(t.total_page=i.data.last_page,3==e.getMoreType?t.catelist=i.data.data:1==e.getMoreType?t.catelist_1=i.data.data:2==e.getMoreType&&(t.catelist_2=i.data.data)):Object(a.Toast)(i.msg)})},jumpDetails:function(e){this.$router.push(this.fun.getUrl("microCommentDetails",{stickId:e}))},gotoFanList:function(){this.$router.push(this.fun.getUrl("microFanlist",{},{uid:this.micuid}))},attentionBtn:function(){this.homepageData.is_follow?this.cancelAttention():this.addAttention()},cancelAttention:function(){var e=this,t={uid:this.micuid};$http.post("plugin.micro-communities.api.user.delFollow",t).then(function(t){1==t.result?(e.$set(e.homepageData,"is_follow",!1),Object(a.Toast)(t.msg)):Object(a.Toast)(t.msg)})},addAttention:function(){var e=this,t={user_id:this.micuid};$http.post("plugin.micro-communities.api.user.addFollow",t).then(function(t){1==t.result?(e.$set(e.homepageData,"is_follow",!0),Object(a.Toast)(t.msg)):Object(a.Toast)(t.msg)})},initShare:function(){var e=this,t={url:"android"===this.fun.isIosOrAndroid()?window.location.href:window.initUrl};$http.post("member.member.wxJsSdkConfig",t).then(function(t){1===t.result&&t.data.config&&e.share(t.data)},function(e){console.log(e)})},share:function(e){var t=this;wx.config(e.config),wx.ready(function(){var i=t.homepageData.nickname+"的微社区",n=location.protocol+"//"+window.location.host+"/addons/yun_shop/#/microhomepage?mid="+e.info.uid+"&i="+e.info.uniacid+"&micuid="+t.micuid,o=t.homepageData.avatar?t.homepageData.avatar:"",s=t.homepageData.signature?t.homepageData.signature:"";wx.showOptionMenu(),wx.onMenuShareTimeline({title:i,link:n,imgUrl:o,success:function(){Object(a.Toast)("分享成功")},cancel:function(){Object(a.Toast)("取消分享")}}),wx.onMenuShareAppMessage({title:i,desc:s,link:n,imgUrl:o,type:"link",dataUrl:"",success:function(){Object(a.Toast)("分享成功")},cancel:function(){Object(a.Toast)("取消分享")}})})},getMoreData:function(){var e=this,t={};1==this.getMoreType?t.uid=e.micuid:2==this.getMoreType?t.is_praise=1:3==this.getMoreType&&(t.uid=e.micuid),e.isLoadMore=!1,this.page>=this.total_page||(this.page=this.page+1,t.page=this.page,$http.post("plugin.micro-communities.api.index.getStick",t,"加载中...").then(function(t){if(e.isLoadMore=!0,1!==t.result)return e.page=e.page-1,void(e.isLoadMore=!1);var i=t.data.data;3==this.getMoreType?e.catelist=e.catelist.concat(i):1==this.getMoreType?e.catelist_1=e.catelist_1.concat(i):2==this.getMoreType&&(e.catelist_2=e.catelist_2.concat(i))},function(e){}))},subMainBtn:function(){if(!this.maincomment)return Object(a.Toast)("请留下你的简介吧"),!1;var e=this,t={};t.contents=this.maincomment,$http.post("plugin.micro-communities.api.user.upSignature",t,"").then(function(t){1==t.result?(e.$set(e.homepageData,"signature",e.maincomment),Object(a.Toast)(t.msg),e.mainCommentShow=!1):(Object(a.Toast)(t.msg),e.mainCommentShow=!1)})},getClassificationBtn:function(e){1==e?(this.getMoreType=2,this.getClassification()):(this.getMoreType=1,this.getClassification())},introductionInp:function(){this.mainCommentShow=!0}},components:{cTitle:n.a,cFlow:s.a}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"microhomepage"}},[i("div",{staticStyle:{height:"20px",display:"block",background:"#fff"}}),e._v(" "),i("div",{staticClass:"header"},[i("div",{staticClass:"header_content"},[i("div",{staticClass:"header_left"},[i("img",{attrs:{src:e.homepageData.avatar,alt:""}})]),e._v(" "),i("div",{staticClass:"headet_right"},[i("div",{staticClass:"headet_right_top"},[i("div",{staticClass:"name"},[e._v(e._s(e.homepageData.nickname))]),e._v(" "),1!=e.homepageData.is_own?i("div",{staticClass:"attention",on:{click:e.attentionBtn}},[e._v(e._s(e.homepageData.is_follow?"已关注":"+关注"))]):e._e()]),e._v(" "),1==e.homepageData.is_own?i("div",{staticClass:"bottom",on:{click:e.introductionInp}},[e.homepageData.signature?[e._v(" "+e._s(e.homepageData.signature))]:[i("div",{staticClass:"b_left"},[e._v("个性签名")]),e._v(" "),e._m(0)]],2):e._e(),e._v(" "),1!=e.homepageData.is_own?i("div",{staticClass:"headet_right_bottom"},[e._v(e._s(e.homepageData.signature))]):e._e()])])]),e._v(" "),i("div",{staticClass:"display_page"},[i("div",{staticClass:"page_nav"},[i("ul",[i("li",[i("div",{staticClass:"left",on:{click:function(t){return e.gotoFanList()}}},[e._v("关注")]),e._v(" "),i("div",{staticClass:"right"},[e._v(e._s(e.homepageData.follow_num))])]),e._v(" "),i("li",[i("div",{staticClass:"left",on:{click:function(t){return e.gotoFanList()}}},[e._v("粉丝")]),e._v(" "),i("div",{staticClass:"right"},[e._v(e._s(e.homepageData.fans_num))])]),e._v(" "),i("li",[i("div",{staticClass:"left"},[e._v("获赞")]),e._v(" "),i("div",{staticClass:"right"},[e._v(e._s(e.homepageData.harvest_num))])])])]),e._v(" "),1!=e.homepageData.is_own?i("div",{staticClass:"page_nav_content"},[i("ul",{staticClass:"nav_label"},[i("li",[e._v("全部帖子("+e._s(e.homepageData.trick_num)+")")])]),e._v(" "),i("div",{staticClass:"video_list"},[i("c-flow",{attrs:{list:e.catelist}})],1)]):e._e(),e._v(" "),1==e.homepageData.is_own?i("van-tabs",{staticStyle:{background:"#f9f5f5"},attrs:{sticky:"",swipeable:""},on:{change:e.getClassificationBtn},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[i("van-tab",{attrs:{title:"帖子("+e.homepageData.trick_num+")"}},[i("div",{staticClass:"video_list"},["0"==e.active?i("c-flow",{attrs:{list:e.catelist_1}}):e._e()],1)]),e._v(" "),i("van-tab",{attrs:{title:"赞过("+e.homepageData.praise_num+")"}},[i("div",{staticClass:"video_list"},["1"==e.active?i("c-flow",{attrs:{list:e.catelist_2}}):e._e()],1)])],1):e._e()],1),e._v(" "),i("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.mainCommentShow,callback:function(t){e.mainCommentShow=t},expression:"mainCommentShow"}},[i("div",{staticClass:"replyMainComment"},[i("div",{staticClass:"left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maincomment,expression:"maincomment"}],attrs:{type:"text",placeholder:"请留下你的简介吧"},domProps:{value:e.maincomment},on:{input:function(t){t.target.composing||(e.maincomment=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"right",on:{click:e.subMainBtn}},[e._v("发送")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"b_right"},[t("img",{attrs:{src:i("vep+")}})])}]};var m=i("VU/8")(r,d,!1,function(e){i("Akx+")},"data-v-1cf34d82",null);t.default=m.exports},ikL6:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n#microhomepage .header[data-v-1cf34d82] {\n  padding-top: 0.94rem;\n  padding-bottom: 0.63rem;\n}\n#microhomepage .header .header_content[data-v-1cf34d82] {\n    width: 21.94rem;\n    height: 6.25rem;\n    margin: 0 auto;\n    background-color: #ffffff;\n    border-radius: 0.5rem;\n    -webkit-box-shadow: 0 0 0.4rem rgba(0, 0, 0, 0.2);\n            box-shadow: 0 0 0.4rem rgba(0, 0, 0, 0.2);\n    padding-left: 0.63rem;\n    padding-right: 0.66rem;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding-top: 1.25rem;\n}\n#microhomepage .header .header_content .header_left[data-v-1cf34d82] {\n      width: 3.75rem;\n      height: 3.75rem;\n      margin-right: 0.66rem;\n}\n#microhomepage .header .header_content .header_left img[data-v-1cf34d82] {\n        border-radius: 50%;\n        width: 100%;\n        height: 100%;\n}\n#microhomepage .header .header_content .headet_right[data-v-1cf34d82] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n#microhomepage .header .header_content .headet_right .headet_right_top[data-v-1cf34d82] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        padding-bottom: 0.66rem;\n}\n#microhomepage .header .header_content .headet_right .headet_right_top .name[data-v-1cf34d82] {\n          font-size: 1rem;\n          height: 1.63rem;\n          line-height: 1.63rem;\n          color: #333333;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          width: 8rem;\n          text-align: left;\n}\n#microhomepage .header .header_content .headet_right .headet_right_top .attention[data-v-1cf34d82] {\n          width: 5rem;\n          height: 1.63rem;\n          background-color: #f15353;\n          border-radius: 0.81rem;\n          line-height: 1.63rem;\n          font-size: 0.88rem;\n          color: #fff;\n}\n#microhomepage .header .header_content .headet_right .headet_right_bottom[data-v-1cf34d82] {\n        width: 100%;\n        font-size: 0.88rem;\n        line-height: 0.75rem;\n        color: #999999;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        text-align: left;\n}\n#microhomepage .header .header_content .headet_right .bottom[data-v-1cf34d82] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n}\n#microhomepage .header .header_content .headet_right .bottom .b_left[data-v-1cf34d82] {\n          color: #999999;\n          font-size: 0.88rem;\n}\n#microhomepage .header .header_content .headet_right .bottom .b_right[data-v-1cf34d82] {\n          width: 0.9rem;\n          height: 0.9rem;\n}\n#microhomepage .header .header_content .headet_right .bottom .b_right img[data-v-1cf34d82] {\n            width: 100%;\n            height: 100%;\n            display: block;\n}\n#microhomepage .display_page .page_nav[data-v-1cf34d82] {\n  background: #fff;\n  border-bottom: 0.06rem solid #e5e5e5;\n}\n#microhomepage .display_page .page_nav ul[data-v-1cf34d82] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding-left: 1.34rem;\n    padding-right: 1.34rem;\n}\n#microhomepage .display_page .page_nav ul li[data-v-1cf34d82] {\n      height: 2.5rem;\n      line-height: 2.5rem;\n      font-size: 1rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n#microhomepage .display_page .page_nav_content .nav_label[data-v-1cf34d82] {\n  background: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-left: 0.75rem;\n  padding-top: 0.63rem;\n  padding-right: 0.75rem;\n}\n#microhomepage .display_page .page_nav_content .nav_label li[data-v-1cf34d82] {\n    background-color: #f9f9f9;\n    border-radius: 0.75rem;\n    height: 1.5rem;\n    line-height: 1.5rem;\n    font-size: 0.88rem;\n    padding-left: 0.63rem;\n    padding-right: 0.63rem;\n    margin-bottom: 0.63rem;\n    margin-right: 0.63rem;\n}\n#microhomepage .display_page .video_list ul[data-v-1cf34d82] {\n  margin-top: 0.5rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n#microhomepage .display_page .video_list ul li[data-v-1cf34d82] {\n    border-radius: 0.38rem;\n    width: 10.59rem;\n    background-color: #ffffff;\n    padding-bottom: 0.69rem;\n    margin-bottom: 0.75rem;\n    overflow: hidden;\n}\n#microhomepage .display_page .video_list ul li .top[data-v-1cf34d82] {\n      min-height: 14.06rem;\n}\n#microhomepage .display_page .video_list ul li .top img[data-v-1cf34d82] {\n        width: 100%;\n}\n#microhomepage .display_page .video_list ul li .bottom[data-v-1cf34d82] {\n      padding-left: 0.59rem;\n}\n#microhomepage .display_page .video_list ul li .bottom .title[data-v-1cf34d82] {\n        padding-top: 0.63rem;\n        font-size: 0.84rem;\n        line-height: 0.84rem;\n        display: -webkit-box;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        text-align: left;\n        margin-bottom: 0.59rem;\n}\n#microhomepage .display_page .video_list ul li .bottom .content[data-v-1cf34d82] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .headmessage[data-v-1cf34d82] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .headmessage .left[data-v-1cf34d82] {\n            width: 1.13rem;\n            height: 1.13rem;\n            border-radius: 50%;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .headmessage .left img[data-v-1cf34d82] {\n              width: 100%;\n              height: 100%;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .headmessage .name[data-v-1cf34d82] {\n            margin-left: 0.31rem;\n            height: 1.13rem;\n            line-height: 1.13rem;\n            text-align: left;\n            color: #8c8c8c;\n            font-size: 0.69rem;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .thumbup[data-v-1cf34d82] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          padding-top: 0.16rem;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .thumbup .right[data-v-1cf34d82] {\n            width: 0.81rem;\n            height: 0.84rem;\n            margin-right: 0.38rem;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .thumbup .right img[data-v-1cf34d82] {\n              width: 100%;\n              height: 100%;\n}\n#microhomepage .display_page .video_list ul li .bottom .content .thumbup .num[data-v-1cf34d82] {\n            min-width: 2rem;\n            max-width: 8rem;\n            text-align: left;\n            color: #333333;\n            font-size: 0.75rem;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n}\n#microhomepage .replyMainComment[data-v-1cf34d82] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 0.8rem;\n  padding-bottom: 0.8rem;\n  padding-left: 1rem;\n}\n#microhomepage .replyMainComment .left[data-v-1cf34d82] {\n    width: 18.13rem;\n    height: 1.88rem;\n    background-color: #f5f5f5;\n    border-radius: 0.94rem;\n}\n#microhomepage .replyMainComment .left input[data-v-1cf34d82] {\n      border: none;\n      height: 100%;\n      width: 100%;\n      padding-left: 1rem;\n}\n#microhomepage .replyMainComment .right[data-v-1cf34d82] {\n    width: 3rem;\n    height: 1.88rem;\n    font-size: 0.94rem;\n    line-height: 1.88rem;\n    color: #333333;\n}\n",""])},"vep+":function(e,t,i){e.exports=i.p+"static/app/img/home_autograph@2x.e9cc660.png"}});