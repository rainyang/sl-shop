webpackJsonp([254],{"7QMx":function(e,t,n){var i=n("fFcl");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("4fe23cb0",i,!0,{})},"9ja1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("71e1"),a=n.n(i),o=n("Pexp"),s=n("Tg7E"),r="",c={data:function(){return{info:{},title:"",success:!1,timer:null}},mounted:function(){this.$nextTick(function(){r=document.getElementById("qrccode-canvas")})},activated:function(){this.info={},this.title="",this.success=!1,"codePage"===this.$route.name?(this.title="支付码",this.getPayCode()):(this.title="会员卡号",this.getMemberCode())},deactivated:function(){this.timer&&clearInterval(this.timer)},methods:{freshCode:function(){var e=this;this.timer=setInterval(function(){e.getPayCode()},6e4)},getMemberCode:function(){var e=this;$http.get("member.member-qr-code.member-code",{},"loading").then(function(t){1===t.result?(e.info=t.data,e.$nextTick(function(){this.createQrc(this.info.uid.toString())})):Object(s.Toast)(t.msg)},function(e){Object(s.Toast)(e.msg)})},getPayCode:function(){var e=this;$http.get("member.member-qr-code.pay-code",{},"loading").then(function(t){1===t.result?(e.info=t.data,e.timer||e.freshCode(),e.$nextTick(function(){this.createQrc(this.info.code)})):(e.timer&&clearInterval(e.timer),Object(s.Toast)(t.msg))},function(e){this.timer&&clearInterval(this.timer),Object(s.Toast)(e.msg)})},createQrc:function(e){var t=this;a.a.toCanvas(r,e,function(e){e?console.log(e):(console.log("success"),t.success=!0)})}},components:{cTitle:o.a}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("c-title",{attrs:{hide:!1,text:e.title}}),e._v(" "),n("div",{staticStyle:{height:"40px"}}),e._v(" "),e.info.avatar_image?n("div",{staticClass:"topBox"},[n("img",{attrs:{src:e.info.avatar_image,alt:""}}),e._v(" "),n("span",[e._v(e._s(e.info.username))])]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.success,expression:"success"}],staticClass:"ewmBox"},[n("canvas",{attrs:{id:"qrccode-canvas"}})]),e._v(" "),n("div",[n("p",{directives:[{name:"show",rawName:"v-show",value:"会员卡号"===e.title,expression:"title==='会员卡号'"}],staticStyle:{"font-size":"16px","font-weight":"bold","margin-bottom":"1rem"}},[e._v(e._s(e.info.uid))]),e._v(" "),n("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v("向收银员出示"+e._s(e.title))])])],1)},staticRenderFns:[]};var l=n("VU/8")(c,f,!1,function(e){n("7QMx")},"data-v-92fb2fb8",null);t.default=l.exports},fFcl:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,'\n@charset "UTF-8";\n.topBox[data-v-92fb2fb8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 17.25rem;\n  margin: 1rem auto;\n}\n.topBox img[data-v-92fb2fb8] {\n    width: 3.125rem;\n    height: 3.125rem;\n    border-radius: 100%;\n    margin: 0 0.5rem 0 0;\n}\n.topBox span[data-v-92fb2fb8] {\n    display: inline-block;\n    color: #515a63;\n    font-size: 18px;\n    overflow: hidden;\n    /*超出部分隐藏*/\n    text-overflow: ellipsis;\n    /* 超出部分显示省略号 */\n    white-space: nowrap;\n    /*规定段落中的文本不进行换行 */\n    text-align: left;\n}\n.ewmBox[data-v-92fb2fb8] {\n  width: 17.25rem;\n  border: 1px solid #e4e4e4;\n  border-radius: 5%;\n  background: #ffffff;\n  overflow: hidden;\n  margin: 2rem auto;\n}\n.ewmBox p[data-v-92fb2fb8] {\n    color: #666666;\n    margin: 0.3rem auto 0;\n}\n.ewmBox #qrccode-canvas[data-v-92fb2fb8] {\n    width: 16.875rem !important;\n    height: 16.875rem !important;\n}\n',""])}});